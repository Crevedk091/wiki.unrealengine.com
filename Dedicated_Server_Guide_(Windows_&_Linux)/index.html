<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>wiki.unrealengine.com</title>
    <meta name="description" content="A static site pulled from the internet archive">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/wiki.unrealengine.com/assets/css/0.styles.b0e83839.css" as="style"><link rel="preload" href="/wiki.unrealengine.com/assets/js/app.aaf63946.js" as="script"><link rel="preload" href="/wiki.unrealengine.com/assets/js/2.4f53495e.js" as="script"><link rel="preload" href="/wiki.unrealengine.com/assets/js/446.b13d4d37.js" as="script">
    <link rel="stylesheet" href="/wiki.unrealengine.com/assets/css/0.styles.b0e83839.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wiki.unrealengine.com/" class="home-link router-link-active"><!----> <span class="site-name">wiki.unrealengine.com</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="content__default"><p>Dedicated Server Guide (Windows &amp; Linux) - Epic Wiki</p> <h1 id="dedicated-server-guide-windows-linux"><a href="#dedicated-server-guide-windows-linux" class="header-anchor">#</a> Dedicated Server Guide (Windows &amp; Linux)</h1> <p>From Epic Wiki</p> <p>Jump to: <a href="#mw-head">navigation</a>, <a href="#p-search">search</a></p> <p>Engine Version: 4.14, 4.15, 4.16, 4.17, 4.18</p> <p>NOTE - Apologies for the video quality of the tutorials. They were recorded in 1080p and decent quality but for some reason after uploading to you tube they became horribly blurred. I will redo them ASAP. Thanks</p> <h2 id="contents"><a href="#contents" class="header-anchor">#</a> Contents</h2> <ul><li><a href="#Section_1_Building_a_dedicated_server_in_Unreal_Engine_4">1 Section 1 Building a dedicated server in Unreal Engine 4</a> <ul><li><a href="#1._Download_the_Unreal_engine_from_source">1.1 1. Download the Unreal engine from source</a></li> <li><a href="#2._Setup_source_unreal_engine">1.2 2. Setup source unreal engine</a></li> <li><a href="#2.a_Setup_source_unreal_engine_To_use_Visual_studio_2017">1.3 2.a Setup source unreal engine To use Visual studio 2017</a></li> <li><a href="#Congratulations_-_you_should_have_now_successfully_setup_a_source_built_version_of_unreal_engine">1.4 Congratulations - you should have now successfully setup a source built version of unreal engine</a></li> <li><a href="#3._Video_guide">1.5 3. Video guide</a></li></ul></li> <li><a href="#Section_2_setting_up_a_dedicated_server_on_windows">2 Section 2 setting up a dedicated server on windows</a> <ul><li><a href="#1._Dedicated_Server_from_a_brand_new_project">2.1 1. Dedicated Server from a brand new project</a></li> <li><a href="#2._Dedicated_Server_from_a_blueprint_only_project">2.2 2. Dedicated Server from a blueprint only project</a></li> <li><a href="#3._preparing_the_project_for_building">2.3 3. preparing the project for building</a> <ul><li><a href="#1._Target_file_instructions_for_engine_version_4.14">2.3.1 1. Target file instructions for engine version 4.14</a></li> <li><a href="#2._Target_file_instructions_for_engine_version_4.15">2.3.2 2. Target file instructions for engine version 4.15</a></li> <li><a href="#3._Target_file_instructions_for_engine_version_4.16">2.3.3 3. Target file instructions for engine version 4.16</a></li> <li><a href="#4._Target_file_instructions_for_engine_version_4.17">2.3.4 4. Target file instructions for engine version 4.17</a></li> <li><a href="#5._Target_file_instructions_for_engine_version_4.18">2.3.5 5. Target file instructions for engine version 4.18</a></li></ul></li> <li><a href="#4._Switch_Unreal_engine_versions_.26_generate_project_files">2.4 4. Switch Unreal engine versions &amp; generate project files</a></li> <li><a href="#5._Building_the_server">2.5 5. Building the server</a></li> <li><a href="#6._Fixing_the_lighting_swarm_error">2.6 6. Fixing the lighting swarm error</a></li> <li><a href="#6.a_Video_Guide">2.7 6.a Video Guide</a></li> <li><a href="#7._Prepare_the_project_for_packaging">2.8 7. Prepare the project for packaging</a></li> <li><a href="#8._setup_packaging_settings">2.9 8. setup packaging settings</a></li> <li><a href="#9._Congratulations_you_have_now_packaged_your_project_yay_:-p">2.10 9. Congratulations you have now packaged your project yay :-p</a></li></ul></li> <li><a href="#Section_3_launching_and_joining_the_dedicated_server">3 Section 3 launching and joining the dedicated server</a> <ul><li><a href="#1._copy_the_server_executable">3.1 1. copy the server executable</a></li> <li><a href="#2._create_the_server_shortcut_and_setup_log_options">3.2 2. create the server shortcut and setup log options</a></li> <li><a href="#3._Launch_and_test_the_server">3.3 3. Launch and test the server</a></li></ul></li> <li><a href="#Section_4_notes">4 Section 4 notes</a> <ul><li><a href="#1._allowing_friends_to_join_over_internet">4.1 1. allowing friends to join over internet</a></li> <li><a href="#2._Hosting_on_a_virtual_server">4.2 2. Hosting on a virtual server</a></li> <li><a href="#3._Creating_additional_maps_and_joining_different_maps">4.3 3. Creating additional maps and joining different maps</a></li> <li><a href="#4._Enabling_Physics">4.4 4. Enabling Physics</a></li></ul></li> <li><a href="#Section_5">5 Section 5</a> <ul><li><a href="#1._Im_too_lazy_for_all_this_just_give_me_the_files">5.1 1. Im too lazy for all this just give me the files</a></li></ul></li> <li><a href="#section_6_Contact_the_author">6 section 6 Contact the author</a> <ul><li><a href="#1.">6.1 1.</a></li></ul></li> <li><a href="#section_7_Building_and_deploying_a_UE4_dedicated_server_for_Linux">7 section 7 Building and deploying a UE4 dedicated server for Linux</a> <ul><li><a href="#1._Configure_Visual_Studio_for_Linux_cross_compilation">7.1 1. Configure Visual Studio for Linux cross compilation</a></li> <li><a href="#2._Package_your_project_to_a_distinct_location">7.2 2. Package your project to a distinct location</a></li> <li><a href="#3._Build_a_dedicated_server_binary_for_Linux">7.3 3. Build a dedicated server binary for Linux</a></li> <li><a href="#4._Deploy_your_binary_to_a_remote_machine">7.4 4. Deploy your binary to a remote machine</a></li> <li><a href="#5._Connect_to_your_server_and_run_the_dedicated_server_binary">7.5 5. Connect to your server and run the dedicated server binary</a></li> <li><a href="#6._Open_UDP:7777">7.6 6. Open UDP:7777</a></li> <li><a href="#7._Play_your_game_on_your_server">7.7 7. Play your game on your server</a></li> <li><a href="#8._Issues">7.8 8. Issues</a></li></ul></li> <li><a href="#8._Dedicated_Server_on_Steam">8 8. Dedicated Server on Steam</a></li></ul> <h2 id="section-1-building-a-dedicated-server-in-unreal-engine-4"><a href="#section-1-building-a-dedicated-server-in-unreal-engine-4" class="header-anchor">#</a> Section 1 Building a dedicated server in Unreal Engine 4</h2> <p>Building a standalone dedicated server wasn’t an easy thing to do and i know a lot of people struggle with it so i decided to make this wiki guide to try and help people. I’m going to cover the steps I took to build a Windows executable of a dedicated server.</p> <h3 id="_1-download-the-unreal-engine-from-source"><a href="#_1-download-the-unreal-engine-from-source" class="header-anchor">#</a> 1. Download the Unreal engine from source</h3> <p>You’ll need a source-built version of the engine in order to build using the server solution configurations in Visual Studio.</p> <p>To build the engine from source go to <a href="https://github.com/EpicGames/UnrealEngine" target="_blank" rel="noopener noreferrer">https://github.com/EpicGames/UnrealEngine<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>Note: to see the content of the link above you need first to create a git hub account and associate it to your epic games account, then accept the invite of epic games on GitHub. You will then need to click the link and login to your account.</p> <p>Next select engine version and click the green clone/download button</p> <p><a href="/index.php?title=File:Select_engine.png"><img src="https://d26ilriwvtzlb.cloudfront.net/7/7b/Select_engine.png" alt="Select engine.png"></a></p> <p>there are several options but i always prefer to just download as zip file</p> <p>extract and unzip the zip file to a location of your choice.</p> <h3 id="_2-setup-source-unreal-engine"><a href="#_2-setup-source-unreal-engine" class="header-anchor">#</a> 2. Setup source unreal engine</h3> <p>open up the previously extracted folder and find a file called Setup.bat</p> <p>double click this file and it will open up a console window and begin installing unreal dependencies</p> <p>Note if you receive any errors when trying to open the .bat file then just right click instead and select run as administrator</p> <p><a href="/index.php?title=File:Setup.png"><img src="https://d26ilriwvtzlb.cloudfront.net/9/98/Setup.png" alt="Setup.png"></a></p> <p>now find a file called GenerateProjectFiles.bat</p> <p>double click this file or again right click and run as administrator</p> <p>once it is done you will then have a visual studios solution project file in your folder</p> <p><a href="/index.php?title=File:Solution.png"><img src="https://d26ilriwvtzlb.cloudfront.net/8/85/Solution.png" alt="Solution.png"></a></p> <h3 id="_2-a-setup-source-unreal-engine-to-use-visual-studio-2017"><a href="#_2-a-setup-source-unreal-engine-to-use-visual-studio-2017" class="header-anchor">#</a> 2.a Setup source unreal engine To use Visual studio 2017</h3> <p>If you are using visual studio 2017. Instead of clicking on the GenerateProjectFiles.bat as shown above. Open up a CMD prompt window. Navigate to the folder where source built unreal files are by using the cd (change directory) command. Once inside the correct directory you need to run the following command. &quot;GenerateProjectFiles.bat -2017&quot;</p> <p>this will then generate visual studio 2017 project files instead. full info can be found here <a href="https://answers.unrealengine.com/questions/579186/what-about-visual-studio-2017-in-ue4.html" target="_blank" rel="noopener noreferrer">https://answers.unrealengine.com/questions/579186/what-about-visual-studio-2017-in-ue4.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> _______________________________________________________________________________________________</p> <p>now open this solution file and it will open visual studios and begin loading the source code.</p> <p>note the first time you open the solution it normally takes a long time to parse all the header files . make sure you let it completely finish until it says ready at the bottom before you continue.</p> <p>next go up to where it says develop next to where it says win64 and in the drop down menu select DEVELOPMENT EDITOR</p> <p><a href="/index.php?title=File:Editor.png"><img src="https://d26ilriwvtzlb.cloudfront.net/a/a1/Editor.png" alt="Editor.png"></a></p> <p>next go to the solution explorer and right click the ue4 and select build</p> <p><a href="/index.php?title=File:Build.png"><img src="https://d26ilriwvtzlb.cloudfront.net/1/18/Build.png" alt="Build.png"></a></p> <p>note depending on your system this can again take quite a long time to complete</p> <p>once complete you then need to right click on ue4 again in the solution explorer and go to &quot;set as start up project&quot;</p> <p><a href="/index.php?title=File:Build.png"><img src="https://d26ilriwvtzlb.cloudfront.net/1/18/Build.png" alt="Build.png"></a></p> <p>finally go up to where it says local windows debugger and click the little green play button</p> <p><a href="/index.php?title=File:Debugger.png"><img src="https://d26ilriwvtzlb.cloudfront.net/e/ed/Debugger.png" alt="Debugger.png"></a></p> <p>you may get a warning pop up like this</p> <p><a href="/index.php?title=File:Warning2.png"><img src="https://d26ilriwvtzlb.cloudfront.net/3/37/Warning2.png" alt="Warning2.png"></a></p> <p>just click yes and the editor will begin to open.</p> <p>note again the first time it may take a while to open and can appear to be stuck on a certain percentage as if its frozen. just be patient and it will open.</p> <p><a href="/index.php?title=File:Shaders.png"><img src="https://d26ilriwvtzlb.cloudfront.net/2/2c/Shaders.png" alt="Shaders.png"></a></p> <p>it will compile all the shaders as well which can take a while the first time.</p> <p>What i do now is right click and add to task bar so that next time you can just open the engine directly rather than having to open visual studio and do it that way.</p> <h3 id="congratulations-you-should-have-now-successfully-setup-a-source-built-version-of-unreal-engine"><a href="#congratulations-you-should-have-now-successfully-setup-a-source-built-version-of-unreal-engine" class="header-anchor">#</a> Congratulations - you should have now successfully setup a source built version of unreal engine</h3> <h3 id="_3-video-guide"><a href="#_3-video-guide" class="header-anchor">#</a> 3. Video guide</h3> <p><a href="https://www.youtube.com/watch?v=u0jtHK7BdzY&amp;feature=youtu.be" target="_blank" rel="noopener noreferrer">https://www.youtube.com/watch?v=u0jtHK7BdzY&amp;feature=youtu.be<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="section-2-setting-up-a-dedicated-server-on-windows"><a href="#section-2-setting-up-a-dedicated-server-on-windows" class="header-anchor">#</a> Section 2 setting up a dedicated server on windows</h2> <h3 id="_1-dedicated-server-from-a-brand-new-project"><a href="#_1-dedicated-server-from-a-brand-new-project" class="header-anchor">#</a> 1. Dedicated Server from a brand new project</h3> <p>Open up source unreal engine, select c++ and third person template, give it a suitable name and save location</p> <p><a href="/index.php?title=File:Createproject.png"><img src="https://d26ilriwvtzlb.cloudfront.net/e/ef/Createproject.png" alt="Createproject.png"></a></p> <p>once the project and visual studio have finished completely loading, close them both down.</p> <p>Note again wait until the header files have all been parsed in visual studio before closing. it may prompt you to save just click ok.</p> <h3 id="_2-dedicated-server-from-a-blueprint-only-project"><a href="#_2-dedicated-server-from-a-blueprint-only-project" class="header-anchor">#</a> 2. Dedicated Server from a blueprint only project</h3> <p>if your project was made with a none source or different engine version or was simply only BLUEPRINTS to begin with you will not be able to make a dedicated server until you add some c++ code.</p> <p>So simply go to add new, c++ class, an empty class will suffice, and you can delete it later.</p> <p>Once you have a source directory, right click on the .uproject file and generate visual studio project files. This should create an .sln in the project directory that you can open in visual studio.</p> <h3 id="_3-preparing-the-project-for-building"><a href="#_3-preparing-the-project-for-building" class="header-anchor">#</a> 3. preparing the project for building</h3> <h4 id="_1-target-file-instructions-for-engine-version-4-14"><a href="#_1-target-file-instructions-for-engine-version-4-14" class="header-anchor">#</a> 1. Target file instructions for engine version 4.14</h4> <p>open up the previously created project folder from the file explorer inside there will be a folder called source . open this up</p> <p><a href="/index.php?title=File:Sourcefolder.png"><img src="https://d26ilriwvtzlb.cloudfront.net/d/df/Sourcefolder.png" alt="Sourcefolder.png"></a></p> <p>inside you will find some visual studio source files. take one of the source files and copy and paste it and then rename it to match the others . format is gamenameServer.Target.cs so in my case because my project game name is called test i would rename my file to testServer.Target.cs like so</p> <p><a href="/index.php?title=File:Testserver.png"><img src="https://d26ilriwvtzlb.cloudfront.net/0/04/Testserver.png" alt="Testserver.png"></a></p> <p>right click this newly created file and click edit</p> <p><a href="/index.php?title=File:Editfile.png"><img src="https://d26ilriwvtzlb.cloudfront.net/6/6d/Editfile.png" alt="Editfile.png"></a></p> <p>this will normally bring up a notepad so you can edit the file , although you can use any kind of text or code editor you wish. notepad is just quick and easy.</p> <p>delete anything that is in the file so it is completely blank and replace with this code/text</p> <p>// Copyright 1998-2016 Epic Games, Inc. All Rights Reserved.</p> <p>using UnrealBuildTool;
using System.Collections.Generic;</p> <p>public class ShooterGameServerTarget : TargetRules
{
public ShooterGameServerTarget(TargetInfo Target)
{
Type = TargetType.Server;
bUsesSteam = true;
}</p> <div class="language- extra-class"><pre><code>   //
   // TargetRules interface.
   //

   public override bool GetSupportedPlatforms(ref List&lt;UnrealTargetPlatform&gt; OutPlatforms)
   {
        // It is valid for only server platforms
        return UnrealBuildTool.UnrealBuildTool.GetAllServerPlatforms(ref OutPlatforms, false);
   }

   public override void SetupBinaries
   (
      TargetInfo Target, ref List&lt;UEBuildBinaryConfiguration&gt; OutBuildBinaryConfigurations,
      ref List&lt;string&gt; OutExtraModuleNames
   )
   {
     OutExtraModuleNames.Add(&quot;ShooterGame&quot;);
   }
</code></pre></div><p>}</p> <p>next you have to make 3 changes to the file</p> <p>first find this line of code at the top</p> <p>public class ShooterGameServerTarget : TargetRules</p> <p>and change it so that it has your game name instead so in my case my game is called test so i would change the line of code to this</p> <p>public class testServerTarget : TargetRules</p> <p>next underneath it find this line of code and do the same as before and change the name to match your game</p> <p>public ShooterGameServerTarget(TargetInfo Target)</p> <p>so again in my case my game name is test so i would change this line of code to this</p> <p>public testServerTarget(TargetInfo Target)</p> <p>and finally find this line of code and do the same as before and change the name to match your game</p> <p>OutExtraModuleNames.Add(&quot;ShooterGame&quot;);</p> <p>so again in my case my game is called test so i would change this line of code to this</p> <p>OutExtraModuleNames.Add(&quot;test&quot;);</p> <p>Now just save the file with the same name and close it.</p> <h4 id="_2-target-file-instructions-for-engine-version-4-15"><a href="#_2-target-file-instructions-for-engine-version-4-15" class="header-anchor">#</a> 2. Target file instructions for engine version 4.15</h4> <p>// Copyright 1998-2017 Epic Games, Inc. All Rights Reserved.</p> <p>using UnrealBuildTool;
using System.Collections.Generic;</p> <p>[SupportedPlatforms(UnrealPlatformClass.Server)]
public class ShooterGameServerTarget : TargetRules      // Change this line of code as shown in the previous steps
{</p> <div class="language- extra-class"><pre><code>public ShooterGameServerTarget(TargetInfo Target)  // Change this line of code as shown in the previous steps

   {

 Type = TargetType.Server;

  bUsesSteam = false;

   }

    //
    // TargetRules interface.
    //
        public override void SetupBinaries
        (
         TargetInfo Target,
         ref List&lt;UEBuildBinaryConfiguration&gt; OutBuildBinaryConfigurations,
         ref List&lt;string&gt; OutExtraModuleNames
         )
           {
            OutExtraModuleNames.Add(&quot;ShooterGame&quot;);     // Change this line of code as shown in the previous steps
           }
</code></pre></div><p>}</p> <h4 id="_3-target-file-instructions-for-engine-version-4-16"><a href="#_3-target-file-instructions-for-engine-version-4-16" class="header-anchor">#</a> 3. Target file instructions for engine version 4.16</h4> <p>// Copyright 1998-2017 Epic Games, Inc. All Rights Reserved.</p> <p>using UnrealBuildTool;
using System.Collections.Generic;</p> <p>[SupportedPlatforms(UnrealPlatformClass.Server)]
public class ShooterGameServerTarget : TargetRules    // Change this line of code as shown previously
{
public ShooterGameServerTarget(TargetInfo Target) : base(Target) // Change this line of code as shown previously
{
Type = TargetType.Server;
ExtraModuleNames.Add(&quot;ShooterGame&quot;);   // Change this line of code as shown previously
}
}</p> <h4 id="_4-target-file-instructions-for-engine-version-4-17"><a href="#_4-target-file-instructions-for-engine-version-4-17" class="header-anchor">#</a> 4. Target file instructions for engine version 4.17</h4> <p>// Copyright 1998-2017 Epic Games, Inc. All Rights Reserved.</p> <p>using UnrealBuildTool;
using System.Collections.Generic;</p> <p>[SupportedPlatforms(UnrealPlatformClass.Server)]
public class ShooterGameServerTarget : TargetRules   // Change this line as shown previously
{
public ShooterGameServerTarget(TargetInfo Target) : base(Target)  // Change this line as shown previously
{
Type = TargetType.Server;
ExtraModuleNames.Add(&quot;ShooterGame&quot;);    // Change this line as shown previously
}
}</p> <h4 id="_5-target-file-instructions-for-engine-version-4-18"><a href="#_5-target-file-instructions-for-engine-version-4-18" class="header-anchor">#</a> 5. Target file instructions for engine version 4.18</h4> <p>// Copyright 1998-2017 Epic Games, Inc. All Rights Reserved.</p> <p>using UnrealBuildTool;
using System.Collections.Generic;</p> <p>[SupportedPlatforms(UnrealPlatformClass.Server)]
public class ShooterGameServerTarget : TargetRules   // Change this line as shown previously
{
public ShooterGameServerTarget(TargetInfo Target) : base(Target)  // Change this line as shown previously
{
Type = TargetType.Server;
ExtraModuleNames.Add(&quot;ShooterGame&quot;);    // Change this line as shown previously
}
}</p> <h3 id="_4-switch-unreal-engine-versions-generate-project-files"><a href="#_4-switch-unreal-engine-versions-generate-project-files" class="header-anchor">#</a> 4. Switch Unreal engine versions &amp; generate project files</h3> <p>next inside the project folder right click the uproject file and when the menu pops up select &quot;switch unreal engine versions&quot;</p> <p>if when you right click on a uproject file you dont get a menu that looks like this</p> <p><a href="/index.php?title=File:Build_server.png"><img src="https://d26ilriwvtzlb.cloudfront.net/9/99/Build_server.png" alt="Build server.png"></a></p> <p>then follow this step below from the read me file.</p> <p><em>One last thing. You’ll want to setup your Windows shell so that you can interact with .uproject files. Find the file named UnrealVersionSelector-Win64-Shippping.exe in the UnrealEngine/Engine/Binaries/Win64/ folder and run it. Now, you’ll be able to double-click .uproject files to load the project, or right click them to quickly update Visual Studio files.</em></p> <p>This should now allow you to right click on the uproject file to bring up the menu.</p> <p>when you click switch engine versions make sure that your source build version of the engine is selected in the drop down box and click ok.</p> <p><a href="/index.php?title=File:Selectsource.png"><img src="https://d26ilriwvtzlb.cloudfront.net/a/a4/Selectsource.png" alt="Selectsource.png"></a></p> <p>this should automatically regenerate the visual studio solution project files . if it does not then it means your files are already up to date but just to be safe you can right click the uproject file again and click &quot;generate visual studio project files&quot;</p> <h3 id="_5-building-the-server"><a href="#_5-building-the-server" class="header-anchor">#</a> 5. Building the server</h3> <p>next open up the visual studio project solution and allow it to fully load until it says ready.</p> <p><a href="/index.php?title=File:Testsolution.png"><img src="https://d26ilriwvtzlb.cloudfront.net/c/c8/Testsolution.png" alt="Testsolution.png"></a></p> <p>go up to the drop down box and in the menu this time select DEVELOPMENT EDITOR</p> <p><a href="/index.php?title=File:Developmenteditor.png"><img src="https://d26ilriwvtzlb.cloudfront.net/a/a8/Developmenteditor.png" alt="Developmenteditor.png"></a></p> <p>then same as before go to the solution explorer and right click and click build</p> <p><a href="/index.php?title=File:Buildserver.png"><img src="https://d26ilriwvtzlb.cloudfront.net/6/6e/Buildserver.png" alt="Buildserver.png"></a></p> <p>again depending on youre computer this can take a long time to complete.</p> <p>once this is done go back to the menu and in the drop down box this time select DEVELOPMENT SERVER</p> <p><a href="/index.php?title=File:Development_server.png"><img src="https://d26ilriwvtzlb.cloudfront.net/0/0a/Development_server.png" alt="Development server.png"></a></p> <p>then same as before go to the solution explorer and right click and click build</p> <p><a href="/index.php?title=File:Buildserver.png"><img src="https://d26ilriwvtzlb.cloudfront.net/6/6e/Buildserver.png" alt="Buildserver.png"></a></p> <p>again depending on your computer this can take a long time to complete.</p> <p>once the server is built if you go into your project folder again then click binaries, win64 and you should have the server files in there like this</p> <p><a href="/index.php?title=File:Serverfiles.png"><img src="https://d26ilriwvtzlb.cloudfront.net/7/70/Serverfiles.png" alt="Serverfiles.png"></a></p> <h3 id="_6-fixing-the-lighting-swarm-error"><a href="#_6-fixing-the-lighting-swarm-error" class="header-anchor">#</a> 6. Fixing the lighting swarm error</h3> <p>With source built unreal when you go to build the lighting it is common for the following error to occur and it took me forever to find the solution so i am including it here to save you guys the headache.</p> <p><a href="/index.php?title=File:Swarm_errorr.png"><img src="https://d26ilriwvtzlb.cloudfront.net/b/b9/Swarm_errorr.png" alt="Swarm errorr.png"></a></p> <p>so what you do is in your solution explorer in visual studio scroll down until you see &quot;unreal lightmass&quot;</p> <p><a href="/index.php?title=File:Lightmass.png"><img src="https://d26ilriwvtzlb.cloudfront.net/f/f7/Lightmass.png" alt="Lightmass.png"></a></p> <p>and again like before right click it and click build.</p> <p>when it has finished close visual studio and now the swarm bug error should be fixed.</p> <h3 id="_6-a-video-guide"><a href="#_6-a-video-guide" class="header-anchor">#</a> 6.a Video Guide</h3> <p><a href="https://www.youtube.com/watch?v=lkrFFNfjtS0&amp;feature=youtu.be" target="_blank" rel="noopener noreferrer">https://www.youtube.com/watch?v=lkrFFNfjtS0&amp;feature=youtu.be<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="_7-prepare-the-project-for-packaging"><a href="#_7-prepare-the-project-for-packaging" class="header-anchor">#</a> 7. Prepare the project for packaging</h3> <p>now open up your project again by clicking on the uproject file.</p> <p>ok so the first thing we need to do is under the content folder is add two new folders . one called maps, the other blueprints.</p> <p><a href="/index.php?title=File:Folder_structure.png"><img src="https://d26ilriwvtzlb.cloudfront.net/1/10/Folder_structure.png" alt="Folder structure.png"></a></p> <p>then we need to go down to where the third person example map is stored and move it into your newly created map folder like so.</p> <p><a href="/index.php?title=File:Maps.png"><img src="https://d26ilriwvtzlb.cloudfront.net/6/6c/Maps.png" alt="Maps.png"></a></p> <p>rename this to test level or whatever you like. this will be the level that the player loads into the server on and plays the game .</p> <p>as of engine versions 4.14+ whenever you make a new map you must open the map and then click on build so that it generates the correct mapBuildDataRegistry Files for it. once this is done then click save all.</p> <p>now we need to create 2 more additional maps. so go up to file, then new level and select the empty map level. name this first level entry map, and the second level transition map. like so</p> <p><a href="/index.php?title=File:Mapfiles.png"><img src="https://d26ilriwvtzlb.cloudfront.net/d/dd/Mapfiles.png" alt="Mapfiles.png"></a></p> <p>again dont forget to build each time on the new map to make sure the data is saved correctly.</p> <p>open up the entry level map and go up to blueprints and open the level blueprint</p> <p><a href="/index.php?title=File:Openlevel.png"><img src="https://d26ilriwvtzlb.cloudfront.net/4/44/Openlevel.png" alt="Openlevel.png"></a></p> <p>in this blueprint drag off from begin play and find the open level node. in the level name set the parameter to 127.0.0.1 this is your local ip address.</p> <p><a href="/index.php?title=File:Ip.png"><img src="https://d26ilriwvtzlb.cloudfront.net/4/47/Ip.png" alt="Ip.png"></a></p> <p>compile and save and close the blueprint.</p> <p>finally open up the test level map and just click on the default character that is in the map and just delete him otherwise when you join the server you will end up with duplicated characters.</p> <p><a href="/index.php?title=File:Testlevel.png"><img src="https://d26ilriwvtzlb.cloudfront.net/1/1b/Testlevel.png" alt="Testlevel.png"></a></p> <p>now we need to set the project settings up</p> <p>so open up the project settings and then go to maps and modes.</p> <p>set the editor startup map to entry</p> <p>set the game default map to entry</p> <p>set the transition map to transition</p> <p>set the server default map to test level</p> <p>like so</p> <p><a href="/index.php?title=File:Mapsetup.png"><img src="https://d26ilriwvtzlb.cloudfront.net/8/80/Mapsetup.png" alt="Mapsetup.png"></a></p> <h3 id="_8-setup-packaging-settings"><a href="#_8-setup-packaging-settings" class="header-anchor">#</a> 8. setup packaging settings</h3> <p>go to file, packaging, packaging settings</p> <p><a href="/index.php?title=File:PackagingSettings.png"><img src="https://d26ilriwvtzlb.cloudfront.net/6/6a/PackagingSettings.png" alt="PackagingSettings.png"></a></p> <p>in the packaging settings scroll down till you find the section list of maps to include in a packaged build . click on the + sign to add 3 elements to the array. one for each map you have in the project. then browse to your map folder and add each of your 3 maps to the array like so</p> <p><a href="/index.php?title=File:Addmaps.png"><img src="https://d26ilriwvtzlb.cloudfront.net/1/13/Addmaps.png" alt="Addmaps.png"></a></p> <p>now close the settings and package the project.</p> <p><a href="/index.php?title=File:Packageproject.png"><img src="https://d26ilriwvtzlb.cloudfront.net/5/5c/Packageproject.png" alt="Packageproject.png"></a></p> <h3 id="_9-congratulations-you-have-now-packaged-your-project-yay-p"><a href="#_9-congratulations-you-have-now-packaged-your-project-yay-p" class="header-anchor">#</a> 9. Congratulations you have now packaged your project yay :-p</h3> <h2 id="section-3-launching-and-joining-the-dedicated-server"><a href="#section-3-launching-and-joining-the-dedicated-server" class="header-anchor">#</a> Section 3 launching and joining the dedicated server</h2> <h3 id="_1-copy-the-server-executable"><a href="#_1-copy-the-server-executable" class="header-anchor">#</a> 1. copy the server executable</h3> <p>go to your project folder, then binaries, win 64, and find the file called &quot;yourProjectNameServer.exe&quot; and right click it and copy it.</p> <p><a href="/index.php?title=File:Copyproject.png"><img src="https://d26ilriwvtzlb.cloudfront.net/d/dc/Copyproject.png" alt="Copyproject.png"></a></p> <p>next go to your packaged game location. then WindowsNoEditor, then the name of your project, binaries, win64, and paste in the server.exe like so.</p> <p><a href="/index.php?title=File:Projectbinaries.png"><img src="https://d26ilriwvtzlb.cloudfront.net/e/eb/Projectbinaries.png" alt="Projectbinaries.png"></a></p> <h3 id="_2-create-the-server-shortcut-and-setup-log-options"><a href="#_2-create-the-server-shortcut-and-setup-log-options" class="header-anchor">#</a> 2. create the server shortcut and setup log options</h3> <p>now take the server file and create a shortcut to it. then rename it to match whatever you called your map inside the project . in my case i called it test level so my shortcut will look like this</p> <p><a href="/index.php?title=File:Shortcut.png"><img src="https://d26ilriwvtzlb.cloudfront.net/8/89/Shortcut.png" alt="Shortcut.png"></a></p> <p>now right click this shortcut and go to properties</p> <p><a href="/index.php?title=File:Properties.png"><img src="https://d26ilriwvtzlb.cloudfront.net/4/44/Properties.png" alt="Properties.png"></a></p> <p>at the end of the target path simply add -log like so</p> <p><a href="/index.php?title=File:Targetpath.png"><img src="https://d26ilriwvtzlb.cloudfront.net/d/d0/Targetpath.png" alt="Targetpath.png"></a></p> <p>and click ok</p> <h3 id="_3-launch-and-test-the-server"><a href="#_3-launch-and-test-the-server" class="header-anchor">#</a> 3. Launch and test the server</h3> <p>Now we are ready to launch the dedicated server and test level.</p> <p>double click the server shortcut you just modified</p> <p>if all goes well you should see a command window open and the server will launch itself</p> <p><a href="/index.php?title=File:Serverlog.png"><img src="https://d26ilriwvtzlb.cloudfront.net/8/83/Serverlog.png" alt="Serverlog.png"></a></p> <p>here you can see the ip address of the computer hosting the server, you can see the server is listening on port 7777 which is the default unreal port, and it has loaded up the test level map as we set out in our project.</p> <p>Your server is now running all that's left now is to click the project.exe to join the server.</p> <p>in the logs if all is well you will see that a client requested to join the server and then at the bottom you should see join succeeded: 256</p> <p>this means the player has successfully joined the dedicated server.</p> <p><a href="/index.php?title=File:Joinsuccess.png"><img src="https://d26ilriwvtzlb.cloudfront.net/0/05/Joinsuccess.png" alt="Joinsuccess.png"></a></p> <p>if you were to launch another game exe you would now see another login success and the number would now be :257</p> <p>like so</p> <p><a href="/index.php?title=File:257.png"><img src="https://d26ilriwvtzlb.cloudfront.net/6/60/257.png" alt="257.png"></a></p> <p>congratulations you are now hosting a dedicated server on your own computer and have two players joined that can run around and see each other</p> <p><a href="/index.php?title=File:Yay.png"><img src="https://d26ilriwvtzlb.cloudfront.net/6/6e/Yay.png" alt="Yay.png"></a></p> <p>to properly close down the server in the command window press ctrl c. alternatively you can press the x on the log window or failing that you can ctr alt delete and kill any unreal processes that are running. but the best method is to use ctrl c</p> <h2 id="section-4-notes"><a href="#section-4-notes" class="header-anchor">#</a> Section 4 notes</h2> <h3 id="_1-allowing-friends-to-join-over-internet"><a href="#_1-allowing-friends-to-join-over-internet" class="header-anchor">#</a> 1. allowing friends to join over internet</h3> <p>if you want to allow friends to join your games etc then simply go back to your project and on the entry level, open the level blueprint and instead of using your local ip address, input your real public ip address.</p> <p><a href="/index.php?title=File:Ip.png"><img src="https://d26ilriwvtzlb.cloudfront.net/4/47/Ip.png" alt="Ip.png"></a></p> <p>to find this simply type in to google &quot;what is my ip&quot; . or use an ip address finding program etc.</p> <p>also remember that when you make changes in the game you need to repackage the game . so once you change the ip address to your real public ip make sure to repackage the game before you send it to your friends.</p> <p>also you might need to rebuild the server binaries in visual studio.</p> <p>once package is complete then zip up the whole windows no editor game folder and send it to youre friends.</p> <p>start the server your end , then get the friends to open the game executable and join your game.</p> <p>if your friends are unable to join your game it will be because you do not have the ports forwarded and setup properly on your router, and you may need to set up a static ip address.</p> <h3 id="_2-hosting-on-a-virtual-server"><a href="#_2-hosting-on-a-virtual-server" class="header-anchor">#</a> 2. Hosting on a virtual server</h3> <p>log into your virtual server, open up the internet and download the game package. unzip it and then launch the server shortcut as normal.</p> <h3 id="_3-creating-additional-maps-and-joining-different-maps"><a href="#_3-creating-additional-maps-and-joining-different-maps" class="header-anchor">#</a> 3. Creating additional maps and joining different maps</h3> <h3 id="_4-enabling-physics"><a href="#_4-enabling-physics" class="header-anchor">#</a> 4. Enabling Physics</h3> <p>Not sure if this is still relevant in engine 4.14+ but ive left it here just in case. from original wiki authors.</p> <p>As of 4.4.3, if you’re replicating actors whose movement depends on simulated physics, you’ll need to set their <strong>SkeletalMeshComponent.bEnablePhysicsOnDedicatedServer</strong> property to true. The standalone dedicated servers return true to <strong>IsRunningDedicatedServer()</strong>, which results in prevention of physics simulations for SkeletalMeshComponents that do not explicitly set the bEnablePhysicsOnDedicatedServer property. Thanks to user <strong>HateDread</strong> for pointing this out for me.</p> <p>Details:</p> <p><a href="https://answers.unrealengine.com/questions/97074/vehicle-template-issues-with-standalone-dedicated.html#answer-101321" target="_blank" rel="noopener noreferrer">https://answers.unrealengine.com/questions/97074/vehicle-template-issues-with-standalone-dedicated.html#answer-101321<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>Commit that fixes this:</p> <p><a href="https://github.com/EpicGames/UnrealEngine/commit/9860acf7b10c7187cc9287342e43c73b0083791f" target="_blank" rel="noopener noreferrer">https://github.com/EpicGames/UnrealEngine/commit/9860acf7b10c7187cc9287342e43c73b0083791f<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="section-5"><a href="#section-5" class="header-anchor">#</a> Section 5</h2> <h3 id="_1-im-too-lazy-for-all-this-just-give-me-the-files"><a href="#_1-im-too-lazy-for-all-this-just-give-me-the-files" class="header-anchor">#</a> 1. Im too lazy for all this just give me the files</h3> <p>i will provide the test project files soon i ran out of time</p> <h2 id="section-6-contact-the-author"><a href="#section-6-contact-the-author" class="header-anchor">#</a> section 6 Contact the author</h2> <h3 id="_1"><a href="#_1" class="header-anchor">#</a> 1.</h3> <p>if you need help you can find me on unreal forums - <a href="https://forums.unrealengine.com/member.php?42414-EniGmaa" target="_blank" rel="noopener noreferrer">https://forums.unrealengine.com/member.php?42414-EniGmaa<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>Or on unreal slackers discord <a href="http://unrealslackers.org/" target="_blank" rel="noopener noreferrer">http://unrealslackers.org/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>Username is PrintStringFTW#6597</p> <p>thankyou</p> <h2 id="section-7-building-and-deploying-a-ue4-dedicated-server-for-linux"><a href="#section-7-building-and-deploying-a-ue4-dedicated-server-for-linux" class="header-anchor">#</a> section 7 Building and deploying a UE4 dedicated server for Linux</h2> <p>Original blog post: <a href="http://blog.piinecone.com/post/98470361272/building-and-deploying-a-ue4-dedicated-server-for-linux" target="_blank" rel="noopener noreferrer">http://blog.piinecone.com/post/98470361272/building-and-deploying-a-ue4-dedicated-server-for-linux<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>In a prior post I covered the basics of building a standalone dedicated server executable for Windows from a UE4 game. This post will cover packaging, building, and deploying a Linux binary.</p> <h3 id="_1-configure-visual-studio-for-linux-cross-compilation"><a href="#_1-configure-visual-studio-for-linux-cross-compilation" class="header-anchor">#</a> 1. Configure Visual Studio for Linux cross compilation</h3> <p>Epic have provided a prebuilt cross compilation toolchain for building Linux binaries from Windows. Follow the installation guide on the wiki: <a href="https://wiki.unrealengine.com/Compiling_For_Linux" target="_blank" rel="noopener noreferrer">https://wiki.unrealengine.com/Compiling_For_Linux<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>Once you have the toolchain installed, verify that you have a LINUX_ROOT env var pointing to it. You can check this in git bash with the following command:</p> <p><em>`env | grep LINUX_ROOT `</em></p> <h3 id="_2-package-your-project-to-a-distinct-location"><a href="#_2-package-your-project-to-a-distinct-location" class="header-anchor">#</a> 2. Package your project to a distinct location</h3> <p>Thanks to Osman for pointing this out to me. In order to compress everything you’ll need to deploy and run a standalone binary, you should package your project somewhere outside of your project’s working directory. The resulting file structure will contain the essentials.</p> <p>Open the editor and package your project for Linux. Choose a distinct destination for the build (eg, ~/Desktop/MyGameLinux/). Once this completes, you should see a client build for Linux in the destination you chose.</p> <h3 id="_3-build-a-dedicated-server-binary-for-linux"><a href="#_3-build-a-dedicated-server-binary-for-linux" class="header-anchor">#</a> 3. Build a dedicated server binary for Linux</h3> <p>Open your project solution in Visual Studio, select the Development Server configuration (or whichever server configuration you’d like to use) and build for Linux. Make sure you’ve followed the previous guide and that your Server target is correctly setup. When the build completes, you’ll have a new server binary in your project’s working directory (../MyGame/Binaries/Win64/MyGameServer).</p> <p>Copy the Linux Server binary to the packaged project directory we created in step 2. You should put it next to the client binary. So when you look in:</p> <p><em>~/Desktop/MyGameLinux/LinuxNoEditor/MyGame/Binaries/Linux</em></p> <p>You should see:</p> <p><em>MyGame</em></p> <p><em>MyGameServer</em></p> <h3 id="_4-deploy-your-binary-to-a-remote-machine"><a href="#_4-deploy-your-binary-to-a-remote-machine" class="header-anchor">#</a> 4. Deploy your binary to a remote machine</h3> <p>You’ll need a Linux machine to deploy and run your server. I’m using a Google Compute VM for testing, but EC2 or any other cloud provider should suffice for now. I haven’t done any research or benchmarking to determine which provider, OS, and machine type is ideal for running UE4 dedicated servers.</p> <p>Using git bash, create a gzipped tar of your packaged directory (I foolishly forgot to remove the client binary before doing this; you should remove it as you won’t be running it remotely):</p> <p><em>tar -cvzf mygame-linux-server.tar.gz ~/Desktop/MyGameLinux/</em></p> <p>Copy the resulting archive to your remote Linux machine:</p> <p><em>scp mygame-linux-server.tar.gz piinecone@123.456.78.91</em></p> <p>This will copy the tar into the home directory of the machine at the supplied IP address. Replace my nonsense numbers with the external IP of your remote machine. Note that you may have to append</p> <p><em>-i ~/.ssh/<name of="" your="" private=""></name></em></p> <p>to perform the secure copy, depending on your ssh configuration.</p> <h3 id="_5-connect-to-your-server-and-run-the-dedicated-server-binary"><a href="#_5-connect-to-your-server-and-run-the-dedicated-server-binary" class="header-anchor">#</a> 5. Connect to your server and run the dedicated server binary</h3> <p>SSH into your machine:</p> <p><em>ssh piinecone@123.456.78.91</em></p> <p>You may need to append `-i ~/.ssh/<your private="">` again here.</your></p> <p>Once connected, you’ll be in your home directory. `ls` and you should see your gzipped tarball. Unpack it:</p> <p><em>tar -xzf mygame-linux-server.tar.gz</em></p> <p>`cd` to your binary location:</p> <p><em>cd MyGameLinux/LinuxNoEditor/MyGame/Binaries/Linux</em></p> <p>Make your server binary executable:</p> <p><em>chmod +x MyGameServer</em></p> <p>Run it!</p> <p><em>./MyGameServer -log</em></p> <p>Okay, now kill it with Ctrl+C because we have to open up allow connections on UDP:7777.</p> <p>Also, if you see this error:</p> <p><strong>Could not adjust number of file handles</strong></p> <p>Add this line to /etc/security/limits.conf:</p> <p><em>user - nofile 10000</em></p> <p>And for Debian and Ubuntu, add this line to /etc/pam.d/common-session:</p> <p><em>session required pam_limits.so</em></p> <p>After rebooting your machine you should be able to run the server executable.</p> <h3 id="_6-open-udp-7777"><a href="#_6-open-udp-7777" class="header-anchor">#</a> 6. Open UDP:7777</h3> <p>Most cloud VMs default to fairly tight security so you’ll probably have to manually open port 7777 (the UE4 server’s default port) to accept UDP connections. I’m not going to cover the specifics of this because it can vary by machine and provider. For a Google Compute VM you can just create a forwarding rule with the CLI. Other machines will require that you modify the iptables.</p> <p>Once you’ve opened UDP 7777, you can verify the connection is working with netcat. On the remote machine:</p> <p><em>nc -luv 777</em></p> <p>On your machine:</p> <p><em>nc -vu server.ip.add.ress 7777</em></p> <p>Enter text on either console and it should appear in the other.</p> <h3 id="_7-play-your-game-on-your-server"><a href="#_7-play-your-game-on-your-server" class="header-anchor">#</a> 7. Play your game on your server</h3> <p>This is, after all, the whole point. Build a client executable (or just use the one you built in step 2). Run it, open the console (with “~”), and type: open my.server.ip.address:7777</p> <p>You should see a join in your server log, and your client pawn should spawn into whichever map the server is currently running.</p> <h3 id="_8-issues"><a href="#_8-issues" class="header-anchor">#</a> 8. Issues</h3> <p>At some point of time (around Unreal Engine 4.4.x), Linux servers required glibc 2.14+, which made it unable to run on Debian-stable (back then Debian 7 'wheezy'). This was a temporary issue not experienced in previous versions, and it was fixed in later ones. Cross-toolchain provided with the Unreal Engine targets glibc 2.12.2, which is old enough to run on most contemporary distros, including Debian-stable and even CentOS 6.x without hassle.</p> <h2 id="_8-dedicated-server-on-steam"><a href="#_8-dedicated-server-on-steam" class="header-anchor">#</a> 8. Dedicated Server on Steam</h2> <p>Now on it's own page: <a href="https://wiki.unrealengine.com/Dedicated_Server_Guide_Steam" target="_blank" rel="noopener noreferrer">https://wiki.unrealengine.com/Dedicated_Server_Guide_Steam<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>Retrieved from &quot;<a href="https://wiki.unrealengine.com/index.php?title=Dedicated_Server_Guide_(Windows_%26_Linux)&amp;oldid=19" target="_blank" rel="noopener noreferrer">https://wiki.unrealengine.com/index.php?title=Dedicated_Server_Guide_(Windows_%26_Linux)&amp;oldid=19<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>&quot;</p> <p><a href="/index.php?title=Special:Categories" title="Special:Categories">Categories</a>:</p> <ul><li><a href="/index.php?title=Category:Tutorials&amp;action=edit&amp;redlink=1" title="Category:Tutorials (page does not exist)">Tutorials</a></li> <li><a href="/index.php?title=Category:Code" title="Category:Code">Code</a></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/wiki.unrealengine.com/assets/js/app.aaf63946.js" defer></script><script src="/wiki.unrealengine.com/assets/js/2.4f53495e.js" defer></script><script src="/wiki.unrealengine.com/assets/js/446.b13d4d37.js" defer></script>
  </body>
</html>
