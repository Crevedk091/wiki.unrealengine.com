<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>wiki.unrealengine.com</title>
    <meta name="description" content="A static site pulled from the internet archive">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/wiki.unrealengine.com/assets/css/0.styles.b0e83839.css" as="style"><link rel="preload" href="/wiki.unrealengine.com/assets/js/app.aaf63946.js" as="script"><link rel="preload" href="/wiki.unrealengine.com/assets/js/2.4f53495e.js" as="script"><link rel="preload" href="/wiki.unrealengine.com/assets/js/1188.f39ff838.js" as="script">
    <link rel="stylesheet" href="/wiki.unrealengine.com/assets/css/0.styles.b0e83839.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wiki.unrealengine.com/" class="home-link router-link-active"><!----> <span class="site-name">wiki.unrealengine.com</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><p>Using excel to store gameplay data - DataTables - Epic Wiki</p> <h1 id="using-excel-to-store-gameplay-data-datatables"><a href="#using-excel-to-store-gameplay-data-datatables" class="header-anchor">#</a> Using excel to store gameplay data - DataTables</h1> <p>From Epic Wiki</p> <p>Jump to: <a href="#mw-head">navigation</a>, <a href="#p-search">search</a></p> <p><a href="/index.php?title=Template:Rating&amp;action=edit&amp;redlink=1" title="Template:Rating (page does not exist)">Template:Rating</a></p> <h2 id="contents"><a href="#contents" class="header-anchor">#</a> Contents</h2> <ul><li><a href="#Overview">1 Overview</a></li> <li><a href="#Quick_How_To_Use">2 Quick How To Use</a> <ul><li><a href="#1._Create_the_CSV_File">2.1 1. Create the CSV File</a></li> <li><a href="#2._Create_the_structure_in_the_game">2.2 2. Create the structure in the game</a> <ul><li><a href="#GameObjectLookupTable.h">2.2.1 GameObjectLookupTable.h</a></li></ul></li> <li><a href="#3._Create_the_structure_in_the_game">2.3 3. Create the structure in the game</a></li> <li><a href="#4._Using_the_DataTable_in_Game">2.4 4. Using the DataTable in Game</a></li></ul></li> <li><a href="#Referencing_Assets_from_your_data_table">3 Referencing Assets from your data table</a></li> <li><a href="#TODO">4 TODO</a></li></ul> <h2 id="overview"><a href="#overview" class="header-anchor">#</a> Overview</h2> <p>Data driven gameplay helps mitigate the amount of work and complexity involved, as well as providing the ability to visualize and parameterize data creation and progression, for games that have an extended lifetime well beyond that of a typical boxed game, and require constant tweaking and balancing of data based on player feedback. The ability to move data out to Excel documents that can be maintained using proven tools and then imported to automatically take effect in the game. <a href="https://docs.unrealengine.com/latest/INT/Programming/Gameplay/DataDriven/index.html" target="_blank" rel="noopener noreferrer">Epic's Data Driven Page<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="quick-how-to-use"><a href="#quick-how-to-use" class="header-anchor">#</a> Quick How To Use</h2> <h4 id="_1-create-the-csv-file"><a href="#_1-create-the-csv-file" class="header-anchor">#</a> 1. Create the CSV File</h4> <p>Using Excel / Google Docs, create a sheet with the following properties:</p> <p><a href="/index.php?title=File:Csv_table_example.png" title="Csv table example.png"><img src="https://d26ilriwvtzlb.cloudfront.net/7/70/Csv_table_example.png" alt="Csv table example.png"></a></p> <p>Remember to not use spaces in the field titles, and also its important to have the first column/row in blank. Export this file as CSV.</p> <h4 id="_2-create-the-structure-in-the-game"><a href="#_2-create-the-structure-in-the-game" class="header-anchor">#</a> 2. Create the structure in the game</h4> <p>There are two methods of creating the structure.</p> <ol><li><p>You can create a blueprint Structure in the engine under &quot;Add New &gt; Blueprints &gt; Structure&quot;.</p></li> <li><p>You can create a C++ struct in code like this:</p></li></ol> <h5 id="gameobjectlookuptable-h"><a href="#gameobjectlookuptable-h" class="header-anchor">#</a> GameObjectLookupTable.h</h5> <p>#include &quot;CoreMinimal.h&quot;
#include &quot;Engine/DataTable.h&quot;
#include &quot;MyObjectLookupTable.generated.h&quot;</p> <p>/** Structure to store the lookup of GameObjects for use in a UDataTable */
USTRUCT(BlueprintType)
struct FMyObjectLookupTable : public FTableRowBase
{
GENERATED_BODY()</p> <div class="language- extra-class"><pre><code>/\*\* Full Path of Blueprint \*/
UPROPERTY(BlueprintReadOnly, Category \= &quot;GO&quot;)
FString Blueprint\_Class;

/\*\* Category of GamePlay Object \*/
UPROPERTY(BlueprintReadOnly, Category \= &quot;GO&quot;)
	int32 Category;

/\*\* Scriptable Use Code \*/
UPROPERTY(BlueprintReadOnly, Category \= &quot;GO&quot;)
	int32 Usecode;
</code></pre></div><p>};</p> <h4 id="_3-create-the-structure-in-the-game"><a href="#_3-create-the-structure-in-the-game" class="header-anchor">#</a> 3. Create the structure in the game</h4> <p>Import the data into your game. Make sure your file is named CSV, drag to content or hit the import button, select the destination data structure.</p> <p><a href="/index.php?title=File:How-to-import-csv-to-content.png" title="How-to-import-csv-to-content.png"><img src="https://d26ilriwvtzlb.cloudfront.net/d/d7/How-to-import-csv-to-content.png" alt="How-to-import-csv-to-content.png"></a></p> <h4 id="_4-using-the-datatable-in-game"><a href="#_4-using-the-datatable-in-game" class="header-anchor">#</a> 4. Using the DataTable in Game</h4> <p><strong>Declaration</strong></p> <p>// o-- Lookup table for Game Objects - Loaded from CSV/Excel
UDataTable* GameObjectLookupTable;</p> <p><strong>Construction</strong></p> <p>static ConstructorHelpers::FObjectFinder&lt;UDataTable&gt;
GameObjectLookupDataTable_BP(TEXT(&quot;DataTable'/Game/Data/GameObjectLookup.GameObjectLookup'&quot;));
GameObjectLookupTable = GameObjectLookupDataTable_BP.Object;</p> <p><strong>Searching and Getting Data</strong></p> <p>static const FString ContextString(TEXT(&quot;GENERAL&quot;));
// o-- Search using FindRow. It returns a handle to the row.
// Access the variables like GOLookupRow-&gt;Blueprint_Class, GOLookupRow-&gt;Usecode
FGameObjectLookupTable* GOLookupRow = GameObjectLookupTable-&gt;FindRow&lt;FGameObjectLookupTable&gt;(
*FString::Printf(
TEXT(&quot;%d&quot;),
GoID),
ContextString
);</p> <p>if (GOLookupRow) {
GEngine-&gt;AddOnScreenDebugMessage(
GEngine-&gt;ScreenMessages.Num() + 1,
6.0f,
FColor::Green,
*GOLookupRow-&gt;Blueprint_Class
);
}</p> <h2 id="referencing-assets-from-your-data-table"><a href="#referencing-assets-from-your-data-table" class="header-anchor">#</a> Referencing Assets from your data table</h2> <p>1. Within the content browser, find the game asset you wish to reference. Right click on the asset and select &quot;Copy Reference&quot; to get the full path reference. Then, copy and paste that into your CSV file. Your asset will need to be surrounded by three double quotes (The first and last quote are quoting the quote). Note: The asset path contains an extension for the asset, which must be included! It's super easy to overlook.</p> <p>Sample in CSV file: &quot;&quot;&quot;Texture2D'/Game/Assets/Textures/Characters/KnightPortrait.KnightPortrait'&quot;&quot;&quot;</p> <p>2. Your struct should contain a TAssetPtr<T> for the asset type you are importing. The TAssetPtr is a lazy initialized asset pointer which only loads an asset when its needed by the game. Be careful with assets which have a large file size. If they need to load during runtime, you'll get a slight delay in game. You can force an asset to be loaded at any time within code by calling the &quot;Get()&quot; method.</T></p> <p>Sample in struct:</p> <p>UPROPERTY(EditAnywhere, BlueprintReadWrite, Transient, Category = &quot;CreatureData&quot;)
TAssetPtr&lt;UTexture2D&gt; Portrait;</p> <h2 id="todo"><a href="#todo" class="header-anchor">#</a> TODO</h2> <ul><li>Show how to load the CSV dynamically too. If you do, remember to get back here and put how you did.</li></ul> <p>Retrieved from &quot;<a href="https://wiki.unrealengine.com/index.php?title=Using_excel_to_store_gameplay_data_-_DataTables&amp;oldid=199" target="_blank" rel="noopener noreferrer">https://wiki.unrealengine.com/index.php?title=Using_excel_to_store_gameplay_data_-_DataTables&amp;oldid=199<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>&quot;</p> <p><a href="/index.php?title=Special:Categories" title="Special:Categories">Categories</a>:</p> <ul><li><a href="/index.php?title=Category:Tutorials&amp;action=edit&amp;redlink=1" title="Category:Tutorials (page does not exist)">Tutorials</a></li> <li><a href="/index.php?title=Category:Code" title="Category:Code">Code</a></li> <li><a href="/index.php?title=Category:Community_Created_Content" title="Category:Community Created Content">Community Created Content</a></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/wiki.unrealengine.com/assets/js/app.aaf63946.js" defer></script><script src="/wiki.unrealengine.com/assets/js/2.4f53495e.js" defer></script><script src="/wiki.unrealengine.com/assets/js/1188.f39ff838.js" defer></script>
  </body>
</html>
