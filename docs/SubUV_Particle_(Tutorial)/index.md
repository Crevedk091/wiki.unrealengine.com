SubUV Particle (Tutorial) - Epic Wiki                    

SubUV Particle (Tutorial)
=========================

Contents
--------

*   [1 Sub UV](#Sub_UV)
*   [2 Overview](#Overview)
*   [3 Creating a new Particle System](#Creating_a_new_Particle_System)
*   [4 Import a Texture](#Import_a_Texture)
*   [5 Create a ParticleSubUV Material](#Create_a_ParticleSubUV_Material)
*   [6 Create the Particle SubUV Emitter](#Create_the_Particle_SubUV_Emitter)
*   [7 Setting up the SubUV parameters](#Setting_up_the_SubUV_parameters)
*   [8 Setting the SubImage Selection](#Setting_the_SubImage_Selection)

Sub UV
------

Using a ParticleSubUV module in a material gives you the ability to blend or switch between multiple 'frames' in a single image on a particle using the SubUV settings in a particle emitter. Once the material is created, applying it to the emitter and setting the emitter's InterpolationMode (in the base emitter properties) as well as the number of subimages both horizontal and vertical allows us to use a SubImage Index module to determine the blend between these sub-images. Adding the SubImage Index to the curve editor and changing its distribution to ConstantCurve gives us control over the subimage being used over time. As the value starts a 0, the last image will always be the number of images - 1, thus the example curve going from 0 to 3.

Overview
--------

The Unreal Engine's Particle System provides an emitter TypeDataModule that allows for the selection of sub-images from a source texture to be displayed on its particles. It works by allowing you to select the sub-image to display for a particular particle as a function of the lifetime of the particle.

This document assumes you are familiar with the Content Browser, and with creating packages and objects within those packages.

Creating a new Particle System
------------------------------

Start the editor and open the Content Browser. Either choose a folder where you can experiment, or create a new one for the purpose. Right-click and select "New ParticleSystem". Name the system _Particle\_SubUV_.

[![NewParticleSystem.Jpeg](https://d3ar1piqh1oeli.cloudfront.net/b/b5/NewParticleSystem.Jpeg/180px-NewParticleSystem.Jpeg)](/File:NewParticleSystem.Jpeg)

[![](/skins/common/images/magnify-clip.png)](/File:NewParticleSystem.Jpeg "Enlarge")

  

Import a Texture
----------------

In this example, we will be using a simple 'subdivided texture' called _SubUV\_Texture.png_.

[![](https://d3ar1piqh1oeli.cloudfront.net/c/c5/SubUV_Texture.png/180px-SubUV_Texture.png)](/File:SubUV_Texture.png)

[![](/skins/common/images/magnify-clip.png)](/File:SubUV_Texture.png "Enlarge")

Expand this image and save it

  

The texture consists of a simple quartered color square scheme, with the alpha channel embedding the numbers 1, 2, 3, and 4 in each sub-square from left-to-right and top-to-bottom. This image allows for simple verification that the sub-image system is working.

After importing the texture, MyEmitters in the browser should look similar to the shot below:

[![NewTexture.Jpeg](https://d3ar1piqh1oeli.cloudfront.net/1/19/NewTexture.Jpeg/180px-NewTexture.Jpeg)](/File:NewTexture.Jpeg)

[![](/skins/common/images/magnify-clip.png)](/File:NewTexture.Jpeg "Enlarge")

  

Create a ParticleSubUV Material
-------------------------------

The next step is to create a material that will be applied to the sprites generated by the particle emitter. Right-click in the MyEmitters browser window and select "New Material". Name the material "MAT\_SubUV" and open it in the Material Editor.

[![MAT SubUV.Jpeg](https://d3ar1piqh1oeli.cloudfront.net/4/41/MAT_SubUV.Jpeg/180px-MAT_SubUV.Jpeg)](/File:MAT_SubUV.Jpeg)

[![](/skins/common/images/magnify-clip.png)](/File:MAT_SubUV.Jpeg "Enlarge")

  

In the Material Editor, select the main material node. In the properties window, look under the _Material_ settings. Set the **Lighting Mode** property to _MLM\_Unlit_.

[![MaterialProperties.Jpeg](https://d3ar1piqh1oeli.cloudfront.net/8/80/MaterialProperties.Jpeg/180px-MaterialProperties.Jpeg)](/File:MaterialProperties.Jpeg)

[![](/skins/common/images/magnify-clip.png)](/File:MaterialProperties.Jpeg "Enlarge")

  

In the case of Sub-UV emitters, a special material expression, _ParticleSubUV_, must be used. First select the _SubUV\_Texture_ texture in the Content Browser, then right-click in the material editor window and pick it from the list as shown below:

[![AddSubUVMaterialNode.jpg](https://d3ar1piqh1oeli.cloudfront.net/c/cc/AddSubUVMaterialNode.jpg/180px-AddSubUVMaterialNode.jpg)](/File:AddSubUVMaterialNode.jpg)

[![](/skins/common/images/magnify-clip.png)](/File:AddSubUVMaterialNode.jpg "Enlarge")

  

The following material expression widget will appear in the editor:

[![SubUVnode.jpg](https://d3ar1piqh1oeli.cloudfront.net/6/6d/SubUVnode.jpg/180px-SubUVnode.jpg)](/File:SubUVnode.jpg)

[![](/skins/common/images/magnify-clip.png)](/File:SubUVnode.jpg "Enlarge")

  

As an artistic choice, we're going to push the color values of the texture to give a "glow" effect. Bring in a _Multiply_ node by holding the "M" key and clicking the mouse.

[![UVMultiplyNotConnected.jpg](https://d3ar1piqh1oeli.cloudfront.net/4/4c/UVMultiplyNotConnected.jpg/180px-UVMultiplyNotConnected.jpg)](/File:UVMultiplyNotConnected.jpg)

[![](/skins/common/images/magnify-clip.png)](/File:UVMultiplyNotConnected.jpg "Enlarge")

  

The next step is to \`hook-up' the SubUV expression to the material. In this simple case, we run the RGB output to the Multiply, and connect the Multiply to the Emissive input. You can boost the color via the Multiply as desired. In this example we use 15, as shown below:

[![UVMultiplyConnected.jpg](https://d3ar1piqh1oeli.cloudfront.net/3/33/UVMultiplyConnected.jpg/180px-UVMultiplyConnected.jpg)](/File:UVMultiplyConnected.jpg)

[![](/skins/common/images/magnify-clip.png)](/File:UVMultiplyConnected.jpg "Enlarge")

  

Create the Particle SubUV Emitter
---------------------------------

To open the Particle Editor, Cascade, right-click on the ParticleSystem and choose _Edit_ from the menu as shown below:

[![ContentBrowser Edit.Jpeg](https://d3ar1piqh1oeli.cloudfront.net/e/ea/ContentBrowser_Edit.Jpeg/180px-ContentBrowser_Edit.Jpeg)](/File:ContentBrowser_Edit.Jpeg)

[![](/skins/common/images/magnify-clip.png)](/File:ContentBrowser_Edit.Jpeg "Enlarge")

  

Alternatively, you may simply double-click on the particle system in the Content Browser.

Once Cascade opens, select the _MAT\_SubUV_ material in the Content Browser. Click the Required module in the particle emitter module stack, and in the properties window, click the arrow next to the Material property.

At this point, you should see the following view in Cascade, showing material applied to the new particle system in the preview window:

[![SubUV MaterialApplied.Jpeg](https://d3ar1piqh1oeli.cloudfront.net/f/ff/SubUV_MaterialApplied.Jpeg/180px-SubUV_MaterialApplied.Jpeg)](/File:SubUV_MaterialApplied.Jpeg)

[![](/skins/common/images/magnify-clip.png)](/File:SubUV_MaterialApplied.Jpeg "Enlarge")

  

Located in the 'Required' class are the SubUV-related settings: the InterpolationMethod, and the Horizontal and Vertical sub-image counts for the texture.

[![SubUV settings.Jpeg](https://d3ar1piqh1oeli.cloudfront.net/e/e1/SubUV_settings.Jpeg/180px-SubUV_settings.Jpeg)](/File:SubUV_settings.Jpeg)

[![](/skins/common/images/magnify-clip.png)](/File:SubUV_settings.Jpeg "Enlarge")

  

Setting up the SubUV parameters
-------------------------------

Enter the following information for the given fields:

Module Properties

Property

Value

SubImages\_Horizontal

2

SubImages\_Verticle

2

InterpolationMethod

PSSUV\_Linear\_blend

This informs the emitter that the sub-images are laid out in a 2x2 grid, and that the interpolation should be in a linear fashion, blending between sub-images.

[![Emitter Running.Jpeg](https://d3ar1piqh1oeli.cloudfront.net/4/48/Emitter_Running.Jpeg/180px-Emitter_Running.Jpeg)](/File:Emitter_Running.Jpeg)

[![](/skins/common/images/magnify-clip.png)](/File:Emitter_Running.Jpeg "Enlarge")

  

As you can see, the emitter is selecting the \`first' sub-image for the supplied texture, as the default sub-image index will be a constant 0.

Setting the SubImage Selection
------------------------------

Add a SubImage index module to the Emitter by right-clicking and selecting it from the list. The properties for this module will now be displayed in the lower-left panel of Cascade. There is only one piece of information contained in the SubImageIndex module, and that is a scalar distribution named "SubImageIndex".

[![Add SubUVModule.Jpeg](https://d3ar1piqh1oeli.cloudfront.net/e/e9/Add_SubUVModule.Jpeg/180px-Add_SubUVModule.Jpeg)](/File:Add_SubUVModule.Jpeg)

[![](/skins/common/images/magnify-clip.png)](/File:Add_SubUVModule.Jpeg "Enlarge")

  

The SubImage Index module comes in with a Constant Curve distribution by default. Click on the small green 'graph button' on the SubImage Index module of the emitter to add the curve to the curve editor.

Edit the Points of the curve distribution as follows:

Module Properties

Point Number

InVal

OutVal

Point 0

0.00

0.00

Point 1

0.75

3.01

This will generate an emitter that smoothly transitions between all of the existing sub-images, giving each one approximately 25% of the lifetime of the particle. Below is a screenshot:

[![SubUV Complete.Jpeg](https://d3ar1piqh1oeli.cloudfront.net/9/98/SubUV_Complete.Jpeg/180px-SubUV_Complete.Jpeg)](/File:SubUV_Complete.Jpeg)

[![](/skins/common/images/magnify-clip.png)](/File:SubUV_Complete.Jpeg "Enlarge")

  

Retrieved from "[https://wiki.unrealengine.com/index.php?title=SubUV\_Particle\_(Tutorial)&oldid=6469](https://wiki.unrealengine.com/index.php?title=SubUV_Particle_(Tutorial)&oldid=6469)"

[Categories](/Special:Categories "Special:Categories"):

*   [Tutorials](/Category:Tutorials "Category:Tutorials")
*   [Particle](/Category:Particle "Category:Particle")
*   [Epic Created Content](/Category:Epic_Created_Content "Category:Epic Created Content")

  ![](https://tracking.unrealengine.com/track.png)