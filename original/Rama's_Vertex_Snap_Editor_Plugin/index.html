<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8" /><title>Rama's Vertex Snap Editor Plugin - Epic Wiki</title>
<meta name="generator" content="MediaWiki 1.22.2" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="Epic Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.unrealengine.com/api.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Epic Wiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="https://wiki.unrealengine.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cskins.vector&amp;only=styles&amp;skin=epic&amp;*" />
<link rel="stylesheet" href="/extensions/EpicVideoSystem/CSS/VideoSystem.css" />
<link rel="stylesheet" href="/skins/epic/resources/screen.css?303" media="screen" />
<link rel="stylesheet" href="/skins/epic/resources/epic.css?303" media="screen" />
<link rel="stylesheet" href="/skins/epic/resources/prettify.css?303" media="screen" />
<link rel="stylesheet" href="/skins/epic/resources/jquery.qtip.css?303" media="screen" /><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="https://wiki.unrealengine.com/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=epic&amp;*" />
<style>a:lang(ar),a:lang(ckb),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: my_wiki:resourceloader:filter:minify-css:7:07b6a8ccf3fd62e770f192d0a6f8e123 */</style>

<script src="https://wiki.unrealengine.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=epic&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Rama's_Vertex_Snap_Editor_Plugin","wgTitle":"Rama's Vertex Snap Editor Plugin","wgCurRevisionId":17829,"wgRevisionId":17829,"wgArticleId":603,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Plug-ins"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Rama's_Vertex_Snap_Editor_Plugin","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"templateEditor":false,"templates":false,"preview":true,"previewDialog":false,"publish":true,"toc":false}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function(){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"epic","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"vector-simplesearch":1,"watchcreations":0,"watchdefault":0,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,
"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"useeditwarning":1,"prefershttps":1,"usebetatoolbar":1,"usebetatoolbar-cgd":1,"wikieditor-preview":1,"wikieditor-publish":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function(){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: my_wiki:resourceloader:filter:minify-js:7:2197af7670c41256853f340e275ede1b */
}</script>
<script src="https://wiki.unrealengine.com/load.php?debug=false&amp;lang=en&amp;modules=skins.epic.extras.js%7Cskins.epic.fancybox.js%7Cskins.epic.js%7Cskins.epic.qtip.js%7Cskins.epic.slimscroll.js&amp;only=scripts&amp;skin=epic&amp;*"></script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<style type="text/css">/*<![CDATA[*/
.source-cpp {line-height: normal;}
.source-cpp li, .source-cpp pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for cpp
 * CSS class: source-cpp, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.cpp.source-cpp .de1, .cpp.source-cpp .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;font-family: monospace, monospace;}
.cpp.source-cpp  {font-family:monospace;}
.cpp.source-cpp .imp {font-weight: bold; color: red;}
.cpp.source-cpp li, .cpp.source-cpp .li1 {font-weight: normal; vertical-align:top;}
.cpp.source-cpp .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.cpp.source-cpp .li2 {font-weight: bold; vertical-align:top;}
.cpp.source-cpp .kw1 {color: #0000ff;}
.cpp.source-cpp .kw2 {color: #0000ff;}
.cpp.source-cpp .kw3 {color: #0000dd;}
.cpp.source-cpp .kw4 {color: #0000ff;}
.cpp.source-cpp .co1 {color: #666666;}
.cpp.source-cpp .co2 {color: #339900;}
.cpp.source-cpp .coMULTI {color: #ff0000; font-style: italic;}
.cpp.source-cpp .es0 {color: #000099; font-weight: bold;}
.cpp.source-cpp .es1 {color: #000099; font-weight: bold;}
.cpp.source-cpp .es2 {color: #660099; font-weight: bold;}
.cpp.source-cpp .es3 {color: #660099; font-weight: bold;}
.cpp.source-cpp .es4 {color: #660099; font-weight: bold;}
.cpp.source-cpp .es5 {color: #006699; font-weight: bold;}
.cpp.source-cpp .br0 {color: #008000;}
.cpp.source-cpp .sy0 {color: #008000;}
.cpp.source-cpp .sy1 {color: #000080;}
.cpp.source-cpp .sy2 {color: #000040;}
.cpp.source-cpp .sy3 {color: #000040;}
.cpp.source-cpp .sy4 {color: #008080;}
.cpp.source-cpp .st0 {color: #FF0000;}
.cpp.source-cpp .nu0 {color: #0000dd;}
.cpp.source-cpp .nu6 {color: #208080;}
.cpp.source-cpp .nu8 {color: #208080;}
.cpp.source-cpp .nu12 {color: #208080;}
.cpp.source-cpp .nu16 {color:#800080;}
.cpp.source-cpp .nu17 {color:#800080;}
.cpp.source-cpp .nu18 {color:#800080;}
.cpp.source-cpp .nu19 {color:#800080;}
.cpp.source-cpp .me1 {color: #007788;}
.cpp.source-cpp .me2 {color: #007788;}
.cpp.source-cpp .ln-xtra, .cpp.source-cpp li.ln-xtra, .cpp.source-cpp div.ln-xtra {background-color: #ffc;}
.cpp.source-cpp span.xtra { display:block; }

/*]]>*/
</style><!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/epic/csshover.min.htc")}</style><![endif]--><script type="text/javascript">
var experimentID = false;
var cxApi = null;
var variation = 0;
var fancyTitle = "";
var CE_SNAPSHOT_NAME = document.getElementsByTagName("title")[0].innerHTML;
$(document).ready(function(){
	if(experimentID != false)
	{
		$(head).append('<script src="//www.google-analytics.com/cx/api.js?experiment=' + experimentID + '" />' + '</scr' + 'ipt>');
		HandleExperiment();
	}
	else
	{
		CE_SNAPSHOT_NAME = (fancyTitle != "" ? fancyTitle : document.getElementsByTagName("title")[0].innerHTML);
		setTimeout(function () {
			var a = document.createElement("script");
			var b = document.getElementsByTagName("script")[0];
			a.src = document.location.protocol + "//script.crazyegg.com/pages/scripts/0028/4572.js?" + Math.floor(new Date().getTime() / 3600000);
			a.async = true; a.type = "text/javascript"; b.parentNode.insertBefore(a, b)
		}, 1);	
	}
});
function HandleExperiment()
{
	CE_SNAPSHOT_NAME = (fancyTitle != "" ? fancyTitle : document.getElementsByTagName("title")[0].innerHTML);
	if(cxApi != null)
	{
		variation = cxApi.chooseVariation();
		cxApi.setChosenVariation(variation, experimentID);
		if(variation != cxApi.ORIGINAL_VARIATION && variation != cxApi.NO_CHOSEN_VARIATION && variation != cxApi.NOT_PARTICIPATING)
		{
			//var URL = document.location.href + (document.location.search != '' ? '&var=' : '?var=') + variation;
			ga('send', 'event', 'A/B', 'ID: ' + experimentID, 'Variation: ' + variation, {'nonInteraction': 1});
			//document.location.href = URL; 
			CE_SNAPSHOT_NAME = document.getElementsByTagName("title")[0].innerHTML + ' (variation ' + variation + ')';
			var test = "";
		}
		else
		{
			ga('send', 'event', 'A/B', 'ID: ' + experimentID, 'Variation: ' + variation, {'nonInteraction': 1});
		}
		ToggleExperimentContent(variation);
		setTimeout(function () {
			var a = document.createElement("script");
			var b = document.getElementsByTagName("script")[0];
			a.src = document.location.protocol + "//script.crazyegg.com/pages/scripts/0028/4572.js?" + Math.floor(new Date().getTime() / 3600000);
			a.async = true; a.type = "text/javascript"; b.parentNode.insertBefore(a, b)
		}, 1);
	}
	else
	{
		setTimeout("HandleExperiment()", 500);
	}
}

function ToggleExperimentContent(variation)
{
	$('.AB').hide();
	$('#variation_' + variation).show();
}
</script></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Rama_s_Vertex_Snap_Editor_Plugin skin-epic action-view vector-animateLayout">
		<!--<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>-->
		<!-- Google Tag Manager -->
		<noscript>
			<iframe src="//www.googletagmanager.com/ns.html?id=GTM-KWRD6D"
					height="0" width="0" style="display:none;visibility:hidden"></iframe>
		</noscript>
		<script>
		(function (w, d, s, l, i) {
		w[l] = w[l] || []; w[l].push({
		'gtm.start':
		new Date().getTime(), event: 'gtm.js'
		}); var f = d.getElementsByTagName(s)[0],
		j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
		'//www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
		})(window, document, 'script', 'dataLayer', 'GTM-KWRD6D');</script>
		<!-- End Google Tag Manager -->
		<div id="webThree">
		<div id="head"></div>
		<div id="pagedefault">		
                    <div id="pagenav">
                        <div>
                            <!-- Start of Other language links -->
                            <!-- End of Other language links -->
                            <div class="homelink_container">
                                <a href="https://wiki.unrealengine.com" title="UE4 Wiki Home" class="homelink">HOME</a>
                            </div>
                        </div>
                        <div style="clear:both;">
                        </div>
                    </div>	
		<div id="mw-navigation" style="max-width:972px;margin:1em auto 0 auto;">
			<h2>Navigation menu</h2>
			<div id="mw-head">
				<div id="jumplink" onclick="$('#sidebar').toggle();">
					Navigation
				</div>
				<div id="sidebar">
					<!-- Start of jump page links -->
					<div class="largetitle">
						Quick Links
					</div>
					<div class="arrowlist">
						<!-- End of jump page links -->
						<!-- Start of related page links -->
						<!-- End of related page links -->								
						<div id="mw-panel">
							<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
	<h3 id='p-navigation-label'>Navigation</h3>
	<div class="body">
		<ul>
			<li id="n-mainpage-description"><a href="/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
			<li id="n-recentchanges"><a href="/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-Community' aria-labelledby='p-Community-label'>
	<h3 id='p-Community-label'>Community</h3>
	<div class="body">
		<ul>
			<li id="n-UE4-Games"><a href="/Category:Games">UE4 Games</a></li>
			<li id="n-Dev-Blogs"><a href="/Developer_Blogs">Dev Blogs</a></li>
			<li id="n-Dev-Livestreams"><a href="/Developer_Livestreams">Dev Livestreams</a></li>
			<li id="n-Code-Sharing-Hub"><a href="/GitHub_Sharing_Hub">Code Sharing Hub</a></li>
			<li id="n-UE-User-Groups"><a href="/User_Group_Map">UE User Groups</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-Learning_Resources' aria-labelledby='p-Learning_Resources-label'>
	<h3 id='p-Learning_Resources-label'>Learning Resources</h3>
	<div class="body">
		<ul>
			<li id="n-Tutorials"><a href="/Category:Tutorials">Tutorials</a></li>
			<li id="n-Example-Projects"><a href="/Category:Example_Projects">Example Projects</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-Software_and_Tools' aria-labelledby='p-Software_and_Tools-label'>
	<h3 id='p-Software_and_Tools-label'>Software and Tools</h3>
	<div class="body">
		<ul>
			<li id="n-Plug-ins"><a href="/Category:Plug-ins">Plug-ins</a></li>
			<li id="n-Art:-3D"><a href="/3D_Art_Resources">Art: 3D</a></li>
			<li id="n-Art:-2D"><a href="/2D_Art_Resources">Art: 2D</a></li>
			<li id="n-Audio"><a href="/Audio_Resources">Audio</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-Modding' aria-labelledby='p-Modding-label'>
	<h3 id='p-Modding-label'>Modding</h3>
	<div class="body">
		<ul>
			<li id="n-Modding-Resources"><a href="/Category:Modding_Resources">Modding Resources</a></li>
			<li id="n-Moddable-Games"><a href="/Category:Moddable_Games">Moddable Games</a></li>
			<li id="n-Unreal-Tournament"><a href="/Category:Unreal_Tournament">Unreal Tournament</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-Epic_Official' aria-labelledby='p-Epic_Official-label'>
	<h3 id='p-Epic_Official-label'>Epic Official</h3>
	<div class="body">
		<ul>
			<li id="n-Website"><a href="https://www.unrealengine.com" rel="nofollow">Website</a></li>
			<li id="n-Learning-Resources"><a href="https://docs.unrealengine.com/latest/INT/" rel="nofollow">Learning Resources</a></li>
			<li id="n-Forums"><a href="https://forums.unrealengine.com/" rel="nofollow">Forums</a></li>
			<li id="n-Blog"><a href="https://www.unrealengine.com/blog" rel="nofollow">Blog</a></li>
			<li id="n-YouTube"><a href="https://www.youtube.com/UnrealEngine" rel="nofollow">YouTube</a></li>
			<li id="n-Twitch"><a href="http://www.twitch.tv/unrealengine" rel="nofollow">Twitch</a></li>
			<li id="n-Twitter"><a href="https://twitter.com/UnrealEngine" rel="nofollow">Twitter</a></li>
			<li id="n-Facebook"><a href="https://www.facebook.com/UnrealEngine" rel="nofollow">Facebook</a></li>
			<li id="n-Instagram"><a href="https://instagram.com/unrealengine/" rel="nofollow">Instagram</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
	<h3 id='p-tb-label'>Tools</h3>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="/Special:WhatLinksHere/Rama%27s_Vertex_Snap_Editor_Plugin" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="/Special:RecentChangesLinked/Rama%27s_Vertex_Snap_Editor_Plugin" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li id="t-print"><a href="/index.php?title=Rama%27s_Vertex_Snap_Editor_Plugin&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
			<li id="t-permalink"><a href="/index.php?title=Rama%27s_Vertex_Snap_Editor_Plugin&amp;oldid=17829" title="Permanent link to this revision of the page">Permanent link</a></li>
			<li id="t-info"><a href="/index.php?title=Rama%27s_Vertex_Snap_Editor_Plugin&amp;action=info">Page information</a></li>
		</ul>
	</div>
</div>
						</div>
					</div>
				</div>				
				<div id="left-navigation">
					<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
	<h3 id="p-namespaces-label">Namespaces</h3>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="/Rama%27s_Vertex_Snap_Editor_Plugin"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="/index.php?title=Talk:Rama%27s_Vertex_Snap_Editor_Plugin&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>
<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
	<h3 id="mw-vector-current-variant">
		</h3>
	<h3 id="p-variants-label"><span>Variants</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
				</div>
				<div id="right-navigation">
					<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
	<h3 id="p-views-label">Views</h3>
	<ul>
					<li id="ca-view" class="selected"><span><a href="/Rama%27s_Vertex_Snap_Editor_Plugin" >View</a></span></li>
					<li id="ca-viewsource"><span><a href="/index.php?title=Rama%27s_Vertex_Snap_Editor_Plugin&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="/index.php?title=Rama%27s_Vertex_Snap_Editor_Plugin&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">History</a></span></li>
			</ul>
</div>
<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
	<h3 id="p-cactions-label"><span>Actions</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
	<h3 id="p-personal-label">Personal tools</h3>
	<ul>
<li id="pt-createaccount"><a href="/index.php?title=Special:UserLogin&amp;returnto=Rama%27s+Vertex+Snap+Editor+Plugin&amp;type=signup">Create account</a></li><li id="pt-login"><a href="/index.php?title=Special:UserLogin&amp;returnto=Rama%27s+Vertex+Snap+Editor+Plugin" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>	</ul>
</div>
				</div>
			</div>
		</div>
		<div id="maincol">
		<div class="mw-body" role="main">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<!-- Start of crumbs links -->
			<div class="crumbs">
			<p>
							</p>
			</div>
			<!-- End of crumbs links -->
			<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Rama's Vertex Snap Editor Plugin</span></h1>
			<div id="bodyContent">
				<div id="contentSub"></div>
																<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Entire_C.2B.2B_Source_Code"><span class="tocnumber">1.1</span> <span class="toctext">Entire C++ Source Code</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="#Pictures"><span class="tocnumber">2</span> <span class="toctext">Pictures</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Plugin_Release_Dates_and_UE4_Engine_Versions"><span class="tocnumber">3</span> <span class="toctext">Plugin Release Dates and UE4 Engine Versions</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#All_Future_Updates"><span class="tocnumber">4</span> <span class="toctext">All Future Updates</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#4.11"><span class="tocnumber">4.1</span> <span class="toctext">4.11</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#4.10"><span class="tocnumber">4.2</span> <span class="toctext">4.10</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#4.9.2"><span class="tocnumber">4.3</span> <span class="toctext">4.9.2</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#Plugin_Download"><span class="tocnumber">5</span> <span class="toctext">Plugin Download</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#Victory_BP_Library_.7E_100.2B_Extra_Blueprint_Nodes"><span class="tocnumber">5.1</span> <span class="toctext">Victory BP Library ~ 100+ Extra Blueprint Nodes</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Victory_Ed_Engine_.7E_Vertex_Snapping_.26_Instanced_Static_Mesh_Editor"><span class="tocnumber">5.2</span> <span class="toctext">Victory Ed Engine ~ Vertex Snapping &amp; Instanced Static Mesh Editor</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="#Installation_of_Victory_Blueprint_Library"><span class="tocnumber">6</span> <span class="toctext">Installation of Victory Blueprint Library</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="#Installation_of_VictoryEdEngine_for_Vertex_Snapping"><span class="tocnumber">7</span> <span class="toctext">Installation of VictoryEdEngine for Vertex Snapping</span></a>
<ul>
<li class="toclevel-2 tocsection-14"><a href="#Disabling_My_Editor_Mode_.2F_Entire_Plugin"><span class="tocnumber">7.1</span> <span class="toctext">Disabling My Editor Mode / Entire Plugin</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="#Instanced_Static_Mesh_Editor"><span class="tocnumber">8</span> <span class="toctext">Instanced Static Mesh Editor</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="#Update:_Part_of_Victory_Ed_Engine"><span class="tocnumber">8.1</span> <span class="toctext">Update: Part of Victory Ed Engine</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Mandatory_Setup_Step"><span class="tocnumber">8.2</span> <span class="toctext">Mandatory Setup Step</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-18"><a href="#Works_With_UE4_Undo_System"><span class="tocnumber">9</span> <span class="toctext">Works With UE4 Undo System</span></a></li>
<li class="toclevel-1 tocsection-19"><a href="#Newest_Editor_Feature:"><span class="tocnumber">10</span> <span class="toctext">Newest Editor Feature:</span></a>
<ul>
<li class="toclevel-2 tocsection-20"><a href="#New_Display_Options"><span class="tocnumber">10.1</span> <span class="toctext">New Display Options</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#New_Workflow.283.2F27.2F14.29"><span class="tocnumber">10.2</span> <span class="toctext">New Workflow(3/27/14)</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#New_Snap_to_Surface_Normal_Workflow"><span class="tocnumber">10.3</span> <span class="toctext">New Snap to Surface Normal Workflow</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-23"><a href="#Drop_Static_Meshes_to_Nearest_Surface.21"><span class="tocnumber">11</span> <span class="toctext">Drop Static Meshes to Nearest Surface!</span></a></li>
<li class="toclevel-1 tocsection-24"><a href="#Vertex_Snap_Plugin"><span class="tocnumber">12</span> <span class="toctext">Vertex Snap Plugin</span></a>
<ul>
<li class="toclevel-2 tocsection-25"><a href="#UE4_Editor_Plugin.2C_No_Code_Compile_Required"><span class="tocnumber">12.1</span> <span class="toctext">UE4 Editor Plugin, No Code Compile Required</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-26"><a href="#Victory_Editor_Align_Mode"><span class="tocnumber">13</span> <span class="toctext">Victory Editor Align Mode</span></a>
<ul>
<li class="toclevel-2 tocsection-27"><a href="#Features:"><span class="tocnumber">13.1</span> <span class="toctext">Features:</span></a>
<ul>
<li class="toclevel-3 tocsection-28"><a href="#Instant_Mouse_Move_of_Static_Mesh_Actor"><span class="tocnumber">13.1.1</span> <span class="toctext">Instant Mouse Move of Static Mesh Actor</span></a></li>
<li class="toclevel-3 tocsection-29"><a href="#Reset_any_Static_Mesh_Actor.27s_rotation_to_0"><span class="tocnumber">13.1.2</span> <span class="toctext">Reset any Static Mesh Actor's rotation to 0</span></a></li>
<li class="toclevel-3 tocsection-30"><a href="#Vertx_Display_and_Snapping"><span class="tocnumber">13.1.3</span> <span class="toctext">Vertx Display and Snapping</span></a></li>
<li class="toclevel-3 tocsection-31"><a href="#Vertex_Resizing"><span class="tocnumber">13.1.4</span> <span class="toctext">Vertex Resizing</span></a></li>
<li class="toclevel-3 tocsection-32"><a href="#Verticies_Dynamically_Update"><span class="tocnumber">13.1.5</span> <span class="toctext">Verticies Dynamically Update</span></a></li>
<li class="toclevel-3 tocsection-33"><a href="#Vertex_Selection"><span class="tocnumber">13.1.6</span> <span class="toctext">Vertex Selection</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-34"><a href="#WorkFlow_Efficiency"><span class="tocnumber">13.2</span> <span class="toctext">WorkFlow Efficiency</span></a>
<ul>
<li class="toclevel-3 tocsection-35"><a href="#Fast_User_Interface"><span class="tocnumber">13.2.1</span> <span class="toctext">Fast User Interface</span></a></li>
<li class="toclevel-3 tocsection-36"><a href="#Speed:_Using_the_PDI_.2F_Primitive_Draw_Interface"><span class="tocnumber">13.2.2</span> <span class="toctext">Speed: Using the PDI / Primitive Draw Interface</span></a></li>
<li class="toclevel-3 tocsection-37"><a href="#High_Vertex_Counts"><span class="tocnumber">13.2.3</span> <span class="toctext">High Vertex Counts</span></a></li>
<li class="toclevel-3 tocsection-38"><a href="#Editor_Environment_Integration"><span class="tocnumber">13.2.4</span> <span class="toctext">Editor Environment Integration</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-39"><a href="#Using_Vertex_Snap_Mode"><span class="tocnumber">13.3</span> <span class="toctext">Using Vertex Snap Mode</span></a></li>
<li class="toclevel-2 tocsection-40"><a href="#Vertex_Editor_Plugin_Summary"><span class="tocnumber">13.4</span> <span class="toctext">Vertex Editor Plugin Summary</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-41"><a href="#"><span class="tocnumber">14</span> <span class="toctext"></span></a></li>
<li class="toclevel-1 tocsection-42"><a href="#My_Entire_Plugin_C.2B.2B_Source_Code"><span class="tocnumber">15</span> <span class="toctext">My Entire Plugin C++ Source Code</span></a>
<ul>
<li class="toclevel-2 tocsection-43"><a href="#Credits"><span class="tocnumber">15.1</span> <span class="toctext">Credits</span></a></li>
<li class="toclevel-2 tocsection-44"><a href="#VictoryEdEngine"><span class="tocnumber">15.2</span> <span class="toctext">VictoryEdEngine</span></a>
<ul>
<li class="toclevel-3 tocsection-45"><a href="#.H"><span class="tocnumber">15.2.1</span> <span class="toctext">.H</span></a></li>
<li class="toclevel-3 tocsection-46"><a href="#.CPP"><span class="tocnumber">15.2.2</span> <span class="toctext">.CPP</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-47"><a href="#VictoryEdMode"><span class="tocnumber">15.3</span> <span class="toctext">VictoryEdMode</span></a>
<ul>
<li class="toclevel-3 tocsection-48"><a href="#.H_2"><span class="tocnumber">15.3.1</span> <span class="toctext">.H</span></a></li>
<li class="toclevel-3 tocsection-49"><a href="#.CPP_2"><span class="tocnumber">15.3.2</span> <span class="toctext">.CPP</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-50"><a href="#_2"><span class="tocnumber">16</span> <span class="toctext"></span></a></li>
<li class="toclevel-1 tocsection-51"><a href="#Core_of_Making_Your_Own_Editor_Mode"><span class="tocnumber">17</span> <span class="toctext">Core of Making Your Own Editor Mode</span></a>
<ul>
<li class="toclevel-2 tocsection-52"><a href="#Interaction_of_EdEngine_with_EdMode_Class"><span class="tocnumber">17.1</span> <span class="toctext">Interaction of EdEngine with EdMode Class</span></a></li>
<li class="toclevel-2 tocsection-53"><a href="#Activating_The_Editor_Mode.2C_Once_Created"><span class="tocnumber">17.2</span> <span class="toctext">Activating The Editor Mode, Once Created</span></a></li>
<li class="toclevel-2 tocsection-54"><a href="#The_Ed_Mode.27s_Unique_ID"><span class="tocnumber">17.3</span> <span class="toctext">The Ed Mode's Unique ID</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-55"><a href="#Plugin_Build.cs"><span class="tocnumber">18</span> <span class="toctext">Plugin Build.cs</span></a></li>
<li class="toclevel-1 tocsection-56"><a href="#Plugin_Download_2"><span class="tocnumber">19</span> <span class="toctext">Plugin Download</span></a></li>
<li class="toclevel-1 tocsection-57"><a href="#Enjoy.21"><span class="tocnumber">20</span> <span class="toctext">Enjoy!</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Overview">Overview</span></h2>
<p><i>Plugin Author:</i> <a href="/User:Rama" title="User:Rama">Rama</a> (<a href="/User_talk:Rama" title="User talk:Rama">talk</a>)
</p><p>Dear Community,
</p><p>Here is my Vertex Snapping UE4 Editor Plugin!
</p><p>Below I am sharing with you not only the actual plugin, but the <b>entire source code for</b>:
</p><p>1. The plugin, showing you how to make your own (you get the source with my plugin file download)
</p><p>2. My extended UE4 Editor Engine class
</p><p>3. My very own Vertex Snapping Editor Mode, showing you via complete example how you can make your own Editor Modes!
</p>
<h3><span class="mw-headline" id="Entire_C.2B.2B_Source_Code">Entire C++ Source Code</span></h3>
<p><a href="#My_Entire_Plugin_C.2B.2B_Source_Code">My Entire C++ Source Code For You!</a>
</p>
<h2><span class="mw-headline" id="Pictures">Pictures</span></h2>
<p><a href="/File:InstancedStaticMeshEditor.jpg" class="image" title="800x"><img alt="800x" src="https://d26ilriwvtzlb.cloudfront.net/b/b2/InstancedStaticMeshEditor.jpg" width="971" height="695" /></a>
</p><p><a href="/File:VertexSnapContinuous.jpg" class="image"><img alt="VertexSnapContinuous.jpg" src="https://d3ar1piqh1oeli.cloudfront.net/8/8d/VertexSnapContinuous.jpg/486px-VertexSnapContinuous.jpg" width="486" height="450" srcset="https://d3ar1piqh1oeli.cloudfront.net/8/8d/VertexSnapContinuous.jpg/729px-VertexSnapContinuous.jpg 1.5x, https://d26ilriwvtzlb.cloudfront.net/8/8d/VertexSnapContinuous.jpg 2x" /></a>
</p><p><a href="/File:VertexEditorPlugin_Snap.jpg" class="image"><img alt="VertexEditorPlugin Snap.jpg" src="https://d3ar1piqh1oeli.cloudfront.net/3/38/VertexEditorPlugin_Snap.jpg/600px-VertexEditorPlugin_Snap.jpg" width="600" height="450" srcset="https://d3ar1piqh1oeli.cloudfront.net/3/38/VertexEditorPlugin_Snap.jpg/900px-VertexEditorPlugin_Snap.jpg 1.5x, https://d3ar1piqh1oeli.cloudfront.net/3/38/VertexEditorPlugin_Snap.jpg/1200px-VertexEditorPlugin_Snap.jpg 2x" /></a>
</p><p><a href="/File:VertexEditorPlugin_Resize.jpg" class="image"><img alt="VertexEditorPlugin Resize.jpg" src="https://d3ar1piqh1oeli.cloudfront.net/b/bf/VertexEditorPlugin_Resize.jpg/600px-VertexEditorPlugin_Resize.jpg" width="600" height="450" srcset="https://d3ar1piqh1oeli.cloudfront.net/b/bf/VertexEditorPlugin_Resize.jpg/900px-VertexEditorPlugin_Resize.jpg 1.5x, https://d3ar1piqh1oeli.cloudfront.net/b/bf/VertexEditorPlugin_Resize.jpg/1200px-VertexEditorPlugin_Resize.jpg 2x" /></a>
</p><p><a href="/File:VertexEditorPlugin_SnapAngle.jpg" class="image"><img alt="VertexEditorPlugin SnapAngle.jpg" src="https://d3ar1piqh1oeli.cloudfront.net/f/fc/VertexEditorPlugin_SnapAngle.jpg/600px-VertexEditorPlugin_SnapAngle.jpg" width="600" height="450" srcset="https://d3ar1piqh1oeli.cloudfront.net/f/fc/VertexEditorPlugin_SnapAngle.jpg/900px-VertexEditorPlugin_SnapAngle.jpg 1.5x, https://d3ar1piqh1oeli.cloudfront.net/f/fc/VertexEditorPlugin_SnapAngle.jpg/1200px-VertexEditorPlugin_SnapAngle.jpg 2x" /></a>
</p>
<h2><span class="mw-headline" id="Plugin_Release_Dates_and_UE4_Engine_Versions">Plugin Release Dates and UE4 Engine Versions</span></h2>
<h2><span class="mw-headline" id="All_Future_Updates">All Future Updates</span></h2>
<p>Because of the wiki file size limit of 20mb I am compelled to unify my Victory Plugin distribution into Editor + Packaged Binaries only in a media fire download from now on.
</p><p>All future updates are at this link:
</p><p><a rel="nofollow" class="external text" href="https://www.mediafire.com/?ieovbd5l9d7yub2">Rama's Victory Plugin, Editor + Packaged Binaries</a>
</p><p>Entire C++ Source code is included!
</p><p><b>Github link:</b>
<a rel="nofollow" class="external free" href="https://github.com/EverNewJoy/VictoryPlugin">https://github.com/EverNewJoy/VictoryPlugin</a>
</p>
<h3><span class="mw-headline" id="4.11">4.11</span></h3>
<p>4.11 is the current engine version of my Victory Plugin, beginning with the February 15th build!
</p><p>Please note that due to wiki file size limits (20mb), starting with 4.11 Victory Packaged Binaries only contains Development Win64.
</p><p>If you need to package for a build other than Development Win64 you will need to install visual studio 2015 and compile the source code that I freely provide with every build.
</p>
<h3><span class="mw-headline" id="4.10">4.10</span></h3>
<p>The last 4.10 updates of my plugins:
</p><p>February 6th, 2016
</p>
<h3><span class="mw-headline" id="4.9.2">4.9.2</span></h3>
<p>The last 4.9.2 updates for my plugins:
</p><p><b>Victory BP Library</b> ~ October 14th, 2015
</p><p><b>Victory BP Library Packaged Binaries</b> ~ October 14th, 2015
</p><p><b>Victory Ed Engine(Vertex Snap and ISM Editor)</b> ~ October 25th, 2015
</p>
<h2><span class="mw-headline" id="Plugin_Download">Plugin Download</span></h2>
<p>(Please note these files do not contain an executable, just the .dll that UE4 needs for a plugin, that's why the file warning appears)
</p>
<h3><span class="mw-headline" id="Victory_BP_Library_.7E_100.2B_Extra_Blueprint_Nodes">Victory BP Library ~ 100+ Extra Blueprint Nodes</span></h3>
<p><a href="/File:VictoryPlugin.zip" title="File:VictoryPlugin.zip">File:VictoryPlugin.zip</a>
</p><p>If you want to <b>package</b> my plugin for <b>Win32 Shipping</b> or <b>Win64 Development</b> you can merge these binaries with the main plugin installation above!
</p><p><a href="/File:VictoryPluginPackaged.zip" title="File:VictoryPluginPackaged.zip">File:VictoryPluginPackaged.zip</a>
</p>
<h3><span class="mw-headline" id="Victory_Ed_Engine_.7E_Vertex_Snapping_.26_Instanced_Static_Mesh_Editor">Victory Ed Engine ~ Vertex Snapping &amp; Instanced Static Mesh Editor</span></h3>
<p><a href="/File:VictoryEdEngine.zip" title="File:VictoryEdEngine.zip">File:VictoryEdEngine.zip</a>
</p>
<h2><span class="mw-headline" id="Installation_of_Victory_Blueprint_Library">Installation of Victory Blueprint Library</span></h2>
<p>You should install my Victory Plugin in the Engine/Plugins/Runtime folder of the appropriate Engine version.
</p><p>You should always try to package for Development Win64 first, and Shipping Win32 as these are the only two platforms I support for those who do not have C++ access.
</p><p><a rel="nofollow" class="external text" href="https://forums.unrealengine.com/showthread.php?3851-(39)-Rama-s-Extra-Blueprint-Nodes-for-You-as-a-Plugin-No-C-Required!&amp;p=476476&amp;viewfull=1#post476476">Detailed Description</a>
</p>
<h2><span class="mw-headline" id="Installation_of_VictoryEdEngine_for_Vertex_Snapping">Installation of VictoryEdEngine for Vertex Snapping</span></h2>
<p><a href="/File:Victorybpplugin.jpg" class="image"><img alt="Victorybpplugin.jpg" src="https://d3ar1piqh1oeli.cloudfront.net/0/0b/Victorybpplugin.jpg/650px-Victorybpplugin.jpg" width="650" height="391" srcset="https://d3ar1piqh1oeli.cloudfront.net/0/0b/Victorybpplugin.jpg/975px-Victorybpplugin.jpg 1.5x, https://d3ar1piqh1oeli.cloudfront.net/0/0b/Victorybpplugin.jpg/1300px-Victorybpplugin.jpg 2x" /></a>
</p><p><br />
Plugin download (<b>5.8 MB</b>):
</p><p><br />
It is important to do all of these steps in order
</p><p>1. download my editor / BP plugin and put in a directory directly off of your main project directory called "<b>Plugins</b>"
</p><p>spelling must be exact 
</p><p>2. Load UE4 editor and go to Windows-&gt;Plugins
</p><p>3. Find my plugin and make sure it is checked as being active
</p><p>4. maybe double check #3
</p><p>5. close the editor.
</p><p>6. go to <b>YourProject/Config/DefaultEngine.ini</b>
</p><p>7. add these lines:
</p><p><br />	
</p>
<pre> [/Script/Engine.Engine]
 UnrealEdEngine=/Script/VictoryEdEngine.VictoryEdEngine
</pre>
<p><br />	
8. Load UE4 Editor again
</p><p>9. click on any static mesh actor 
</p><p>10. You should now see the Victory Editor HotKeys button in the top left
</p><p>11. If you hover mouse over this title area any time, you can get the list of hotkeys
</p><p>12. Enjoooy!
</p><p><b>What does this all do?</b>
</p><p>My plugin includes an alternative UnrealEdEngine class, that makes use of my new additional FEdMode editor mode class.
</p><p>The config file tells the main UE4 binary to use my alternative UnrealEdEngine class instead of the default.
</p><p>Commenting out the line you added will instantly disable my Editor Mode.
</p><p>Unchecking my plugin in Windows-&gt;Plugins within the editor, but leaving the config file set,
</p><p>is pretty much guaranteed to cause a crash.
</p><p>soooo
</p>
<h3><span class="mw-headline" id="Disabling_My_Editor_Mode_.2F_Entire_Plugin">Disabling My Editor Mode / Entire Plugin</span></h3>
<p>To disable my editor mode you should *always* comment out the DefaultEngine.ini line first!
</p><p>Then you can load the editor again and disable the plugin entirely
</p><p><br />
My plugin cannot corrupt or damage your main UE4 install in any way,
</p><p><br />
If you get a crash dont panic, just read these steps again 
</p><p><br />
<b>" Help I can't Load UE4 Anymore "</b>
</p><p>The worst that can happen is that the config file gets setup up wrong, 
</p><p>and you wont be able to load the editor, 
</p><p>and it will crash if you try cause it can't find the new Engine class.
</p><p><br />
<b>But, this is extremely easy to fix!</b>
</p><p><br />
just comment out the line that you added in your config file and you are guaranteed good-to-go
</p>
<pre> [/Script/Engine.Engine]
 UnrealEdEngine=/Script/VictoryEdEngine.VictoryEdEngine
</pre>
<h2><span class="mw-headline" id="Instanced_Static_Mesh_Editor">Instanced Static Mesh Editor</span></h2>
<p><a href="/File:InstancedStaticMeshEditor.jpg" class="image" title="800x"><img alt="800x" src="https://d26ilriwvtzlb.cloudfront.net/b/b2/InstancedStaticMeshEditor.jpg" width="971" height="695" /></a>
</p><p><b>Introduction Video</b>
</p><p><iframe width="560" height="315" src="//www.youtube.com/embed/iC1sjgalEJg" frameborder="0" allowfullscreen></iframe>
</p><p><br />
<b>Setup</b>
</p><p><iframe width="560" height="315" src="//www.youtube.com/embed/mYj_kaLDZZ4" frameborder="0" allowfullscreen></iframe>
</p><p>I recently added a feature so that you can select many static mesh actors that all have the same static mesh and convert them into 1 instanced static mesh!
</p><p>This process can be reversed at any time to make individual edits!
</p><p>In this way you can enable UE4 to render 1000s of static meshes while maintaining very high FPS!
</p><p>Now you can edit instanced static meshes with all the tools you are familiar with and convert all the static mesh actors when you are done, to get a huge FPS boost!
</p>
<h3><span class="mw-headline" id="Update:_Part_of_Victory_Ed_Engine">Update: Part of Victory Ed Engine</span></h3>
<p>My ISM Editor feature is now part of the Victory Ed Engine plugin which is separate from the Victory BP Library plugin&#160;:)
</p><p><br />
</p>
<h3><span class="mw-headline" id="Mandatory_Setup_Step">Mandatory Setup Step</span></h3>
<p>To make my Instanced Static Mesh system work with your project you have to choose a ISM actor class. You can either create your own by adding a Instanced Static Mesh Actor to a new Actor blueprint, making the ISM component the root component, or you can use the VictoryISM class in my Victory BP Library plugin!
</p><p>1. Go to Project Settings-&gt;Game-&gt;Victory Ed Engine
</p><p>2. Choose your own custom Instanced Static Mesh Actor class, or use the one from my Victory BP Library plugin
</p><p>3. Select a bunch of static mesh actors and press i to convert them, shift + i to convert back, also work with undo/redo
</p><p>4. Enjoy!
</p>
<h2><span class="mw-headline" id="Works_With_UE4_Undo_System">Works With UE4 Undo System</span></h2>
<p>My Vertex Snap Editor Mode now works with UE4's undo system!
</p><p>Yay!
</p><p>You can undo as many individual snap events as you want!
</p><p>Note that I only save an undo state when you release the V key to avoid flooding the system while you are continuously snapping while holding down V.
</p><p>So make sure you release the V key to save your final state before using CTRL + Z
</p><p><a href="/File:Undo.jpg" class="image"><img alt="Undo.jpg" src="https://d3ar1piqh1oeli.cloudfront.net/b/bb/Undo.jpg/600px-Undo.jpg" width="600" height="375" srcset="https://d3ar1piqh1oeli.cloudfront.net/b/bb/Undo.jpg/900px-Undo.jpg 1.5x, https://d26ilriwvtzlb.cloudfront.net/b/bb/Undo.jpg 2x" /></a>
</p><p>Rama
</p>
<h2><span class="mw-headline" id="Newest_Editor_Feature:">Newest Editor Feature:</span></h2>
<h3><span class="mw-headline" id="New_Display_Options">New Display Options</span></h3>
<p>Now pressing the U key is a display toggle!
</p>
<ul>
<li>Default = only show the vertex the mouse is hovering over
</li>
<li>Press U once to show all vertices
</li>
<li>Press U again to show no vertices
</li>
<li>Press U again to be back to showing cursor-highlighted vertices only
</li>
<li>etc
</li>
</ul>
<h3><span class="mw-headline" id="New_Workflow.283.2F27.2F14.29">New Workflow(3/27/14)</span></h3>
<ul>
<li>Press V to select a vertex
</li>
<li>Hold down V to continuously snap to vertices of other highlighted meshes
</li>
<li>Release to finalize the move 
</li>
</ul>
<h3><span class="mw-headline" id="New_Snap_to_Surface_Normal_Workflow">New Snap to Surface Normal Workflow</span></h3>
<ul>
<li>Press V and and also hold down shift
</li>
<li>If you fiddle with your approach angle and move the mouse little bits, you can get some really great normal alignments without much effort
</li>
</ul>
<p>Enjoy!
</p><p>Rama
</p><p><a href="/File:VertexSnapContinuous.jpg" class="image"><img alt="VertexSnapContinuous.jpg" src="https://d3ar1piqh1oeli.cloudfront.net/8/8d/VertexSnapContinuous.jpg/486px-VertexSnapContinuous.jpg" width="486" height="450" srcset="https://d3ar1piqh1oeli.cloudfront.net/8/8d/VertexSnapContinuous.jpg/729px-VertexSnapContinuous.jpg 1.5x, https://d26ilriwvtzlb.cloudfront.net/8/8d/VertexSnapContinuous.jpg 2x" /></a>
</p>
<h2><span class="mw-headline" id="Drop_Static_Meshes_to_Nearest_Surface.21">Drop Static Meshes to Nearest Surface!</span></h2>
<p><b>Now you can just press the Y key in the UE4 Editor</b> 
</p><p>to drop the selected Static Mesh or Static Meshes to the nearest surface in the level!
</p><p><br />
You can drop Static Meshes down to each other too!
</p><p>My algorithm takes into account the actual shape of the static mesh being dropped, as well as the landscape/level/meshes it is being dropped onto!
</p><p><b>If you have multiple objects selected</b>, they are treated as one big object and all the surfaces are calculated together, and the group is dropped, maintaining formation, to the nearest surface within your level.
</p>
<h2><span class="mw-headline" id="Vertex_Snap_Plugin">Vertex Snap Plugin</span></h2>
<p>My extended Editor Engine detects when the user clicks on a static mesh actor, and activates my Vertex Snapping Editor Mode.
</p>
<h3><span class="mw-headline" id="UE4_Editor_Plugin.2C_No_Code_Compile_Required">UE4 Editor Plugin, No Code Compile Required</span></h3>
<p>Dear Community,
</p><p>This is my very first <b>new Editor Mode</b> for the main UE4 Editor!
</p><p>This is a tiny ( under 10 MB ) plugin, that you can download and use without having to compile any source code.
</p><p>Your project <i>does not</i> have to be a code-based project!
</p><p><b>It adds 3 new features</b>
</p><p>1. Toggle instantly moving selected static meshes to the mouse cursor, to quickly move them around, or "teleport" them across the map, supports Multi Selection.
</p><p><br />
2. Press K to reset a static mesh actor's rotation
</p><p><br />
3. Vertex Snapping! Optionally snap to surface normal of destination static mesh
</p>
<pre>   -verticies can be resized anytime using + or -
   -you can cycle among 5 different verticies display options at any time 
   -you can toggle vertex displaying by pressing Y.
</pre>
<p><br />
All of the features are related to static mesh actors and my editor mode disables itself if you are not working with a static mesh actor.
</p><p>It is super easy to enable or disable my editor mode, or suspend it entirely after trying it out.
</p><p><br />
<b>With my editor mode plugin you can enjoy some new features for your UE4 Editor Experience!</b>
</p><p><br />
</p>
<h2><span class="mw-headline" id="Victory_Editor_Align_Mode">Victory Editor Align Mode</span></h2>
<h3><span class="mw-headline" id="Features:">Features:</span></h3>
<h4><span class="mw-headline" id="Instant_Mouse_Move_of_Static_Mesh_Actor">Instant Mouse Move of Static Mesh Actor</span></h4>
<p>	-Press T key to toggle this mode! 	(mapping it to a mouse button proved too complicated given all existing editor mouse button functionality)
</p><p>	-The selected Static Mesh(es) will move instantly to follow the mouse cursor anywhere in the XY plane, staying on the current Z 
</p><p>	-This can be used to instantly move objects to a location by
		a. selecting them all
		b. moving to your desired destination location
		c. press T key and they will all warp to your current location&#160;:)
</p><p>	-Supports multi-selection
</p>
<h4><span class="mw-headline" id="Reset_any_Static_Mesh_Actor.27s_rotation_to_0">Reset any Static Mesh Actor's rotation to 0</span></h4>
<p>	-Press the K key
	-just a handy little feature, 
	-extra-useful if the vertex Snap-By-Surface-Normal goes wonky
</p>
<h4><span class="mw-headline" id="Vertx_Display_and_Snapping">Vertx Display and Snapping</span></h4>
<p>	-Press Y key to toggle displaying of static mesh verticies!
	-Press B to toggled between five different display types for all verticies
		a. simple crosshair
		b. solid rectangle
		c. 3D box
		d. diamond (pretty good even at 4000 verticies)
		e. sphere (slow for &gt; 3000 verticies)
</p><p>	-Hold SHIFT while selecting the second vertex to use Snap-By-Surface-Normal, which will try to align the source static mesh actor with the surface of the destination actor.
</p><p>	-snap selected static mesh actor by chosen vertex to the chosen vertex of another static mesh actor,
</p><p>	-can do whole process with 3 input key presses total!
</p><p><br />
</p>
<h4><span class="mw-headline" id="Vertex_Resizing">Vertex Resizing</span></h4>
<p>You can resize all the verticies at once by pressing and holding -/+ 
</p><p><br />
</p>
<h4><span class="mw-headline" id="Verticies_Dynamically_Update">Verticies Dynamically Update</span></h4>
<p>No matter how you scale or rotate the mesh the drawn verticies will update correctly:)
</p><p><br />
</p>
<h4><span class="mw-headline" id="Vertex_Selection">Vertex Selection</span></h4>
<p>You can move/rotate the selected static mesh actor after selecting one of its verticies, and the selection will be maintained and updated.
</p><p><br />
</p>
<h3><span class="mw-headline" id="WorkFlow_Efficiency">WorkFlow Efficiency</span></h3>
<h4><span class="mw-headline" id="Fast_User_Interface">Fast User Interface</span></h4>
<p>Vertex snapping can be accompished in three input presses total
</p><p>1. select the actor you are going to move
2. hover over chosen vertex and press V
3. hover over chosen vertex of other mesh and press V
</p><p>The reason this only takes 3 inputs is because when you hover the mouse over other static mesh actors, 
</p><p>my editor mode automatically highlights all of the vertices and the vertex that is closest to the cursor.
</p><p><br />
<b>Why not use Mouse Click?</b>
</p><p>The reason the vertex selections are key presses not mouse clicks:
</p><p>-any kind of mouse click tends to change selection, and I dont wish to override this functionality
</p><p>-it's easy to miss-click with the mouse on a vertex that is at a corner, and end up selecting the landscape instead
</p><p>-the thematic consistency provided by using a same-key-press to do the whole snap process feels nice&#160;:)
</p><p><b>The flow becomes:</b>
</p><p>hover mouse over vertex
press key V
</p><p>hover mouse over other vertex
press same key V
</p><p>Snap done!
</p>
<h4><span class="mw-headline" id="Speed:_Using_the_PDI_.2F_Primitive_Draw_Interface">Speed: Using the PDI / Primitive Draw Interface</span></h4>
<p>In case you are curious, I am drawing directly to the PDI, the fundamental drawing surface, using DrawPoint.
</p><p>This is about as light-weight as I know how to get at present
</p><p>An advantage of using PDI and DrawPoint is that only verticies in the chosen depth priority will draw.
</p><p><b>This enables me to hide verticies</b> that you would not realistically want to click on from the opposite side of a mesh.
</p>
<h4><span class="mw-headline" id="High_Vertex_Counts">High Vertex Counts</span></h4>
<p>-Verticies are not drawn if the object vertex count is too high (10,000 at moment), as that could cause a long delay or even a hang if you click on a high-res statue or something like that&#160;:)
</p><p>- I automatically switch sphere vertex display mode down to box mode if vertex cound is &gt; 5000 to prevent slowdown if cycling through the B key 
</p><p><br />
</p>
<h4><span class="mw-headline" id="Editor_Environment_Integration">Editor Environment Integration</span></h4>
<p>-Victory Align Mode auto-activates when you click on Static Mesh Actors, 
</p><p>-Press P key to restore previous Editor mode and Real Time Status instantly
</p><p>-Clicking on non-static mesh actors will restore previous Editor Mode
</p><p><br />
<b>Example:</b>
</p><p>If you are busy clicking on stuff and you end up in my editor mode by accident, press the P key to instantly revert to prevous mode
</p><p><b>Interface:</b>
</p><p>-There is a useful hover-button in top left of window that will show you all the hotkeys for this Editor Mode any time you hover mouse over it
</p><p>-The hover-button fades itself out to be less visual distraction, but hovering mouse over it will fade it back in and display helpful info
</p><p>-When using the Instant Mouse Move by tapping the T key, 
</p>
<pre>     the move/rotate/scale main editor widget disappears to let you know you are in that mode and also because it is not really usable while using the T-key mode.
</pre>
<p>-Deselecting or exiting the mode cancels the Instant T(ranslate) key mode.
</p>
<h3><span class="mw-headline" id="Using_Vertex_Snap_Mode">Using Vertex Snap Mode</span></h3>
<p>Once you click on a static mesh actor, if the verticies are not showing, press the V key
</p><p>1. Hover mouse on vertex, 
</p><p>2. press V
</p><p>3. Hover mouse over other static mesh and one of its verticies, 
</p><p>4. press V
</p><p><br />
If you are using Align-By-Surface-Normal, the selected static mesh will attempt to orient itself to the surface closest to the vertex of the other static mesh.
</p>
<h3><span class="mw-headline" id="Vertex_Editor_Plugin_Summary">Vertex Editor Plugin Summary</span></h3>
<p><b>Light-Weight for Your UE4 Editing Experience</b>
</p><p>I tried to make the vertex-selection aspect of my editor mode as light-weight as possible,
</p><p>- no traces
- no collision
- no extra actors involved
- just drawing to the PDI
</p><p>There is not actually any 3D collision for the verticies!
</p><p>I defined a "button" struct which stores the projected coordinates of the verticies, plus the resizable drawn-vertex scaling.
</p><p>So as you scale the verticies the buttons grow to accommodate.
</p><p>Whenever the view changes, the buttons are freshed.
</p><p>If there is no input to the UE4 Editor or you have it in the background, the buttons are never refreshed 
</p><p>In Summary, it's just a bunch of invisible floats that are determining when you are clicking or highlighting the verticies of the Static Mesh Actors
</p><p><br />
</p><p><b>Have Fun</b>
</p><p>Have fun with my editor mode!
</p><p><a href="/User:Rama" title="User:Rama">Rama</a> (<a href="/User_talk:Rama" title="User talk:Rama">talk</a>)
</p>
<h2><span class="mw-headline" id=""></span></h2>
<h2><span class="mw-headline" id="My_Entire_Plugin_C.2B.2B_Source_Code">My Entire Plugin C++ Source Code</span></h2>
<h3><span class="mw-headline" id="Credits">Credits</span></h3>
<p>Feel free to use my C++ code as an outline for making your own Editor Mode Plugin!
</p><p>Just please give me credit somewhere appropriate.
</p><p>I did not use any algorithms or math equations from any source, 
</p><p>I wrote all the code myself and just used Epic's awesome UE4 Beta .h files as a reference.
</p>
<pre> <b>This code does not contain any UE4 C++ source code, as I did not have access to it when I wrote this plugin.</b>
</pre>
<h3><span class="mw-headline" id="VictoryEdEngine">VictoryEdEngine</span></h3>
<p>This is the class that becomes your new UE4 Engine class, and it must be set to be used by UE4 via DefaultEngine.ini
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp source-cpp"><pre class="de1"><span class="br0">&#91;</span><span class="sy2">/</span>Script<span class="sy2">/</span>Engine.<span class="me1">Engine</span><span class="br0">&#93;</span>
<span class="sy4">;</span>UnrealEdEngine<span class="sy1">=</span><span class="sy2">/</span>Script<span class="sy2">/</span>UnrealEd.<span class="me1">UnrealEdEngine</span>
UnrealEdEngine<span class="sy1">=</span><span class="sy2">/</span>Script<span class="sy2">/</span>VictoryBPLibrary.<span class="me1">VictoryEdEngine</span></pre></div></div>
<h4><span class="mw-headline" id=".H">.H</span></h4>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp source-cpp"><pre class="de1"><span class="co2">#pragma once</span>
&#160;
<span class="co2">#include &quot;UnrealEd.h&quot; </span>
<span class="co2">#include &quot;VictoryEdAlignMode.h&quot;</span>
<span class="co2">#include &quot;VictoryEdEngine.generated.h&quot;</span>
&#160;
USTRUCT<span class="br0">&#40;</span><span class="br0">&#41;</span>
<span class="kw4">struct</span> FDropToClosestSurfaceData
<span class="br0">&#123;</span>
	GENERATED_USTRUCT_BODY<span class="br0">&#40;</span><span class="br0">&#41;</span>
&#160;
	UPROPERTY<span class="br0">&#40;</span><span class="br0">&#41;</span>
	AStaticMeshActor<span class="sy2">*</span> TheActor<span class="sy4">;</span>
&#160;
	UPROPERTY<span class="br0">&#40;</span><span class="br0">&#41;</span>
	FVector SurfaceLoc<span class="sy4">;</span>
&#160;
	UPROPERTY<span class="br0">&#40;</span><span class="br0">&#41;</span>
	<span class="kw4">float</span> DistSquared<span class="sy4">;</span>
&#160;
	FDropToClosestSurfaceData<span class="br0">&#40;</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		DistSquared <span class="sy1">=</span> <span class="nu0">1000000000</span><span class="sy4">;</span>
		SurfaceLoc <span class="sy1">=</span> FVector<span class="sy4">::</span><span class="me2">ZeroVector</span><span class="sy4">;</span>
		TheActor <span class="sy1">=</span> <span class="kw2">NULL</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
<span class="br0">&#125;</span><span class="sy4">;</span>
USTRUCT<span class="br0">&#40;</span><span class="br0">&#41;</span>
<span class="kw4">struct</span> FVButton
<span class="br0">&#123;</span>
	GENERATED_USTRUCT_BODY<span class="br0">&#40;</span><span class="br0">&#41;</span>
&#160;
	UPROPERTY<span class="br0">&#40;</span><span class="br0">&#41;</span>
	<span class="kw4">int32</span> Vibe<span class="sy4">;</span>
&#160;
	UPROPERTY<span class="br0">&#40;</span><span class="br0">&#41;</span>
	FVector PointInWorld<span class="sy4">;</span>
&#160;
	UPROPERTY<span class="br0">&#40;</span><span class="br0">&#41;</span>
	<span class="kw4">float</span> minX<span class="sy4">;</span>
&#160;
	UPROPERTY<span class="br0">&#40;</span><span class="br0">&#41;</span>
	<span class="kw4">float</span> maxX<span class="sy4">;</span>
&#160;
	UPROPERTY<span class="br0">&#40;</span><span class="br0">&#41;</span>
	<span class="kw4">float</span> minY<span class="sy4">;</span>
&#160;
	UPROPERTY<span class="br0">&#40;</span><span class="br0">&#41;</span>
	<span class="kw4">float</span> maxY<span class="sy4">;</span>
&#160;
	FVButton<span class="br0">&#40;</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		Vibe <span class="sy1">=</span> <span class="sy2">-</span><span class="nu0">1</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
<span class="br0">&#125;</span><span class="sy4">;</span>
&#160;
UCLASS<span class="br0">&#40;</span>config<span class="sy1">=</span>Engine<span class="br0">&#41;</span>
<span class="kw2">class</span> UVictoryEdEngine <span class="sy4">:</span> <span class="kw2">public</span> UUnrealEdEngine
<span class="br0">&#123;</span>
	GENERATED_UCLASS_BODY<span class="br0">&#40;</span><span class="br0">&#41;</span>
&#160;
	<span class="kw4">bool</span> CreatedVictoryEdMode<span class="sy4">;</span>
&#160;
	<span class="co1">//the user-selected mode prior to initiating VictoryEdMode</span>
	FEditorModeID PrevModeID<span class="sy4">;</span>
&#160;
&#160;
<span class="co1">//utility</span>
&#160;
<span class="co1">//Assets</span>
<span class="kw2">public</span><span class="sy4">:</span>
&#160;
	<span class="coMULTI">/*
	UPROPERTY()
	UStaticMesh* AssetSM_EngineCube;
	//StaticMesh'/Engine/EngineMeshes/Cube.Cube'
&#160;
&#160;
	UPROPERTY()
	UMaterial* ColorMat;
&#160;
	UPROPERTY()
	UMaterialInstanceDynamic* ColorMatInst_GlowyBlue;
&#160;
	UPROPERTY()
	UMaterialInstanceDynamic* ColorMatInst_GlowyRed;
&#160;
	UPROPERTY()
	UMaterialInstanceDynamic* ColorMatInst_GlowyYellow;
	*/</span>
&#160;
<span class="co1">//Font</span>
<span class="kw2">public</span><span class="sy4">:</span>
	UPROPERTY<span class="br0">&#40;</span><span class="br0">&#41;</span>
	UFont<span class="sy2">*</span> VictoryEditorFont<span class="sy4">;</span>
	<span class="co1">//Font'/Engine/EngineFonts/RobotoDistanceField.RobotoDistanceField'</span>
&#160;
	FORCEINLINE UFont<span class="sy2">*</span> GetVictoryFont<span class="br0">&#40;</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		<span class="kw1">if</span><span class="br0">&#40;</span>VictoryEditorFont<span class="br0">&#41;</span> <span class="kw1">return</span> VictoryEditorFont<span class="sy4">;</span>
		<span class="kw1">return</span> GetStatsFont<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
<span class="co1">//Selection</span>
<span class="kw2">public</span><span class="sy4">:</span>
	AActor<span class="sy2">*</span> VSelectedActor<span class="sy4">;</span>
&#160;
	TArray<span class="sy1">&lt;</span>FVector<span class="sy1">&gt;</span> SelectionRelativeOffsets<span class="sy4">;</span>
	<span class="kw4">void</span> GetSelectedActorsRelativeOffsets<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw4">bool</span> SelectedActorVerticiesNeedsUpdating<span class="sy4">;</span>
	<span class="kw4">bool</span> ClearSelectedVertex<span class="sy4">;</span>
&#160;
<span class="co1">//core</span>
<span class="kw2">public</span><span class="sy4">:</span>
	<span class="kw4">static</span> <span class="kw4">const</span> FName VictoryEditorModeID<span class="sy4">;</span>
	<span class="kw4">void</span> SwitchToVictoryEdMode<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	FORCEINLINE <span class="kw4">void</span> ExitVictoryAlignMode<span class="br0">&#40;</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		<span class="co1">//Deactivate Mode</span>
		GEditorModeTools<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">DeactivateMode</span><span class="br0">&#40;</span> VictoryEditorModeID <span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
		<span class="co1">//Restore Previous Realtime State</span>
		<span class="co1">//GCurrentLevelEditingViewportClient-&gt;RestoreRealtime(true); //allow disable</span>
&#160;
		<span class="co1">//Activate Previous Mode</span>
		GEditorModeTools<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">ActivateMode</span><span class="br0">&#40;</span>PrevModeID<span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
<span class="co1">//tests</span>
<span class="kw2">public</span><span class="sy4">:</span>
	<span class="kw4">void</span> RunTests<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
<span class="kw2">protected</span><span class="sy4">:</span>
&#160;
	<span class="kw2">virtual</span> <span class="kw4">void</span> NoteSelectionChange<span class="br0">&#40;</span><span class="br0">&#41;</span> OVERRIDE<span class="sy4">;</span>
&#160;
	<span class="kw2">virtual</span> <span class="kw4">void</span> Tick<span class="br0">&#40;</span><span class="kw4">float</span> DeltaSeconds, <span class="kw4">bool</span> bIdleMode<span class="br0">&#41;</span> OVERRIDE<span class="sy4">;</span>
<span class="br0">&#125;</span><span class="sy4">;</span></pre></div></div>
<h4><span class="mw-headline" id=".CPP">.CPP</span></h4>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp source-cpp"><pre class="de1"><span class="co1">// Copyright 1998-2013 Epic Games, Inc. All Rights Reserved.</span>
&#160;
<span class="co1">//Unreal Editor Fun With Rama</span>
&#160;
<span class="co1">//#include &quot;VictoryGame.h&quot;</span>
<span class="co2">#include &quot;VictoryBPLibraryPrivatePCH.h&quot;</span>
&#160;
&#160;
<span class="kw4">const</span> FName UVictoryEdEngine<span class="sy4">::</span><span class="me2">VictoryEditorModeID</span> <span class="sy1">=</span> FName<span class="br0">&#40;</span><span class="st0">&quot;VictoryEditorMode&quot;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
UVictoryEdEngine<span class="sy4">::</span><span class="me2">UVictoryEdEngine</span><span class="br0">&#40;</span><span class="kw4">const</span> <span class="kw2">class</span> FPostConstructInitializeProperties<span class="sy3">&amp;</span> PCIP<span class="br0">&#41;</span>
	<span class="sy4">:</span> Super<span class="br0">&#40;</span>PCIP<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	CreatedVictoryEdMode <span class="sy1">=</span> <span class="kw2">false</span><span class="sy4">;</span>
&#160;
	PrevModeID <span class="sy1">=</span> FBuiltinEditorModes<span class="sy4">::</span><span class="me2">EM_Default</span><span class="sy4">;</span>
&#160;
	<span class="co1">//Font</span>
	<span class="kw4">static</span> ConstructorHelpers<span class="sy4">::</span><span class="me2">FObjectFinder</span><span class="sy1">&lt;</span>UFont<span class="sy1">&gt;</span> TheFontOb<span class="br0">&#40;</span>TEXT<span class="br0">&#40;</span><span class="st0">&quot;Font'/Engine/EngineFonts/RobotoDistanceField.RobotoDistanceField'&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	VictoryEditorFont <span class="sy1">=</span> <span class="br0">&#40;</span>UFont<span class="sy2">*</span><span class="br0">&#41;</span>TheFontOb.<span class="me1">Object</span><span class="sy4">;</span>
&#160;
	<span class="coMULTI">/*
	//Cube
	static ConstructorHelpers::FObjectFinder&lt;UStaticMesh&gt; StaticMeshOb_cube(TEXT(&quot;StaticMesh'/Engine/EngineMeshes/Cube.Cube'&quot;));
	AssetSM_EngineCube= StaticMeshOb_cube.Object;
&#160;
	//Color Mat Inst
	static ConstructorHelpers::FObjectFinder&lt;UMaterial&gt; ColorMatInstOb(TEXT(&quot;Material'/Engine/EditorMaterials/Utilities/LinearColorPicker_MAT.LinearColorPicker_MAT'&quot;));
	ColorMat = ColorMatInstOb.Object;
&#160;
	//Create Instance
	if(ColorMat)
	{
		ColorMatInst_GlowyBlue = UMaterialInstanceDynamic::Create(ColorMat, this);
		if(ColorMatInst_GlowyBlue) ColorMatInst_GlowyBlue-&gt;SetVectorParameterValue(FName(&quot;Color&quot;), FLinearColor(0,0,1,1));
&#160;
		ColorMatInst_GlowyRed = UMaterialInstanceDynamic::Create(ColorMat, this);
		if(ColorMatInst_GlowyRed) ColorMatInst_GlowyRed-&gt;SetVectorParameterValue(FName(&quot;Color&quot;), FLinearColor(1,0,0,1));
&#160;
		ColorMatInst_GlowyYellow = UMaterialInstanceDynamic::Create(ColorMat, this);
		if(ColorMatInst_GlowyYellow) ColorMatInst_GlowyYellow-&gt;SetVectorParameterValue(FName(&quot;Color&quot;), FLinearColor(1,1,0,1));
	}
	*/</span>
<span class="br0">&#125;</span>
&#160;
<span class="kw4">void</span> UVictoryEdEngine<span class="sy4">::</span><span class="me2">SwitchToVictoryEdMode</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	<span class="co1">//Create it if it not exist yet</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>CreatedVictoryEdMode<span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		<span class="co1">//Proper way to make a shared ref&#160;???</span>
		TSharedRef<span class="sy1">&lt;</span><span class="kw2">class</span> FVictoryEdAlignMode,ESPMode<span class="sy4">::</span><span class="me2">Fast</span><span class="sy1">&gt;</span> VictoryEdMode <span class="sy1">=</span> MakeShareable<span class="br0">&#40;</span> <span class="kw3">new</span> FVictoryEdAlignMode<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
		<span class="co1">//Init VictoryEdMode</span>
		VictoryEdMode<span class="sy2">-</span><span class="sy1">&gt;</span>JoyInit<span class="br0">&#40;</span><span class="kw3">this</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
		<span class="co1">//Register</span>
		GEditorModeTools<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">RegisterMode</span><span class="br0">&#40;</span>VictoryEdMode<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
		CreatedVictoryEdMode <span class="sy1">=</span> <span class="kw2">true</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">//~~~ Store Previous Editor Mode ~~~</span>
	TArray<span class="sy1">&lt;</span>FEdMode<span class="sy2">*</span><span class="sy1">&gt;</span> OutActiveModes<span class="sy4">;</span>
	FEdMode<span class="sy2">*</span> CurMode <span class="sy1">=</span> <span class="kw2">NULL</span><span class="sy4">;</span>
	GEditorModeTools<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">GetActiveModes</span><span class="br0">&#40;</span> OutActiveModes <span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="kw1">for</span><span class="br0">&#40;</span><span class="kw4">int32</span> Itr <span class="sy1">=</span> <span class="nu0">0</span><span class="sy4">;</span> Itr <span class="sy1">&lt;</span> OutActiveModes.<span class="me1">Num</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span> Itr<span class="sy2">++</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		CurMode <span class="sy1">=</span> OutActiveModes<span class="br0">&#91;</span>Itr<span class="br0">&#93;</span><span class="sy4">;</span>
		<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>CurMode<span class="br0">&#41;</span> <span class="kw1">continue</span><span class="sy4">;</span>
		<span class="kw1">if</span><span class="br0">&#40;</span>CurMode<span class="sy2">-</span><span class="sy1">&gt;</span>GetID<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">==</span> VictoryEditorModeID <span class="br0">&#41;</span> <span class="kw1">continue</span><span class="sy4">;</span>
&#160;
		PrevModeID <span class="sy1">=</span> CurMode<span class="sy2">-</span><span class="sy1">&gt;</span>GetID<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
		<span class="co1">//UE_LOG(Victory,Warning, TEXT(&quot;Previous Editor Mode:&#160;%s&quot;), *CurMode-&gt;GetID().ToString() );</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">//Activate Victory Editor Mode</span>
	GEditorModeTools<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">ActivateMode</span><span class="br0">&#40;</span>VictoryEditorModeID<span class="br0">&#41;</span><span class="sy4">;</span>
<span class="br0">&#125;</span>
&#160;
<span class="kw4">void</span> UVictoryEdEngine<span class="sy4">::</span><span class="me2">RunTests</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	<span class="co1">//tests</span>
<span class="br0">&#125;</span>
&#160;
&#160;
<span class="kw4">void</span> UVictoryEdEngine<span class="sy4">::</span><span class="me2">GetSelectedActorsRelativeOffsets</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	SelectionRelativeOffsets.<span class="me1">Empty</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="co1">//~~~~~~~~~~~~~~~~~~~~~~~~</span>
&#160;
	<span class="co1">//Get the Relative Offsets</span>
	<span class="kw4">const</span> FVector Origin <span class="sy1">=</span> VSelectedActor<span class="sy2">-</span><span class="sy1">&gt;</span>GetActorLocation<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	AActor<span class="sy2">*</span> VSelectItrActor<span class="sy4">;</span>
	<span class="kw1">for</span><span class="br0">&#40;</span>FSelectionIterator VSelectItr <span class="sy1">=</span> GetSelectedActorIterator<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span> 
		VSelectItr<span class="sy4">;</span> <span class="sy2">++</span>VSelectItr <span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		VSelectItrActor <span class="sy1">=</span> Cast<span class="sy1">&lt;</span>AActor<span class="sy1">&gt;</span><span class="br0">&#40;</span><span class="sy2">*</span>VSelectItr<span class="br0">&#41;</span><span class="sy4">;</span>
		<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>VSelectItrActor<span class="br0">&#41;</span> <span class="kw1">continue</span><span class="sy4">;</span>
		<span class="co1">//~~~~~~~~~~~~~~~~~~</span>
&#160;
		SelectionRelativeOffsets.<span class="me1">Add</span><span class="br0">&#40;</span>VSelectItrActor<span class="sy2">-</span><span class="sy1">&gt;</span>GetActorLocation<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy2">-</span> Origin <span class="br0">&#41;</span><span class="sy4">;</span>
		<span class="co1">//UE_LOG(Victory, Error, TEXT(&quot;Relative offset&#160;%s&quot;), *SelectionRelativeOffsets[SelectionRelativeOffsets.Num() - 1].ToString());</span>
	<span class="br0">&#125;</span><span class="sy4">;</span>
<span class="br0">&#125;</span>
<span class="kw4">void</span> UVictoryEdEngine<span class="sy4">::</span><span class="me2">NoteSelectionChange</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	Super<span class="sy4">::</span><span class="me2">NoteSelectionChange</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="co1">//~~~~~~~~~~~~~~~~~</span>
&#160;
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>GetSelectedActors<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="kw1">return</span><span class="sy4">;</span>
	AActor<span class="sy2">*</span> SelectedActor <span class="sy1">=</span> Cast<span class="sy1">&lt;</span>AActor<span class="sy1">&gt;</span><span class="br0">&#40;</span>GetSelectedActors<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy2">-</span><span class="sy1">&gt;</span>GetTop<span class="br0">&#40;</span>AActor<span class="sy4">::</span><span class="me2">StaticClass</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>SelectedActor<span class="br0">&#41;</span> <span class="kw1">return</span><span class="sy4">;</span>
	<span class="co1">//~~~~~~~~~~~~~~~</span>
&#160;
	<span class="kw1">if</span><span class="br0">&#40;</span>SelectedActor <span class="sy3">!</span><span class="sy1">=</span> VSelectedActor<span class="br0">&#41;</span> ClearSelectedVertex <span class="sy1">=</span> <span class="kw2">true</span><span class="sy4">;</span>
&#160;
	<span class="co1">//Update</span>
	VSelectedActor <span class="sy1">=</span> SelectedActor<span class="sy4">;</span>
&#160;
	<span class="co1">//Always Refresh</span>
	SelectedActorVerticiesNeedsUpdating <span class="sy1">=</span> <span class="kw2">true</span><span class="sy4">;</span>
&#160;
	<span class="co1">//For use with multi-select moves</span>
	GetSelectedActorsRelativeOffsets<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="co1">//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
&#160;
	<span class="co1">//Only Activate for Static Mesh Actors Currently</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>SelectedActor<span class="sy2">-</span><span class="sy1">&gt;</span>IsA<span class="br0">&#40;</span>AStaticMeshActor<span class="sy4">::</span><span class="me2">StaticClass</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		<span class="co1">//Switch to Victory Align Mode if not active already</span>
		<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>GEditorModeTools<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">IsModeActive</span><span class="br0">&#40;</span>VictoryEditorModeID<span class="br0">&#41;</span><span class="br0">&#41;</span> 
			SwitchToVictoryEdMode<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
	<span class="kw1">else</span>
	<span class="br0">&#123;</span>
		<span class="co1">//Deactivate Mode for Non-Static Mesh Actors</span>
		ExitVictoryAlignMode<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
&#160;
	<span class="co1">//RunTests();</span>
&#160;
	<span class="co1">//UE_LOG(Victory, Warning, TEXT(&quot;New Selected Actor&#160;%s&quot;), *SelectedActor-&gt;GetName() );</span>
	<span class="co1">//UE_LOG(Victory, Warning, TEXT(&quot;New Selected Actor Location&#160;%s&quot;), *SelectedActor-&gt;GetActorLocation().ToString() );</span>
<span class="br0">&#125;</span>
&#160;
<span class="co1">//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
&#160;
<span class="kw4">void</span> UVictoryEdEngine<span class="sy4">::</span><span class="me2">Tick</span><span class="br0">&#40;</span><span class="kw4">float</span> DeltaSeconds, <span class="kw4">bool</span> bIdleMode<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	Super<span class="sy4">::</span><span class="me2">Tick</span><span class="br0">&#40;</span>DeltaSeconds,bIdleMode<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
<span class="br0">&#125;</span></pre></div></div>
<h3><span class="mw-headline" id="VictoryEdMode">VictoryEdMode</span></h3>
<p>Since the EdMode is a pure C++ class, it must go in the Public directory of your plugin file structure!
</p>
<h4><span class="mw-headline" id=".H_2">.H</span></h4>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp source-cpp"><pre class="de1"><span class="co2">#pragma once</span>
&#160;
<span class="co2">#include &quot;UnrealEd.h&quot; </span>
<span class="co2">#include &quot;Editor.h&quot;</span>
<span class="co1">//#include &quot;BSPOps.h&quot;</span>
&#160;
<span class="kw2">class</span> UVictoryEdEngine<span class="sy4">;</span>
&#160;
<span class="kw4">struct</span> FVButton<span class="sy4">;</span>
<span class="kw4">struct</span> FDropToClosestSurfaceData<span class="sy4">;</span>
&#160;
<span class="kw2">class</span> FVictoryEdAlignMode <span class="sy4">:</span> <span class="kw2">public</span> FEdMode
<span class="br0">&#123;</span>
&#160;
<span class="co1">//Statics</span>
<span class="kw2">public</span><span class="sy4">:</span>
	<span class="kw4">static</span> <span class="kw4">const</span> FColor RV_VRed<span class="sy4">;</span>
	<span class="kw4">static</span> <span class="kw4">const</span> FColor RV_VBlue<span class="sy4">;</span>
	<span class="kw4">static</span> <span class="kw4">const</span> FColor RV_VYellow<span class="sy4">;</span>
	<span class="kw4">static</span> <span class="kw4">const</span> FLinearColor RV_Red<span class="sy4">;</span>
	<span class="kw4">static</span> <span class="kw4">const</span> FLinearColor RV_Yellow<span class="sy4">;</span>
	<span class="kw4">static</span> <span class="kw4">const</span> FLinearColor RV_Blue<span class="sy4">;</span>
&#160;
<span class="co1">//Display Updates</span>
<span class="kw2">public</span><span class="sy4">:</span>
	<span class="kw4">bool</span> DoSingleDisplayUpdate<span class="sy4">;</span>
<span class="co1">//Drop to Surface</span>
<span class="kw2">public</span><span class="sy4">:</span>
&#160;
	<span class="co1">//if multiple selected, the test runs on each and finds the nearest of nearest surfaces</span>
	<span class="kw4">void</span> DropSelectedActorsToNearestSurface<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	FDropToClosestSurfaceData<span class="sy2">*</span> GetActorWithShortestDrop<span class="br0">&#40;</span>TArray<span class="sy1">&lt;</span>FDropToClosestSurfaceData<span class="sy1">&gt;</span><span class="sy3">&amp;</span> TheData<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	FORCEINLINE <span class="kw4">void</span> GetBottomSurfacePoint<span class="br0">&#40;</span>AStaticMeshActor<span class="sy2">*</span> TheSMA, FVector<span class="sy3">&amp;</span> BottomMostPoint<span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
                BottomMostPoint <span class="sy1">=</span> FVector<span class="sy4">::</span><span class="me2">ZeroVector</span><span class="sy4">;</span>
		<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>TheSMA<span class="br0">&#41;</span> <span class="kw1">return</span><span class="sy4">;</span>
		<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>TheSMA<span class="sy2">-</span><span class="sy1">&gt;</span>StaticMeshComponent<span class="br0">&#41;</span> <span class="kw1">return</span><span class="sy4">;</span>
		<span class="co1">//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
		FVector Origin<span class="sy4">;</span>
		FVector Extent<span class="sy4">;</span>
		TheSMA<span class="sy2">-</span><span class="sy1">&gt;</span>GetActorBounds<span class="br0">&#40;</span><span class="kw2">true</span>,Origin,Extent<span class="br0">&#41;</span><span class="sy4">;</span>
		TheSMA<span class="sy2">-</span><span class="sy1">&gt;</span>StaticMeshComponent<span class="sy2">-</span><span class="sy1">&gt;</span>GetDistanceToCollision<span class="br0">&#40;</span>Origin <span class="sy2">-</span> FVector<span class="br0">&#40;</span><span class="nu0">0</span>,<span class="nu0">0</span>,Extent.<span class="me1">Z</span> <span class="sy2">+</span> <span class="nu0">100</span><span class="br0">&#41;</span>,BottomMostPoint<span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
<span class="co1">//Vertex:</span>
<span class="kw2">public</span><span class="sy4">:</span>
&#160;
	<span class="kw4">void</span> GetSelectedVertexLocation<span class="br0">&#40;</span>FVector<span class="sy3">&amp;</span> LocOut<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">//Snap Key Pressed!</span>
	<span class="kw4">bool</span> SnapKeyPressed<span class="sy4">;</span>
&#160;
	<span class="co1">//VertexDisplayChoice</span>
	<span class="kw4">uint8</span> VertexDisplayChoice<span class="sy4">;</span>
&#160;
	<span class="co1">//Snap!</span>
	<span class="kw4">void</span> DoVertexSnap<span class="br0">&#40;</span><span class="kw4">const</span> FVector<span class="sy3">&amp;</span> Dest<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	FPositionVertexBuffer<span class="sy2">*</span> 			SelectedVertexBuffer<span class="sy4">;</span>
	FPositionVertexBuffer<span class="sy2">*</span> 			HighlightedVertexBuffer<span class="sy4">;</span>
&#160;
	<span class="co1">//Highlighted Actor</span>
	AStaticMeshActor<span class="sy2">*</span> 				HighlightedActor<span class="sy4">;</span>
&#160;
	<span class="co1">//Buttons</span>
	TArray<span class="sy1">&lt;</span>FVButton<span class="sy1">&gt;</span> SelectedActorButtons<span class="sy4">;</span>
	TArray<span class="sy1">&lt;</span>FVButton<span class="sy1">&gt;</span> HighlightedActorButtons<span class="sy4">;</span>
&#160;
	<span class="co1">//CheckArrays - find the vertex button closest to camera</span>
	TArray<span class="sy1">&lt;</span>FVButton<span class="sy2">*</span><span class="sy1">&gt;</span> ClosestSelectedActorButtons<span class="sy4">;</span>
	TArray<span class="sy1">&lt;</span>FVButton<span class="sy2">*</span><span class="sy1">&gt;</span> ClosestHighlightedActorButtons<span class="sy4">;</span>
	<span class="kw4">int32</span> FindClosestOfButtons<span class="br0">&#40;</span>TArray<span class="sy1">&lt;</span>FVButton<span class="sy2">*</span><span class="sy1">&gt;</span> Inbuttons<span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw4">void</span> RefreshVertexButtons<span class="br0">&#40;</span><span class="kw4">const</span> FSceneView<span class="sy2">*</span> View<span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="co1">//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
&#160;
	<span class="co1">//Vertex Scale</span>
	<span class="kw4">float</span> CurrentVerticiesScale<span class="sy4">;</span>
	<span class="kw4">bool</span> PlusIsDown<span class="sy4">;</span>
	<span class="kw4">bool</span> MinusIsDown<span class="sy4">;</span>
	<span class="kw4">bool</span> DoDrawVerticies<span class="sy4">;</span>
&#160;
	<span class="co1">//Index of Vertex, so actor can move and maintain selection</span>
	<span class="kw4">int32</span> SelectedVertexForSelectedActor<span class="sy4">;</span>
	<span class="kw4">int32</span> HighlightedVertexForSelectedActor<span class="sy4">;</span>
	<span class="kw4">int32</span> HighlightedVertexForHighlightedActor<span class="sy4">;</span>
&#160;
	<span class="co1">//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
	FVector VertexWorldSpace<span class="sy4">;</span>
	FVector2D Vertex2DCenter<span class="sy4">;</span>
&#160;
	<span class="co1">//Vertex Functions</span>
	<span class="kw4">void</span> PDI_DrawVerticies<span class="br0">&#40;</span><span class="kw4">const</span> FSceneView<span class="sy2">*</span> View, FPrimitiveDrawInterface<span class="sy2">*</span> PDI, <span class="kw4">const</span> FPositionVertexBuffer<span class="sy2">*</span> VertexBuffer, <span class="kw4">const</span> FTransform<span class="sy3">&amp;</span> SMATransform, <span class="kw4">bool</span> DrawingSelectedActor<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">//Get Vertex Bufer</span>
	FPositionVertexBuffer<span class="sy2">*</span> GetVerticies<span class="br0">&#40;</span>AStaticMeshActor<span class="sy2">*</span> TheSMA<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
<span class="co1">//Mouse Instant Move SMA</span>
<span class="kw2">public</span><span class="sy4">:</span>
	<span class="kw4">bool</span> UsingMouseInstantMove<span class="sy4">;</span>
	<span class="kw4">void</span> ProcessMouseInstantMove<span class="br0">&#40;</span>FLevelEditorViewportClient<span class="sy2">*</span> ViewportClient<span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="co1">//</span>
<span class="co1">//Selection</span>
<span class="kw2">public</span><span class="sy4">:</span>
	AActor<span class="sy2">*</span> VSelectItrActor<span class="sy4">;</span>
&#160;
<span class="co1">//Input Related</span>
<span class="kw2">public</span><span class="sy4">:</span>
	FVector2D 		MouseLocation<span class="sy4">;</span>
	FVector2D 		PrevMouseLocation<span class="sy4">;</span>
	FVector 	CursorWorldPrevPos<span class="sy4">;</span>
	FVector 	CursorWorldPos<span class="sy4">;</span>
	FVector 	CursorWorldDir<span class="sy4">;</span>
	FVector 	CursorWorldDelta<span class="sy4">;</span>
&#160;
	<span class="kw4">void</span> InputKeyPressed<span class="br0">&#40;</span>EKey Key<span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw4">void</span> InputKeyReleased<span class="br0">&#40;</span>EKey Key<span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw4">void</span> InputKeyDoubleClick<span class="br0">&#40;</span>EKey Key<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="kw4">void</span> MiddleMouseEvent<span class="br0">&#40;</span>EInputEvent Event<span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw4">void</span> LeftMouseClick<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
&#160;
	<span class="co1">//States</span>
	<span class="kw4">bool</span> RMBDown<span class="sy4">;</span>
	<span class="kw4">bool</span> XDown<span class="sy4">;</span>
	<span class="kw4">bool</span> YDown<span class="sy4">;</span>
	<span class="kw4">bool</span> ShiftDown<span class="sy4">;</span>
&#160;
<span class="co1">//HUD</span>
<span class="kw2">public</span><span class="sy4">:</span>
	FIntPoint ViewportSize<span class="sy4">;</span>
&#160;
	<span class="kw4">void</span> DrawHotkeyToolTip<span class="br0">&#40;</span>FCanvas<span class="sy2">*</span> Canvas<span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw4">void</span> DrawMouseCoordinates<span class="br0">&#40;</span>FCanvas<span class="sy2">*</span> Canvas<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="kw4">void</span> CheckCursorInButtons<span class="br0">&#40;</span>FCanvas<span class="sy2">*</span> Canvas<span class="br0">&#41;</span><span class="sy4">;</span>
	TArray<span class="sy1">&lt;</span>FVButton<span class="sy1">&gt;</span> 	VictoryButtons<span class="sy4">;</span>
	<span class="kw4">int32</span> 					ActiveButton_Vibe<span class="sy4">;</span>
	FVButton<span class="sy2">*</span> 			CurCheckButton<span class="sy4">;</span>
	<span class="kw4">void</span> RefreshVictoryButtons<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw4">bool</span> PendingButtonRefresh<span class="sy4">;</span>
&#160;
<span class="co1">//Utility</span>
<span class="kw2">public</span><span class="sy4">:</span>
	<span class="kw4">void</span> DrawVictoryText<span class="br0">&#40;</span>FCanvas<span class="sy2">*</span> Canvas, <span class="kw4">const</span> FString<span class="sy3">&amp;</span> TheStr, <span class="kw4">float</span> X, <span class="kw4">float</span> Y, <span class="kw4">float</span> TheScale<span class="sy1">=</span><span class="nu0">1</span> <span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw4">void</span> DrawVictoryTextWithColor<span class="br0">&#40;</span>FCanvas<span class="sy2">*</span> Canvas, <span class="kw4">const</span> FString<span class="sy3">&amp;</span> TheStr, <span class="kw4">float</span> X, <span class="kw4">float</span> Y, FLinearColor TheColor<span class="sy1">=</span>FLinearColor<span class="br0">&#40;</span><span class="nu0">1</span>,<span class="nu0">0</span>,<span class="nu0">1</span>,<span class="nu0">1</span><span class="br0">&#41;</span>, <span class="kw4">float</span> TheScale<span class="sy1">=</span><span class="nu0">1</span> <span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw4">void</span> DrawVictoryLine<span class="br0">&#40;</span>FCanvas<span class="sy2">*</span> Canvas, <span class="kw4">const</span> FVector2D<span class="sy3">&amp;</span> Start, <span class="kw4">const</span> FVector2D<span class="sy3">&amp;</span> End, FLinearColor TheColor<span class="sy1">=</span>FLinearColor<span class="br0">&#40;</span><span class="nu0">1</span>,<span class="nu0">0</span>,<span class="nu0">1</span>,<span class="nu0">1</span><span class="br0">&#41;</span>, <span class="kw4">float</span> Thick<span class="sy1">=</span><span class="nu0">0</span> <span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw4">void</span> DrawVictoryRect<span class="br0">&#40;</span>FCanvas<span class="sy2">*</span> Canvas, <span class="kw4">float</span> X, <span class="kw4">float</span> Y, <span class="kw4">float</span> Width, <span class="kw4">float</span> Height, FLinearColor Color<span class="sy1">=</span>FLinearColor<span class="br0">&#40;</span><span class="nu0">0</span>,<span class="nu0">0</span>,<span class="nu0">1</span>,<span class="nu0">1</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">//Scene-view Level Project and Deproject</span>
	<span class="kw4">void</span> VictoryProject<span class="br0">&#40;</span>		<span class="kw4">const</span> FSceneView<span class="sy2">*</span> View,<span class="kw4">const</span> FVector<span class="sy3">&amp;</span> WorldPoint,		FVector2D<span class="sy3">&amp;</span> OutPixelLocation<span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw4">void</span> VictoryDeProject<span class="br0">&#40;</span>	<span class="kw4">const</span> FSceneView<span class="sy2">*</span> View,<span class="kw4">const</span> FVector2D<span class="sy3">&amp;</span> ScreenPoint, FVector<span class="sy3">&amp;</span> out_WorldOrigin, FVector<span class="sy3">&amp;</span> out_WorldDirection<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">//Box from Point with Size</span>
	FORCEINLINE FBox BoxFromPointWithSize<span class="br0">&#40;</span><span class="kw4">const</span> FVector<span class="sy3">&amp;</span> InCenter, <span class="kw4">const</span> <span class="kw4">float</span><span class="sy3">&amp;</span> Size<span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		<span class="kw1">return</span> FBox<span class="br0">&#40;</span>
			InCenter<span class="sy2">+</span><span class="br0">&#40;</span>FVector<span class="br0">&#40;</span><span class="nu0">1</span>,<span class="nu0">1</span>,<span class="nu0">1</span><span class="br0">&#41;</span> <span class="sy2">*</span> <span class="sy2">-</span>Size<span class="sy2">/</span><span class="nu0">2</span><span class="br0">&#41;</span>,
			InCenter<span class="sy2">+</span><span class="br0">&#40;</span>FVector<span class="br0">&#40;</span><span class="nu0">1</span>,<span class="nu0">1</span>,<span class="nu0">1</span><span class="br0">&#41;</span> <span class="sy2">*</span> Size<span class="sy2">/</span><span class="nu0">2</span><span class="br0">&#41;</span>
		<span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
<span class="co1">//RV</span>
<span class="kw2">public</span><span class="sy4">:</span>
	<span class="kw4">int32</span> RV_Int32<span class="sy4">;</span>
	<span class="kw4">float</span> RV_yStart<span class="sy4">;</span>
	<span class="kw4">float</span> RV_Float<span class="sy4">;</span>
	FVector RV_Vect<span class="sy4">;</span>
	FRotator RV_Rot<span class="sy4">;</span>
	FCollisionQueryParams RV_TraceParams<span class="sy4">;</span>
	FHitResult RV_Hit<span class="sy4">;</span>
	AActor<span class="sy2">*</span> RV_HitActor<span class="sy4">;</span>
<span class="co1">//Victory Title</span>
<span class="co1">//Time</span>
<span class="kw2">public</span><span class="sy4">:</span>
	FDateTime VictoryTitleAppearTime<span class="sy4">;</span>
	FTimespan CurTimeSpan<span class="sy4">;</span>
	<span class="kw4">bool</span> VictoryTitleVisible<span class="sy4">;</span>
	<span class="kw4">bool</span> FadeInVictoryTitle<span class="sy4">;</span>
	<span class="kw4">float</span> VictoryTitleAlpha<span class="sy4">;</span>
&#160;
	FORCEINLINE <span class="kw4">void</span> VictoryTitleAppears<span class="br0">&#40;</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		VictoryTitleAppearTime <span class="sy1">=</span> FDateTime<span class="sy4">::</span><span class="me2">Now</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
		VictoryTitleAlpha <span class="sy1">=</span> <span class="nu0">1</span><span class="sy4">;</span>
		VictoryTitleVisible <span class="sy1">=</span> <span class="kw2">true</span><span class="sy4">;</span>
		FadeInVictoryTitle <span class="sy1">=</span> <span class="kw2">false</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
<span class="co1">//Tick</span>
<span class="kw2">public</span><span class="sy4">:</span>
	<span class="kw4">void</span> Tick_VictoryTitle<span class="br0">&#40;</span>FLevelEditorViewportClient<span class="sy2">*</span> ViewportClient<span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw4">void</span> Tick_VictoryTitleFadeIn<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw4">void</span> Tick_VictoryInterface<span class="br0">&#40;</span>FLevelEditorViewportClient<span class="sy2">*</span> ViewportClient<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
<span class="co1">//Core</span>
<span class="kw2">public</span><span class="sy4">:</span>
	UPROPERTY<span class="br0">&#40;</span><span class="br0">&#41;</span>
	UVictoryEdEngine<span class="sy2">*</span> VictoryEngine<span class="sy4">;</span>
&#160;
	<span class="kw4">bool</span> ReEntering<span class="sy4">;</span>
&#160;
<span class="co1">//Constructor/Destructor</span>
<span class="kw2">public</span><span class="sy4">:</span>
	FVictoryEdAlignMode<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span> 
	~FVictoryEdAlignMode<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span> 
	<span class="kw4">void</span> JoyInit<span class="br0">&#40;</span>UVictoryEdEngine<span class="sy2">*</span> EnginePtr<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
<span class="co1">//FEdMode</span>
<span class="kw2">public</span><span class="sy4">:</span>
	<span class="kw2">virtual</span> <span class="kw4">void</span> Enter<span class="br0">&#40;</span><span class="br0">&#41;</span> OVERRIDE<span class="sy4">;</span>
	<span class="kw2">virtual</span> <span class="kw4">void</span> Exit<span class="br0">&#40;</span><span class="br0">&#41;</span> OVERRIDE<span class="sy4">;</span>
&#160;
	<span class="co1">//More fundamental than DrawHUD</span>
	<span class="kw2">virtual</span> <span class="kw4">void</span> Render<span class="br0">&#40;</span><span class="kw4">const</span> FSceneView<span class="sy2">*</span> View,FViewport<span class="sy2">*</span> Viewport,FPrimitiveDrawInterface<span class="sy2">*</span> PDI<span class="br0">&#41;</span> OVERRIDE<span class="sy4">;</span>
&#160;
	<span class="kw2">virtual</span> <span class="kw4">void</span> DrawHUD<span class="br0">&#40;</span>FLevelEditorViewportClient<span class="sy2">*</span> ViewportClient,FViewport<span class="sy2">*</span> Viewport,<span class="kw4">const</span> FSceneView<span class="sy2">*</span> View,FCanvas<span class="sy2">*</span> Canvas<span class="br0">&#41;</span> OVERRIDE<span class="sy4">;</span>
	<span class="kw2">virtual</span> <span class="kw4">bool</span> InputKey<span class="br0">&#40;</span>FLevelEditorViewportClient<span class="sy2">*</span> ViewportClient,FViewport<span class="sy2">*</span> Viewport,EKey Key,EInputEvent Event<span class="br0">&#41;</span> OVERRIDE<span class="sy4">;</span>
	<span class="kw2">virtual</span> <span class="kw4">bool</span> MouseMove<span class="br0">&#40;</span>FLevelEditorViewportClient<span class="sy2">*</span> ViewportClient,FViewport<span class="sy2">*</span> Viewport,<span class="kw4">int32</span> x, <span class="kw4">int32</span> y<span class="br0">&#41;</span> OVERRIDE<span class="sy4">;</span>
	<span class="kw2">virtual</span> <span class="kw4">bool</span> InputAxis<span class="br0">&#40;</span>FLevelEditorViewportClient<span class="sy2">*</span> InViewportClient,FViewport<span class="sy2">*</span> Viewport,<span class="kw4">int32</span> ControllerId,EKey Key,<span class="kw4">float</span> Delta,<span class="kw4">float</span> DeltaTime<span class="br0">&#41;</span> OVERRIDE<span class="sy4">;</span>
	<span class="coMULTI">/** Notifies all active modes of any change in mouse movement */</span>
	<span class="kw2">virtual</span> <span class="kw4">bool</span> InputDelta<span class="br0">&#40;</span> FLevelEditorViewportClient<span class="sy2">*</span> InViewportClient,FViewport<span class="sy2">*</span> InViewport,FVector<span class="sy3">&amp;</span> InDrag,FRotator<span class="sy3">&amp;</span> InRot,FVector<span class="sy3">&amp;</span> InScale <span class="br0">&#41;</span> OVERRIDE<span class="sy4">;</span>
&#160;
	<span class="kw2">virtual</span> <span class="kw4">bool</span> HandleClick<span class="br0">&#40;</span>FLevelEditorViewportClient<span class="sy2">*</span> InViewportClient, HHitProxy <span class="sy2">*</span>HitProxy, <span class="kw4">const</span> FViewportClick <span class="sy3">&amp;</span>Click<span class="br0">&#41;</span> OVERRIDE<span class="sy4">;</span>
	<span class="kw2">virtual</span> <span class="kw4">void</span> Tick<span class="br0">&#40;</span>FLevelEditorViewportClient<span class="sy2">*</span> ViewportClient,<span class="kw4">float</span> DeltaTime<span class="br0">&#41;</span> OVERRIDE<span class="sy4">;</span>
&#160;
	<span class="co1">//Cursor</span>
	<span class="kw2">virtual</span> <span class="kw4">bool</span> GetCursor<span class="br0">&#40;</span>EMouseCursor<span class="sy4">::</span><span class="me2">Type</span><span class="sy3">&amp;</span> OutCursor<span class="br0">&#41;</span> <span class="kw4">const</span> OVERRIDE<span class="sy4">;</span> 
&#160;
	<span class="coMULTI">/**
	 * Lets the mode determine if it wants to draw the widget or not.
	 */</span>
	<span class="kw2">virtual</span> <span class="kw4">bool</span> ShouldDrawWidget<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw4">const</span><span class="sy4">;</span>
<span class="br0">&#125;</span><span class="sy4">;</span></pre></div></div>
<h4><span class="mw-headline" id=".CPP_2">.CPP</span></h4>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp source-cpp"><pre class="de1"><span class="co1">// Victory Ed Mode extension by Rama</span>
&#160;
<span class="co1">// Copyright 1998-2013 Epic Games, Inc. All Rights Reserved.</span>
&#160;
<span class="co1">//Victory Alignment Mode</span>
&#160;
<span class="co1">//#include &quot;VictoryGame.h&quot;</span>
<span class="co2">#include &quot;VictoryBPLibraryPrivatePCH.h&quot;</span>
&#160;
<span class="co1">//~~~~~~~~~~~~~~~~</span>
&#160;
<span class="co2">#define CHECK_VSELECTED if(!VictoryEngine) return; if(!VictoryEngine-&gt;VSelectedActor) return;</span>
&#160;
<span class="co1">//~~~ Display Choices ~~~</span>
<span class="co2">#define VERTEX_DISPLAY_STARS 		0</span>
<span class="co2">#define VERTEX_DISPLAY_3DBOX 		1</span>
<span class="co2">#define VERTEX_DISPLAY_RECT 			2</span>
<span class="co2">#define VERTEX_DISPLAY_DIAMOND3D 	3</span>
<span class="co2">#define VERTEX_DISPLAY_SPHERE 		4</span>
<span class="co2">#define VERTEX_SELECTED_MULT		1.333</span>
<span class="co2">#define VERTEX_SHAPE_MULT			0.8</span>
<span class="co1">//~~~ Defines ~~~</span>
&#160;
<span class="co1">//MAX</span>
<span class="co2">#define MAX_VERTEX_COUNT_FOR_DRAWING 10000</span>
<span class="co2">#define MAX_VERTEX_COUNT_FOR_DRAWING_SPHERES 5000</span>
&#160;
<span class="co1">//Speeds</span>
<span class="co2">#define XYZSPEEDMULT 20</span>
&#160;
<span class="co1">//3D</span>
<span class="co2">#define DEFAULT_INSTANT_MOVE_DISTANCE 2048</span>
<span class="co2">#define CURSOR_DELTA_DISTANCE_CALC 2048</span>
<span class="co1">//HUD</span>
<span class="co2">#define VICTORY_TITLE_HEIGHT 38</span>
<span class="co2">#define VICTORY_TEXT_HEIGHT 24</span>
&#160;
<span class="co1">//Color</span>
<span class="co2">#define RED 		0</span>
<span class="co2">#define BLUE		1</span>
<span class="co2">#define YELLOW 3</span>
&#160;
<span class="co1">//TIME</span>
<span class="co2">#define VICTORY_TITLE_VISIBLE_DURATION 2</span>
&#160;
<span class="co1">//Button Vibes</span>
<span class="co2">#define BUTTON_VIBE_VICTORYHOTKEYS 		0</span>
&#160;
<span class="co1">//~~~ Const ~~~</span>
<span class="kw4">const</span> FLinearColor FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">RV_Red</span> <span class="sy1">=</span> FLinearColor<span class="br0">&#40;</span><span class="nu0">1</span>,<span class="nu0">0</span>,<span class="nu0">0</span>,<span class="nu0">1</span><span class="br0">&#41;</span><span class="sy4">;</span>
<span class="kw4">const</span> FLinearColor FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">RV_Yellow</span> <span class="sy1">=</span> FLinearColor<span class="br0">&#40;</span><span class="nu0">1</span>,<span class="nu0">1</span>,<span class="nu0">0</span>,<span class="nu0">1</span><span class="br0">&#41;</span><span class="sy4">;</span>
<span class="kw4">const</span> FLinearColor FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">RV_Blue</span><span class="sy1">=</span> FLinearColor<span class="br0">&#40;</span><span class="nu0">0</span>,<span class="nu0">0</span>,<span class="nu0">1</span>,<span class="nu0">1</span><span class="br0">&#41;</span><span class="sy4">;</span>
<span class="kw4">const</span> FColor FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">RV_VRed</span> <span class="sy1">=</span> FColor<span class="br0">&#40;</span><span class="nu0">255</span>,<span class="nu0">0</span>,<span class="nu0">0</span>,<span class="nu0">255</span><span class="br0">&#41;</span><span class="sy4">;</span>
<span class="kw4">const</span> FColor FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">RV_VBlue</span> <span class="sy1">=</span> FColor<span class="br0">&#40;</span><span class="nu0">0</span>,<span class="nu0">0</span>,<span class="nu0">255</span>,<span class="nu0">255</span><span class="br0">&#41;</span><span class="sy4">;</span>
<span class="kw4">const</span> FColor FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">RV_VYellow</span> <span class="sy1">=</span> FColor<span class="br0">&#40;</span><span class="nu0">255</span>,<span class="nu0">255</span>,<span class="nu0">0</span>,<span class="nu0">255</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
&#160;
FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">FVictoryEdAlignMode</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
&#160;
<span class="br0">&#125;</span>
FVictoryEdAlignMode<span class="sy4">::</span>~FVictoryEdAlignMode<span class="br0">&#40;</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>	
<span class="br0">&#125;</span>
&#160;
<span class="co1">//INIT</span>
<span class="kw4">void</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">JoyInit</span><span class="br0">&#40;</span>UVictoryEdEngine<span class="sy2">*</span> EnginePtr<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	ID <span class="sy1">=</span> FName<span class="br0">&#40;</span><span class="st0">&quot;VictoryEditorMode&quot;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">//VictoryEngine</span>
	VictoryEngine <span class="sy1">=</span> EnginePtr<span class="sy4">;</span>
&#160;
	<span class="co1">//Victory Buttons</span>
	RefreshVictoryButtons<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">//Enable Realtime</span>
	ReEntering <span class="sy1">=</span> <span class="kw2">true</span><span class="sy4">;</span>
&#160;
	<span class="co1">//Verticies</span>
	DoDrawVerticies <span class="sy1">=</span> <span class="kw2">true</span><span class="sy4">;</span>
	VertexDisplayChoice <span class="sy1">=</span> VERTEX_DISPLAY_STARS<span class="sy4">;</span>
&#160;
	<span class="co1">//~~~</span>
&#160;
	UsingMouseInstantMove <span class="sy1">=</span> <span class="kw2">false</span><span class="sy4">;</span>
	CurrentVerticiesScale <span class="sy1">=</span> <span class="nu0">12</span><span class="sy4">;</span>
&#160;
	<span class="co1">//~~~</span>
&#160;
	<span class="co1">//Traces</span>
	RV_TraceParams <span class="sy1">=</span> FCollisionQueryParams<span class="br0">&#40;</span>FName<span class="br0">&#40;</span>TEXT<span class="br0">&#40;</span><span class="st0">&quot;HUDRMBDown&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>, <span class="kw2">true</span>, <span class="kw2">NULL</span><span class="br0">&#41;</span><span class="sy4">;</span>
	RV_TraceParams.<span class="me1">bTraceComplex</span> <span class="sy1">=</span> <span class="kw2">true</span><span class="sy4">;</span>
	<span class="co1">//RV_TraceParams.bTraceAsyncScene = true;</span>
	RV_TraceParams.<span class="me1">bReturnPhysicalMaterial</span> <span class="sy1">=</span> <span class="kw2">false</span><span class="sy4">;</span>
<span class="br0">&#125;</span>
&#160;
<span class="kw4">void</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">RefreshVictoryButtons</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	VictoryButtons.<span class="me1">Empty</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="co1">//~~~~~~~~~~~~</span>
&#160;
	FVButton NewButton<span class="sy4">;</span>
	NewButton.<span class="me1">Vibe</span> 	<span class="sy1">=</span> BUTTON_VIBE_VICTORYHOTKEYS<span class="sy4">;</span>
	NewButton.<span class="me1">minX</span>	<span class="sy1">=</span>	<span class="nu0">10</span><span class="sy4">;</span>
	NewButton.<span class="me1">maxX</span>	<span class="sy1">=</span>	<span class="nu0">200</span><span class="sy4">;</span>
	NewButton.<span class="me1">minY</span>	<span class="sy1">=</span>	VICTORY_TITLE_HEIGHT<span class="sy4">;</span>
	NewButton.<span class="me1">maxY</span>	<span class="sy1">=</span>	VICTORY_TITLE_HEIGHT <span class="sy2">+</span> VICTORY_TEXT_HEIGHT<span class="sy4">;</span>
	VictoryButtons.<span class="me1">Add</span><span class="br0">&#40;</span>NewButton<span class="br0">&#41;</span><span class="sy4">;</span>
<span class="br0">&#125;</span>
&#160;
<span class="co1">//EXIT</span>
<span class="kw4">void</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">Exit</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	UsingMouseInstantMove <span class="sy1">=</span> <span class="kw2">false</span><span class="sy4">;</span>
<span class="br0">&#125;</span>
<span class="co1">//ENTER</span>
<span class="kw4">void</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">Enter</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	<span class="co1">//FEdMode::Enter();</span>
	<span class="co1">//~~~~~~~~</span>
&#160;
	<span class="co1">//Victory Title Appears</span>
	VictoryTitleAppears<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	ReEntering <span class="sy1">=</span> <span class="kw2">true</span><span class="sy4">;</span>
&#160;
	<span class="co1">//Clear keys</span>
	MinusIsDown <span class="sy1">=</span> <span class="kw2">false</span><span class="sy4">;</span>
	PlusIsDown <span class="sy1">=</span> <span class="kw2">false</span><span class="sy4">;</span>
	ShiftDown <span class="sy1">=</span> <span class="kw2">false</span><span class="sy4">;</span>
&#160;
	<span class="co1">//Trace</span>
	RV_TraceParams <span class="sy1">=</span> FCollisionQueryParams<span class="br0">&#40;</span>FName<span class="br0">&#40;</span>TEXT<span class="br0">&#40;</span><span class="st0">&quot;HUDRMBDown&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>, <span class="kw2">true</span>, <span class="kw2">NULL</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">//~~~~~~~~~~~~~~~~</span>
&#160;
	<span class="co1">//testing</span>
	CHECK_VSELECTED
&#160;
	<span class="co1">//CreateUModel();</span>
<span class="br0">&#125;</span>
&#160;
<span class="co1">//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
&#160;
FDropToClosestSurfaceData<span class="sy2">*</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">GetActorWithShortestDrop</span><span class="br0">&#40;</span>TArray<span class="sy1">&lt;</span>FDropToClosestSurfaceData<span class="sy1">&gt;</span><span class="sy3">&amp;</span> TheData<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	<span class="co1">//No Actors</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>TheData.<span class="me1">Num</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">&lt;</span> <span class="nu0">1</span><span class="br0">&#41;</span> <span class="kw1">return</span> <span class="kw2">NULL</span><span class="sy4">;</span>
&#160;
	<span class="co1">//Only 1 Actor</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>TheData.<span class="me1">Num</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">&lt;</span> <span class="nu0">2</span><span class="br0">&#41;</span> <span class="kw1">return</span> <span class="sy3">&amp;</span>TheData<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="sy4">;</span>
	<span class="co1">//~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
&#160;
	<span class="kw4">float</span> SmallestDistance <span class="sy1">=</span> <span class="nu0">100000000</span><span class="sy4">;</span>
	<span class="kw4">int32</span> SmallestDataIndex <span class="sy1">=</span> <span class="nu0">0</span><span class="sy4">;</span>
&#160;
	<span class="co1">//Find Smallest</span>
	<span class="kw1">for</span><span class="br0">&#40;</span><span class="kw4">int32</span> b <span class="sy1">=</span> <span class="nu0">0</span><span class="sy4">;</span> b <span class="sy1">&lt;</span> TheData.<span class="me1">Num</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span> b<span class="sy2">++</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		<span class="kw1">if</span><span class="br0">&#40;</span> TheData<span class="br0">&#91;</span>b<span class="br0">&#93;</span>.<span class="me1">DistSquared</span> <span class="sy1">&lt;</span> SmallestDistance<span class="br0">&#41;</span>
		<span class="br0">&#123;</span>
			SmallestDistance <span class="sy1">=</span> TheData<span class="br0">&#91;</span>b<span class="br0">&#93;</span>.<span class="me1">DistSquared</span><span class="sy4">;</span>
			SmallestDataIndex <span class="sy1">=</span> b<span class="sy4">;</span>
		<span class="br0">&#125;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">//Valid?</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>TheData.<span class="me1">IsValidIndex</span><span class="br0">&#40;</span>SmallestDataIndex<span class="br0">&#41;</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		<span class="kw1">return</span> <span class="sy3">&amp;</span>TheData<span class="br0">&#91;</span>SmallestDataIndex<span class="br0">&#93;</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="kw1">return</span> <span class="kw2">NULL</span><span class="sy4">;</span>
<span class="br0">&#125;</span>
<span class="kw4">void</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">DropSelectedActorsToNearestSurface</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>VictoryEngine<span class="br0">&#41;</span> <span class="kw1">return</span><span class="sy4">;</span>
	<span class="co1">//~~~~~~~~~~~~~</span>
&#160;
&#160;
	<span class="co1">//ONLY WORKING WITH SMAs at the moment, due to nature of rest of plugin</span>
	AStaticMeshActor<span class="sy2">*</span> AsSMA <span class="sy1">=</span> <span class="kw2">NULL</span><span class="sy4">;</span>
&#160;
	<span class="co1">//~~~~~~~~~~~~~~</span>
	<span class="co1">// Closest Surface Data</span>
	<span class="co1">//~~~~~~~~~~~~~~</span>
	TArray<span class="sy1">&lt;</span>FDropToClosestSurfaceData<span class="sy1">&gt;</span> ClosestSurfaceData<span class="sy4">;</span>
&#160;
	<span class="co1">//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
	<span class="co1">//TRACE PARAMETERS</span>
	FCollisionQueryParams TraceParams<span class="br0">&#40;</span>FName<span class="br0">&#40;</span>TEXT<span class="br0">&#40;</span><span class="st0">&quot;VictoryEd Trace&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>, <span class="kw2">true</span>, <span class="kw2">NULL</span><span class="br0">&#41;</span><span class="sy4">;</span>
	TraceParams.<span class="me1">bTraceComplex</span> <span class="sy1">=</span> <span class="kw2">true</span><span class="sy4">;</span>
	<span class="co1">//TraceParams.bTraceAsyncScene = true;</span>
	TraceParams.<span class="me1">bReturnPhysicalMaterial</span> <span class="sy1">=</span> <span class="kw2">false</span><span class="sy4">;</span>
&#160;
	<span class="co1">//Ignore  ALL Selected Actors</span>
	<span class="kw1">for</span><span class="br0">&#40;</span>FSelectionIterator VSelectItr <span class="sy1">=</span> VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>GetSelectedActorIterator<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span> 
		VSelectItr<span class="sy4">;</span> <span class="sy2">++</span>VSelectItr <span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		VSelectItrActor <span class="sy1">=</span> Cast<span class="sy1">&lt;</span>AActor<span class="sy1">&gt;</span><span class="br0">&#40;</span><span class="sy2">*</span>VSelectItr<span class="br0">&#41;</span><span class="sy4">;</span>
		<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>VSelectItrActor<span class="br0">&#41;</span> <span class="kw1">continue</span><span class="sy4">;</span>
		<span class="co1">//~~~~~~~~~~~~~~~~~~</span>
&#160;
		<span class="co1">//Add</span>
		TraceParams.<span class="me1">AddIgnoredActor</span><span class="br0">&#40;</span>VSelectItrActor<span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
	<span class="co1">//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
&#160;
	<span class="co1">//~~~~~~~~~~~</span>
	<span class="co1">//Hit Result</span>
	FHitResult TheHit<span class="sy4">;</span>
	<span class="co1">//~~~~~~~~~~~</span>
&#160;
&#160;
	<span class="co1">//Iterate Over Selected Actors</span>
	FVector ActorLoc<span class="sy4">;</span>
	FVector BottomPoint<span class="sy4">;</span>
	FVector OffsetFromCenter<span class="sy4">;</span>
	<span class="kw1">for</span><span class="br0">&#40;</span>FSelectionIterator VSelectItr <span class="sy1">=</span> VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>GetSelectedActorIterator<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span> 
		VSelectItr<span class="sy4">;</span> <span class="sy2">++</span>VSelectItr <span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		AsSMA <span class="sy1">=</span> Cast<span class="sy1">&lt;</span>AStaticMeshActor<span class="sy1">&gt;</span><span class="br0">&#40;</span><span class="sy2">*</span>VSelectItr<span class="br0">&#41;</span><span class="sy4">;</span>
		<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>AsSMA<span class="br0">&#41;</span> <span class="kw1">continue</span><span class="sy4">;</span>
		<span class="co1">//~~~~~~~~~~~~~~~~~~</span>
&#160;
		<span class="co1">//~~~~~~~~~~~~~~~</span>
		<span class="co1">//~~~ Do the Trace ~~~</span>
		<span class="co1">//~~~~~~~~~~~~~~~</span>
&#160;
		<span class="co1">//Re-initialize hit info</span>
		TheHit <span class="sy1">=</span> FHitResult<span class="br0">&#40;</span>ForceInit<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
		<span class="co1">//Trace!</span>
		ActorLoc <span class="sy1">=</span> AsSMA<span class="sy2">-</span><span class="sy1">&gt;</span>GetActorLocation<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
		GetWorld<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy2">-</span><span class="sy1">&gt;</span>LineTraceSingle<span class="br0">&#40;</span>
			TheHit,		<span class="co1">//result</span>
			ActorLoc,								
			ActorLoc <span class="sy2">+</span> FVector<span class="br0">&#40;</span><span class="nu0">0</span>,<span class="nu0">0</span>,<span class="sy2">-</span><span class="nu0">20000</span><span class="br0">&#41;</span>,
			ECC_Pawn, <span class="co1">//collision channel</span>
			TraceParams
		<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
		<span class="co1">//Hit any Actor?</span>
		<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>TheHit.<span class="me1">GetActor</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="kw1">continue</span><span class="sy4">;</span>
		<span class="co1">//~~~~~~~~~~~~~~~~~</span>
&#160;
&#160;
		<span class="co1">//See .h</span>
		GetBottomSurfacePoint<span class="br0">&#40;</span>AsSMA,BottomPoint<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
&#160;
		<span class="co1">//Offset From Center</span>
		OffsetFromCenter <span class="sy1">=</span> ActorLoc <span class="sy2">-</span> BottomPoint<span class="sy4">;</span>
&#160;
		<span class="co1">//~~~ ADD Closest Surface Data ~~~</span>
		FDropToClosestSurfaceData NewData<span class="sy4">;</span>
		NewData.<span class="me1">TheActor</span> <span class="sy1">=</span> AsSMA<span class="sy4">;</span>
		NewData.<span class="me1">SurfaceLoc</span> <span class="sy1">=</span> TheHit.<span class="me1">ImpactPoint</span> <span class="sy2">+</span> OffsetFromCenter<span class="sy4">;</span>
		NewData.<span class="me1">DistSquared</span> <span class="sy1">=</span> FVector<span class="sy4">::</span><span class="me2">DistSquared</span><span class="br0">&#40;</span>AsSMA<span class="sy2">-</span><span class="sy1">&gt;</span>GetActorLocation<span class="br0">&#40;</span><span class="br0">&#41;</span>,NewData.<span class="me1">SurfaceLoc</span><span class="br0">&#41;</span><span class="sy4">;</span>
		ClosestSurfaceData.<span class="me1">Add</span><span class="br0">&#40;</span>NewData<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="br0">&#125;</span>
&#160;
&#160;
	<span class="co1">//Get Smallest Drop Data</span>
	FDropToClosestSurfaceData<span class="sy2">*</span> SmallestDropData <span class="sy1">=</span> GetActorWithShortestDrop<span class="br0">&#40;</span>ClosestSurfaceData<span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>SmallestDropData<span class="br0">&#41;</span> <span class="kw1">return</span><span class="sy4">;</span>
	<span class="co1">//~~~~~~~~~~~~~~~</span>
&#160;
	<span class="co1">//Get Smallest Drop Actor</span>
	AStaticMeshActor<span class="sy2">*</span> AnchorActor <span class="sy1">=</span> SmallestDropData<span class="sy2">-</span><span class="sy1">&gt;</span>TheActor<span class="sy4">;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>AnchorActor<span class="br0">&#41;</span> <span class="kw1">return</span><span class="sy4">;</span>
	<span class="co1">//~~~~~~~~~~~~~~~</span>
&#160;
&#160;
&#160;
	<span class="co1">//Get Relative Offsets of this to all other actors in selection</span>
	<span class="kw4">const</span> FVector Origin <span class="sy1">=</span> AnchorActor<span class="sy2">-</span><span class="sy1">&gt;</span>GetActorLocation<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	TArray<span class="sy1">&lt;</span>FVector<span class="sy1">&gt;</span> AnchorOffsets<span class="sy4">;</span>
	AActor<span class="sy2">*</span> AsActor<span class="sy4">;</span>
	<span class="kw1">for</span><span class="br0">&#40;</span>FSelectionIterator VSelectItr <span class="sy1">=</span> VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>GetSelectedActorIterator<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span> 
		VSelectItr<span class="sy4">;</span> <span class="sy2">++</span>VSelectItr <span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		AsActor <span class="sy1">=</span> Cast<span class="sy1">&lt;</span>AActor<span class="sy1">&gt;</span><span class="br0">&#40;</span><span class="sy2">*</span>VSelectItr<span class="br0">&#41;</span><span class="sy4">;</span>
		<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>AsActor<span class="br0">&#41;</span> <span class="kw1">continue</span><span class="sy4">;</span>
		<span class="co1">//~~~~~~~~~~~~~~~~~~</span>
&#160;
		AnchorOffsets.<span class="me1">Add</span><span class="br0">&#40;</span>AsActor<span class="sy2">-</span><span class="sy1">&gt;</span>GetActorLocation<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy2">-</span> Origin<span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
&#160;
	<span class="co1">//~~~ Move Anchor Actor ~~~</span>
&#160;
	<span class="co1">//Move to impact, Plus the offset from nearest surface of object</span>
	AnchorActor<span class="sy2">-</span><span class="sy1">&gt;</span>SetActorLocation<span class="br0">&#40;</span>SmallestDropData<span class="sy2">-</span><span class="sy1">&gt;</span>SurfaceLoc<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">//Move all other actors to Anchor Actor + Offset</span>
	<span class="kw4">int32</span> AnchorItr <span class="sy1">=</span> <span class="nu0">0</span><span class="sy4">;</span>
	<span class="kw1">for</span><span class="br0">&#40;</span>FSelectionIterator VSelectItr <span class="sy1">=</span> VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>GetSelectedActorIterator<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span> 
		VSelectItr<span class="sy4">;</span> <span class="sy2">++</span>VSelectItr <span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		AsActor <span class="sy1">=</span> Cast<span class="sy1">&lt;</span>AActor<span class="sy1">&gt;</span><span class="br0">&#40;</span><span class="sy2">*</span>VSelectItr<span class="br0">&#41;</span><span class="sy4">;</span>
		<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>AsActor<span class="br0">&#41;</span> <span class="kw1">continue</span><span class="sy4">;</span>
		<span class="co1">//~~~~~~~~~~~~~~~~~~</span>
&#160;
		<span class="co1">//VALID?</span>
		<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>AnchorOffsets.<span class="me1">IsValidIndex</span><span class="br0">&#40;</span>AnchorItr<span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="kw1">break</span><span class="sy4">;</span>
&#160;
		AsActor<span class="sy2">-</span><span class="sy1">&gt;</span>SetActorLocation<span class="br0">&#40;</span>SmallestDropData<span class="sy2">-</span><span class="sy1">&gt;</span>SurfaceLoc <span class="sy2">+</span> AnchorOffsets<span class="br0">&#91;</span>AnchorItr<span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
		<span class="co1">//INC</span>
		AnchorItr<span class="sy2">++</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
&#160;
	<span class="co1">//~~~~~~~~~~~~~~</span>
&#160;
	<span class="co1">//Update Display!</span>
	DoSingleDisplayUpdate <span class="sy1">=</span> <span class="kw2">true</span><span class="sy4">;</span>
&#160;
&#160;
	<span class="co1">//~~~ RESELECT SINGLE ACTOR TO MOVE WIDGET</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>GetSelectedActorCount<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">&lt;</span> <span class="nu0">2</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		<span class="co1">//~~~~~~~~~~~~~~~~~</span>
		<span class="co1">//Deselect without Noting</span>
		VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>SelectNone<span class="br0">&#40;</span><span class="kw2">false</span>, <span class="kw2">true</span>, <span class="kw2">false</span><span class="br0">&#41;</span><span class="sy4">;</span>
		VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>SelectActor<span class="br0">&#40;</span>AnchorActor,<span class="kw2">true</span>,<span class="kw2">true</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
<span class="br0">&#125;</span>
&#160;
<span class="co1">//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
&#160;
FPositionVertexBuffer<span class="sy2">*</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">GetVerticies</span><span class="br0">&#40;</span>AStaticMeshActor<span class="sy2">*</span> TheSMA<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>TheSMA<span class="br0">&#41;</span> <span class="kw1">return</span> <span class="kw2">NULL</span><span class="sy4">;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>TheSMA<span class="sy2">-</span><span class="sy1">&gt;</span>IsValidLowLevel<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="kw1">return</span> <span class="kw2">NULL</span><span class="sy4">;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>TheSMA<span class="sy2">-</span><span class="sy1">&gt;</span>StaticMeshComponent<span class="br0">&#41;</span> <span class="kw1">return</span> <span class="kw2">NULL</span><span class="sy4">;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>TheSMA<span class="sy2">-</span><span class="sy1">&gt;</span>StaticMeshComponent<span class="sy2">-</span><span class="sy1">&gt;</span>StaticMesh<span class="br0">&#41;</span> <span class="kw1">return</span> <span class="kw2">NULL</span><span class="sy4">;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>TheSMA<span class="sy2">-</span><span class="sy1">&gt;</span>StaticMeshComponent<span class="sy2">-</span><span class="sy1">&gt;</span>StaticMesh<span class="sy2">-</span><span class="sy1">&gt;</span>RenderData<span class="br0">&#41;</span> <span class="kw1">return</span> <span class="kw2">NULL</span><span class="sy4">;</span>
&#160;
	<span class="co1">//Valid LOD&#160;?</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>TheSMA<span class="sy2">-</span><span class="sy1">&gt;</span>StaticMeshComponent<span class="sy2">-</span><span class="sy1">&gt;</span>StaticMesh<span class="sy2">-</span><span class="sy1">&gt;</span>RenderData<span class="sy2">-</span><span class="sy1">&gt;</span>LODResources.<span class="me1">Num</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">&lt;=</span> <span class="nu0">0</span><span class="br0">&#41;</span> <span class="kw1">return</span> <span class="kw2">NULL</span><span class="sy4">;</span>
&#160;
	<span class="co1">//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
&#160;
	<span class="co1">//~~~~~~~~~~~~~~~~~~~~</span>
	<span class="co1">//				Vertex Buffer Check</span>
	FPositionVertexBuffer<span class="sy2">*</span> VertexBuffer <span class="sy1">=</span> 
		<span class="sy3">&amp;</span>TheSMA<span class="sy2">-</span><span class="sy1">&gt;</span>StaticMeshComponent<span class="sy2">-</span><span class="sy1">&gt;</span>StaticMesh<span class="sy2">-</span><span class="sy1">&gt;</span>RenderData<span class="sy2">-</span><span class="sy1">&gt;</span>LODResources<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span>.<span class="me1">PositionVertexBuffer</span><span class="sy4">;</span>
&#160;
	<span class="co1">//~~~~~~~~~~~~~~~~~~~~</span>
	<span class="co1">//			Count Too High?</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>VertexBuffer<span class="sy2">-</span><span class="sy1">&gt;</span>GetNumVertices<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">&gt;</span> MAX_VERTEX_COUNT_FOR_DRAWING<span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		<span class="co1">//UE_LOG(Victory, Error, TEXT(&quot;Vertex Count too high to draw!&#160;%d&quot;), VertexBuffer-&gt;GetNumVertices() );</span>
		<span class="kw1">return</span> <span class="kw2">NULL</span><span class="sy4">;</span>
		<span class="co1">//~~~~~~~</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">//Return Vertex Buffer</span>
	<span class="kw1">return</span> <span class="sy3">&amp;</span>TheSMA<span class="sy2">-</span><span class="sy1">&gt;</span>StaticMeshComponent<span class="sy2">-</span><span class="sy1">&gt;</span>StaticMesh<span class="sy2">-</span><span class="sy1">&gt;</span>RenderData<span class="sy2">-</span><span class="sy1">&gt;</span>LODResources<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span>.<span class="me1">PositionVertexBuffer</span><span class="sy4">;</span>
<span class="br0">&#125;</span>
&#160;
<span class="co1">//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
&#160;
<span class="coMULTI">/*
UENUM()
enum EInputEvent
{
	IE_Pressed              =0,
	IE_Released             =1,
	IE_Repeat               =2,
	IE_DoubleClick          =3,
	IE_Axis                 =4,
	IE_MAX                  =5,
};
*/</span>
&#160;
<span class="co1">//Pressed</span>
<span class="kw4">void</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">InputKeyPressed</span><span class="br0">&#40;</span>EKey Key<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	<span class="co1">//UE_LOG(Victory, Error, TEXT(&quot;Key pressed&#160;%s&quot;), *EKeys::GetKeyName(Key).ToString() );</span>
&#160;
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>VictoryEngine<span class="br0">&#41;</span> <span class="kw1">return</span><span class="sy4">;</span>
	<span class="co1">//~~~~~~~~~~~~</span>
&#160;
	<span class="co1">//RMB</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>Key <span class="sy1">==</span> EKeys<span class="sy4">::</span><span class="me2">RightMouseButton</span><span class="br0">&#41;</span> 
	<span class="br0">&#123;</span>
		RMBDown <span class="sy1">=</span> <span class="kw2">true</span><span class="sy4">;</span>
		<span class="kw1">return</span><span class="sy4">;</span>
		<span class="co1">//~~~~~~</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">//Left Mouse</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>Key <span class="sy1">==</span> EKey<span class="sy4">::</span><span class="me2">LeftMouseButton</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		LeftMouseClick<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
		<span class="kw1">return</span><span class="sy4">;</span>
		<span class="co1">//~~~~~~</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">//X Key</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>Key <span class="sy1">==</span> EKey<span class="sy4">::</span><span class="me2">X</span><span class="br0">&#41;</span> 
	<span class="br0">&#123;</span>
		XDown <span class="sy1">=</span> <span class="kw2">true</span><span class="sy4">;</span>
		<span class="kw1">return</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">//Y Key</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>Key <span class="sy1">==</span> EKey<span class="sy4">::</span><span class="me2">Y</span><span class="br0">&#41;</span> 
	<span class="br0">&#123;</span>
		DropSelectedActorsToNearestSurface<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
		<span class="kw1">return</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">//U Key</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>Key <span class="sy1">==</span> EKey<span class="sy4">::</span><span class="me2">U</span><span class="br0">&#41;</span> 
	<span class="br0">&#123;</span>
		YDown <span class="sy1">=</span> <span class="kw2">true</span><span class="sy4">;</span>
		DoDrawVerticies <span class="sy1">=</span> <span class="sy3">!</span>DoDrawVerticies<span class="sy4">;</span>
		<span class="kw1">return</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">//K Key</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>Key <span class="sy1">==</span> EKey<span class="sy4">::</span><span class="me2">K</span><span class="br0">&#41;</span> 
	<span class="br0">&#123;</span>
		<span class="kw1">if</span><span class="br0">&#40;</span>VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>VSelectedActor<span class="br0">&#41;</span>
			VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>VSelectedActor<span class="sy2">-</span><span class="sy1">&gt;</span>SetActorRotation<span class="br0">&#40;</span>FRotator<span class="sy4">::</span><span class="me2">ZeroRotator</span><span class="br0">&#41;</span><span class="sy4">;</span>
		<span class="kw1">return</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">//SHIFT KEY</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>Key <span class="sy1">==</span> EKey<span class="sy4">::</span><span class="me2">LeftShift</span> <span class="sy3">||</span> Key <span class="sy1">==</span> EKey<span class="sy4">::</span><span class="me2">RightShift</span><span class="br0">&#41;</span> 
	<span class="br0">&#123;</span>
		ShiftDown <span class="sy1">=</span> <span class="kw2">true</span><span class="sy4">;</span>
		<span class="kw1">return</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
&#160;
	<span class="co1">//- Key</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>Key <span class="sy1">==</span> EKeys<span class="sy4">::</span><span class="me2">Underscore</span><span class="br0">&#41;</span> 
	<span class="br0">&#123;</span>
		MinusIsDown <span class="sy1">=</span> <span class="kw2">true</span><span class="sy4">;</span>
		PendingButtonRefresh <span class="sy1">=</span> <span class="kw2">true</span><span class="sy4">;</span>
		<span class="kw1">return</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
	<span class="co1">//+ Key</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>Key <span class="sy1">==</span> EKey<span class="sy4">::</span><span class="me2">Equals</span><span class="br0">&#41;</span> 
	<span class="br0">&#123;</span>
		PlusIsDown <span class="sy1">=</span> <span class="kw2">true</span><span class="sy4">;</span>
		PendingButtonRefresh <span class="sy1">=</span> <span class="kw2">true</span><span class="sy4">;</span>
		<span class="kw1">return</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">//T Key</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>Key <span class="sy1">==</span> EKey<span class="sy4">::</span><span class="me2">T</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		UsingMouseInstantMove <span class="sy1">=</span> <span class="sy3">!</span>UsingMouseInstantMove<span class="sy4">;</span>
		<span class="kw1">return</span><span class="sy4">;</span>
		<span class="co1">//~~~~~~~~~</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">//V Key</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>Key <span class="sy1">==</span> EKey<span class="sy4">::</span><span class="me2">V</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		SnapKeyPressed <span class="sy1">=</span> <span class="kw2">true</span><span class="sy4">;</span>
		<span class="kw1">return</span><span class="sy4">;</span>
		<span class="co1">//~~~~~~~~~</span>
	<span class="br0">&#125;</span>
	<span class="co1">//B Key</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>Key <span class="sy1">==</span> EKey<span class="sy4">::</span><span class="me2">B</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		VertexDisplayChoice<span class="sy2">++</span><span class="sy4">;</span>
		<span class="kw1">if</span><span class="br0">&#40;</span>VertexDisplayChoice <span class="sy1">&gt;</span> <span class="nu0">4</span><span class="br0">&#41;</span> VertexDisplayChoice <span class="sy1">=</span> <span class="nu0">0</span><span class="sy4">;</span>
		<span class="kw1">return</span><span class="sy4">;</span>
		<span class="co1">//~~~~~~~~~</span>
	<span class="br0">&#125;</span>
&#160;
&#160;
	<span class="co1">//Restore Previous Editor Mode</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>Key <span class="sy1">==</span> EKey<span class="sy4">::</span><span class="me2">P</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		<span class="co1">//Clear all Verticies</span>
&#160;
		<span class="co1">//Exit</span>
		VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>ExitVictoryAlignMode<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
		<span class="kw1">return</span><span class="sy4">;</span>
		<span class="co1">//~~~~~~</span>
	<span class="br0">&#125;</span>
<span class="br0">&#125;</span>
&#160;
<span class="co1">//Released</span>
<span class="kw4">void</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">InputKeyReleased</span><span class="br0">&#40;</span>EKey Key<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	<span class="co1">//RMB</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>Key <span class="sy1">==</span> EKeys<span class="sy4">::</span><span class="me2">RightMouseButton</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		PendingButtonRefresh <span class="sy1">=</span> <span class="kw2">true</span><span class="sy4">;</span>
		RMBDown <span class="sy1">=</span> <span class="kw2">false</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">//LMB</span>
	<span class="kw1">else</span> <span class="kw1">if</span><span class="br0">&#40;</span>Key <span class="sy1">==</span> EKeys<span class="sy4">::</span><span class="me2">LeftMouseButton</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		PendingButtonRefresh <span class="sy1">=</span> <span class="kw2">true</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">//SHIFT KEY</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>Key <span class="sy1">==</span> EKey<span class="sy4">::</span><span class="me2">LeftShift</span> <span class="sy3">||</span> Key <span class="sy1">==</span> EKey<span class="sy4">::</span><span class="me2">RightShift</span><span class="br0">&#41;</span> ShiftDown <span class="sy1">=</span> <span class="kw2">false</span><span class="sy4">;</span>
&#160;
	<span class="co1">//- Key</span>
	<span class="kw1">else</span> <span class="kw1">if</span><span class="br0">&#40;</span>Key <span class="sy1">==</span> EKeys<span class="sy4">::</span><span class="me2">Underscore</span><span class="br0">&#41;</span> MinusIsDown <span class="sy1">=</span> <span class="kw2">false</span><span class="sy4">;</span>
&#160;
	<span class="co1">//+ Key</span>
	<span class="kw1">else</span> <span class="kw1">if</span><span class="br0">&#40;</span>Key <span class="sy1">==</span> EKey<span class="sy4">::</span><span class="me2">Equals</span><span class="br0">&#41;</span>  PlusIsDown <span class="sy1">=</span> <span class="kw2">false</span><span class="sy4">;</span>
&#160;
	<span class="co1">//X Key</span>
	<span class="kw1">else</span> <span class="kw1">if</span><span class="br0">&#40;</span>Key <span class="sy1">==</span> EKey<span class="sy4">::</span><span class="me2">X</span><span class="br0">&#41;</span> XDown <span class="sy1">=</span> <span class="kw2">false</span><span class="sy4">;</span>
&#160;
	<span class="co1">//Y Key</span>
	<span class="kw1">else</span> <span class="kw1">if</span><span class="br0">&#40;</span>Key <span class="sy1">==</span> EKey<span class="sy4">::</span><span class="me2">Y</span><span class="br0">&#41;</span> YDown <span class="sy1">=</span> <span class="kw2">false</span><span class="sy4">;</span>
&#160;
<span class="br0">&#125;</span>
&#160;
<span class="co1">//Double Click</span>
<span class="kw4">void</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">InputKeyDoubleClick</span><span class="br0">&#40;</span>EKey Key<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	<span class="co1">//UE_LOG(Victory, Error, TEXT(&quot;Key DOUBLE CLICK&#160;%s&quot;), *EKeys::GetKeyName(Key).ToString() );</span>
<span class="br0">&#125;</span>
&#160;
<span class="kw4">bool</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">InputKey</span><span class="br0">&#40;</span>FLevelEditorViewportClient<span class="sy2">*</span> ViewportClient,FViewport<span class="sy2">*</span> Viewport,EKey Key,EInputEvent Event<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	<span class="co1">//Middle Mouse</span>
	<span class="kw1">if</span> <span class="br0">&#40;</span>Key <span class="sy1">==</span> EKeys<span class="sy4">::</span><span class="me2">MiddleMouseButton</span><span class="br0">&#41;</span> 			MiddleMouseEvent<span class="br0">&#40;</span>Event<span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw1">else</span> <span class="kw1">if</span><span class="br0">&#40;</span>Event <span class="sy1">==</span> EInputEvent<span class="sy4">::</span><span class="me2">IE_Pressed</span><span class="br0">&#41;</span> 		InputKeyPressed<span class="br0">&#40;</span>Key<span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw1">else</span> <span class="kw1">if</span><span class="br0">&#40;</span>Event <span class="sy1">==</span> EInputEvent<span class="sy4">::</span><span class="me2">IE_Released</span><span class="br0">&#41;</span> 	InputKeyReleased<span class="br0">&#40;</span>Key<span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw1">else</span> <span class="kw1">if</span><span class="br0">&#40;</span>Event <span class="sy1">==</span> EInputEvent<span class="sy4">::</span><span class="me2">IE_DoubleClick</span><span class="br0">&#41;</span> 	InputKeyDoubleClick<span class="br0">&#40;</span>Key<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="kw1">return</span> <span class="kw2">false</span><span class="sy4">;</span>
<span class="br0">&#125;</span>
&#160;
<span class="kw4">void</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">ProcessMouseInstantMove</span><span class="br0">&#40;</span>FLevelEditorViewportClient<span class="sy2">*</span> ViewportClient<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	CHECK_VSELECTED
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>ViewportClient<span class="br0">&#41;</span> <span class="kw1">return</span><span class="sy4">;</span>
	<span class="co1">//~~~~~~~~~~~~~~~</span>
&#160;
	<span class="co1">//Re-initialize hit info</span>
	RV_Hit <span class="sy1">=</span> FHitResult<span class="br0">&#40;</span>ForceInit<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">//Clear Previous Ignore Actors</span>
	RV_TraceParams.<span class="me1">IgnoreActors</span>.<span class="me1">Empty</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">//Ignore All Selected Actors!!!</span>
	<span class="kw1">for</span><span class="br0">&#40;</span>FSelectionIterator VSelectItr <span class="sy1">=</span> VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>GetSelectedActorIterator<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span> 
		VSelectItr<span class="sy4">;</span> <span class="sy2">++</span>VSelectItr <span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		VSelectItrActor <span class="sy1">=</span> Cast<span class="sy1">&lt;</span>AActor<span class="sy1">&gt;</span><span class="br0">&#40;</span><span class="sy2">*</span>VSelectItr<span class="br0">&#41;</span><span class="sy4">;</span>
		<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>VSelectItrActor<span class="br0">&#41;</span> <span class="kw1">continue</span><span class="sy4">;</span>
		<span class="co1">//~~~~~~~~~~~~~~~~~~</span>
&#160;
		<span class="co1">//Add</span>
		RV_TraceParams.<span class="me1">AddIgnoredActor</span><span class="br0">&#40;</span>VSelectItrActor<span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">//Trace</span>
	GetWorld<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy2">-</span><span class="sy1">&gt;</span>LineTraceSingle<span class="br0">&#40;</span>
		RV_Hit,		<span class="co1">//result</span>
		CursorWorldPos,	<span class="co1">//start</span>
		CursorWorldPos <span class="sy2">+</span> <span class="nu0">100000</span> <span class="sy2">*</span> CursorWorldDir , <span class="co1">//end</span>
		ECC_WorldStatic, <span class="co1">//collision channel</span>
		RV_TraceParams
	<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">//Store Hit Actor</span>
	RV_HitActor <span class="sy1">=</span> RV_Hit.<span class="me1">GetActor</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
	<span class="co1">//				Update Highlighted Actor</span>
&#160;
		<span class="co1">//does  not equal same		  does not equal the main Selected Actor</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>RV_HitActor <span class="sy3">!</span><span class="sy1">=</span> HighlightedActor <span class="sy3">&amp;&amp;</span> RV_HitActor <span class="sy3">!</span><span class="sy1">=</span> VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>VSelectedActor <span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		<span class="co1">//potentially deselect any highlighted</span>
		HighlightedActor <span class="sy1">=</span> Cast<span class="sy1">&lt;</span>AStaticMeshActor<span class="sy1">&gt;</span><span class="br0">&#40;</span>RV_HitActor<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
		<span class="co1">//Refresh Vertex Buffer</span>
		HighlightedVertexBuffer <span class="sy1">=</span> <span class="kw2">NULL</span><span class="sy4">;</span>
		<span class="kw1">if</span><span class="br0">&#40;</span>HighlightedActor<span class="br0">&#41;</span> HighlightedVertexBuffer <span class="sy1">=</span> GetVerticies<span class="br0">&#40;</span>HighlightedActor<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
&#160;
	<span class="br0">&#125;</span>
&#160;
	<span class="kw1">if</span><span class="br0">&#40;</span>RV_Hit.<span class="me1">bBlockingHit</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		<span class="co1">//INVALIDATE THE DISPLAY</span>
		ViewportClient<span class="sy2">-</span><span class="sy1">&gt;</span>Viewport<span class="sy2">-</span><span class="sy1">&gt;</span>InvalidateDisplay<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
	<span class="co1">//			PROCESS MOUSE INSTANT MOVE?</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>UsingMouseInstantMove<span class="br0">&#41;</span> <span class="kw1">return</span><span class="sy4">;</span>
	<span class="co1">//~~~~~~~~~~~~~~~~~~~~~~~~</span>
&#160;
	<span class="co1">//If not hit something, use default distance</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>RV_Hit.<span class="me1">bBlockingHit</span><span class="br0">&#41;</span> RV_Hit.<span class="me1">ImpactPoint</span> <span class="sy1">=</span> CursorWorldPos <span class="sy2">+</span> DEFAULT_INSTANT_MOVE_DISTANCE <span class="sy2">*</span> CursorWorldDir<span class="sy4">;</span>
&#160;
&#160;
	<span class="co1">//		Move the Primary, the Origin!</span>
	RV_Vect <span class="sy1">=</span> RV_Hit.<span class="me1">ImpactPoint</span><span class="sy4">;</span>
&#160;
		<span class="co1">//Use Existing Z of Object</span>
	RV_Vect.<span class="me1">Z</span> <span class="sy1">=</span> VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>VSelectedActor<span class="sy2">-</span><span class="sy1">&gt;</span>GetActorLocation<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">Z</span><span class="sy4">;</span>
&#160;
		<span class="co1">//Update Location</span>
	VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>VSelectedActor<span class="sy2">-</span><span class="sy1">&gt;</span>SetActorLocation<span class="br0">&#40;</span>RV_Vect<span class="br0">&#41;</span><span class="sy4">;</span>	
&#160;
		<span class="co1">//Save New Origin Location</span>
	<span class="kw4">const</span> FVector NewOrigin<span class="br0">&#40;</span>RV_Vect<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">//~~~~~~~</span>
&#160;
	<span class="co1">//Update the Others According to the Moved Origin</span>
	RV_Int32 <span class="sy1">=</span> <span class="nu0">0</span><span class="sy4">;</span>
	<span class="kw1">for</span><span class="br0">&#40;</span>FSelectionIterator VSelectItr <span class="sy1">=</span> VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>GetSelectedActorIterator<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span> 
		VSelectItr<span class="sy4">;</span> <span class="sy2">++</span>VSelectItr <span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		VSelectItrActor <span class="sy1">=</span> Cast<span class="sy1">&lt;</span>AActor<span class="sy1">&gt;</span><span class="br0">&#40;</span><span class="sy2">*</span>VSelectItr<span class="br0">&#41;</span><span class="sy4">;</span>
		<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>VSelectItrActor<span class="br0">&#41;</span> 
		<span class="br0">&#123;</span>
			RV_Int32<span class="sy2">++</span><span class="sy4">;</span>
			<span class="kw1">continue</span><span class="sy4">;</span>
		<span class="br0">&#125;</span>
		<span class="co1">//~~~~~~~~~~~~~~~~~~</span>
&#160;
		<span class="co1">//Get New Origin</span>
		RV_Vect <span class="sy1">=</span> NewOrigin<span class="sy4">;</span>
&#160;
		<span class="co1">//Add Offset</span>
		<span class="kw1">if</span><span class="br0">&#40;</span>VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>SelectionRelativeOffsets.<span class="me1">IsValidIndex</span><span class="br0">&#40;</span>RV_Int32<span class="br0">&#41;</span><span class="br0">&#41;</span>
		<span class="br0">&#123;</span>
			RV_Vect<span class="sy2">+</span><span class="sy1">=</span>VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>SelectionRelativeOffsets<span class="br0">&#91;</span>RV_Int32<span class="br0">&#93;</span><span class="sy4">;</span>
		<span class="br0">&#125;</span>
&#160;
		<span class="co1">//Update Location</span>
		VSelectItrActor<span class="sy2">-</span><span class="sy1">&gt;</span>SetActorLocation<span class="br0">&#40;</span>RV_Vect<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
		<span class="co1">//Inc</span>
		RV_Int32<span class="sy2">++</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">//INVALIDATE THE DISPLAY</span>
	ViewportClient<span class="sy2">-</span><span class="sy1">&gt;</span>Viewport<span class="sy2">-</span><span class="sy1">&gt;</span>InvalidateDisplay<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
<span class="br0">&#125;</span>
&#160;
<span class="kw4">bool</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">InputDelta</span><span class="br0">&#40;</span> FLevelEditorViewportClient<span class="sy2">*</span> InViewportClient,FViewport<span class="sy2">*</span> InViewport,FVector<span class="sy3">&amp;</span> InDrag,FRotator<span class="sy3">&amp;</span> InRot,FVector<span class="sy3">&amp;</span> InScale <span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	<span class="co1">//only works if LMB is down</span>
&#160;
	<span class="kw1">return</span> <span class="kw2">false</span><span class="sy4">;</span>
<span class="br0">&#125;</span>
&#160;
<span class="kw4">bool</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">InputAxis</span><span class="br0">&#40;</span>FLevelEditorViewportClient<span class="sy2">*</span> InViewportClient,FViewport<span class="sy2">*</span> Viewport,<span class="kw4">int32</span> ControllerId,EKey Key,<span class="kw4">float</span> Delta,<span class="kw4">float</span> DeltaTime<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	<span class="co1">//only works if any mouse button is down</span>
&#160;
	<span class="kw1">return</span> <span class="kw2">false</span><span class="sy4">;</span>
<span class="br0">&#125;</span>
&#160;
<span class="kw4">bool</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">MouseMove</span><span class="br0">&#40;</span>FLevelEditorViewportClient<span class="sy2">*</span> ViewportClient,FViewport<span class="sy2">*</span> Viewport,<span class="kw4">int32</span> x, <span class="kw4">int32</span> y<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>ViewportClient<span class="br0">&#41;</span> <span class="kw1">return</span> <span class="kw2">false</span><span class="sy4">;</span>
&#160;
	<span class="co1">//~~~~~~~~~~~~~~~</span>
	<span class="co1">//	ESSENTIAL UPDATES</span>
	MouseLocation.<span class="me1">X</span><span class="sy1">=</span>x<span class="sy4">;</span>
	MouseLocation.<span class="me1">Y</span><span class="sy1">=</span>y<span class="sy4">;</span>
&#160;
	<span class="co1">//~~~ Cursor World Space ~~~</span>
	FViewportCursorLocation CursorWS <span class="sy1">=</span> ViewportClient<span class="sy2">-</span><span class="sy1">&gt;</span>GetCursorWorldLocationFromMousePos<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	CursorWorldPos <span class="sy1">=</span> CursorWS.<span class="me1">GetOrigin</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	CursorWorldDir <span class="sy1">=</span> CursorWS.<span class="me1">GetDirection</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">//Calc Delta</span>
	RV_Vect <span class="sy1">=</span> CursorWorldPos <span class="sy2">+</span> CursorWorldDir <span class="sy2">*</span> CURSOR_DELTA_DISTANCE_CALC<span class="sy4">;</span>
	CursorWorldDelta <span class="sy1">=</span> RV_Vect <span class="sy2">-</span> CursorWorldPrevPos<span class="sy4">;</span>
	CursorWorldDelta <span class="sy2">/</span><span class="sy1">=</span> <span class="nu0">4</span><span class="sy4">;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>CursorWorldDelta.<span class="me1">SizeSquared</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">&lt;</span> <span class="nu0">3</span><span class="br0">&#41;</span> CursorWorldDelta <span class="sy1">=</span> FVector<span class="sy4">::</span><span class="me2">ZeroVector</span><span class="sy4">;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>CursorWorldDelta.<span class="me1">SizeSquared</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">&gt;</span> <span class="nu0">10000</span><span class="br0">&#41;</span> CursorWorldDelta <span class="sy1">=</span> FVector<span class="sy4">::</span><span class="me2">ZeroVector</span><span class="sy4">;</span>
&#160;
	<span class="co1">//Save Prev</span>
	CursorWorldPrevPos <span class="sy1">=</span> RV_Vect<span class="sy4">;</span>
&#160;
	<span class="co1">//~~~~~~~~~~~~~~~</span>
&#160;
	<span class="co1">//SUPER HYPER BUTTON REFRESHING</span>
	<span class="co1">//		due to the slide physx camera thing when moving</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>UsingMouseInstantMove<span class="br0">&#41;</span> PendingButtonRefresh <span class="sy1">=</span> <span class="kw2">true</span><span class="sy4">;</span>
&#160;
	<span class="kw1">return</span> <span class="kw2">false</span><span class="sy4">;</span>
<span class="br0">&#125;</span>
&#160;
<span class="co1">//Middle Mouse Event</span>
<span class="kw4">void</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">MiddleMouseEvent</span><span class="br0">&#40;</span>EInputEvent Event<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	<span class="co1">//Pressed</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>Event <span class="sy1">==</span> EInputEvent<span class="sy4">::</span><span class="me2">IE_Pressed</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
&#160;
&#160;
		<span class="kw1">return</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">//Released</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>Event <span class="sy1">==</span> EInputEvent<span class="sy4">::</span><span class="me2">IE_Released</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
&#160;
		<span class="kw1">return</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
<span class="br0">&#125;</span>
&#160;
<span class="co1">//Left Mouse Click</span>
<span class="kw4">void</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">LeftMouseClick</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	CHECK_VSELECTED
&#160;
	<span class="co1">//SelectedVertexForSelectedActor = -1;</span>
<span class="br0">&#125;</span>
<span class="kw4">bool</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">HandleClick</span><span class="br0">&#40;</span>FLevelEditorViewportClient<span class="sy2">*</span> InViewportClient, HHitProxy <span class="sy2">*</span>HitProxy, <span class="kw4">const</span> FViewportClick <span class="sy3">&amp;</span>Click<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
&#160;
	<span class="kw1">return</span> <span class="kw2">false</span><span class="sy4">;</span>
<span class="br0">&#125;</span>
&#160;
<span class="co1">//~~~</span>
&#160;
<span class="co1">//``</span>
<span class="kw4">void</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">GetSelectedVertexLocation</span><span class="br0">&#40;</span>FVector<span class="sy3">&amp;</span> LocOut<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	CHECK_VSELECTED
&#160;
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>SelectedVertexBuffer<span class="br0">&#41;</span>  <span class="kw1">return</span><span class="sy4">;</span>	
	<span class="co1">//~~~~~~~~~~~~~~~~~~</span>
&#160;
	<span class="kw4">const</span> FTransform SMATransform <span class="sy1">=</span> VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>VSelectedActor<span class="sy2">-</span><span class="sy1">&gt;</span>GetTransform<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw4">const</span> FVector SMALocation 		<span class="sy1">=</span> SMATransform.<span class="me1">GetLocation</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw4">const</span> <span class="kw4">int32</span> VertexCount 			<span class="sy1">=</span> SelectedVertexBuffer<span class="sy2">-</span><span class="sy1">&gt;</span>GetNumVertices<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw1">for</span><span class="br0">&#40;</span><span class="kw4">int32</span> Itr <span class="sy1">=</span> <span class="nu0">0</span><span class="sy4">;</span> Itr <span class="sy1">&lt;</span> VertexCount<span class="sy4">;</span> Itr<span class="sy2">++</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		<span class="kw1">if</span><span class="br0">&#40;</span>Itr <span class="sy1">==</span> SelectedVertexForSelectedActor<span class="br0">&#41;</span> 
		<span class="br0">&#123;</span>
			LocOut <span class="sy1">=</span> SMALocation <span class="sy2">+</span> SMATransform.<span class="me1">TransformVector</span><span class="br0">&#40;</span>SelectedVertexBuffer<span class="sy2">-</span><span class="sy1">&gt;</span>VertexPosition<span class="br0">&#40;</span>Itr<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy4">;</span>
			<span class="kw1">return</span><span class="sy4">;</span>
			<span class="co1">//~~~~</span>
		<span class="br0">&#125;</span>
	<span class="br0">&#125;</span>
<span class="br0">&#125;</span>
&#160;
<span class="kw4">void</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">DoVertexSnap</span><span class="br0">&#40;</span><span class="kw4">const</span> FVector<span class="sy3">&amp;</span> Dest<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	CHECK_VSELECTED
&#160;
	FVector SelectedVertexLocation<span class="sy4">;</span>
&#160;
	<span class="co1">//Initial Location</span>
	GetSelectedVertexLocation<span class="br0">&#40;</span>SelectedVertexLocation<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">//Match rotation of owner of target vertex?</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>ShiftDown<span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>VSelectedActor<span class="sy2">-</span><span class="sy1">&gt;</span>SetActorRotation<span class="br0">&#40;</span>RV_Hit.<span class="me1">ImpactNormal</span>.<span class="me1">Rotation</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy4">;</span>
		<span class="co1">//Recalc Selected Vertex After Rotation</span>
		GetSelectedVertexLocation<span class="br0">&#40;</span>SelectedVertexLocation<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
		<span class="co1">//UE_LOG(Victory, Error, TEXT(&quot;WHAT IS HIT NORMAL&#160;%s&quot;), *RV_Hit.ImpactNormal.Rotation().ToString() );</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">//No modifier, just regular click</span>
&#160;
	<span class="co1">//1. calc distance between selected vertex and JSMA location</span>
	<span class="co1">//2. move the JSMA to the target vertex</span>
	<span class="co1">//3. subtract the distance</span>
&#160;
	<span class="co1">//Distance Offset</span>
	<span class="kw4">const</span> FVector LocOffset <span class="sy1">=</span> SelectedVertexLocation <span class="sy2">-</span> VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>VSelectedActor<span class="sy2">-</span><span class="sy1">&gt;</span>GetActorLocation<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">//Set Location</span>
	VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>VSelectedActor<span class="sy2">-</span><span class="sy1">&gt;</span>SetActorLocation<span class="br0">&#40;</span>Dest <span class="sy2">-</span> LocOffset<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">//Refresh After Moving</span>
	PendingButtonRefresh <span class="sy1">=</span> <span class="kw2">true</span><span class="sy4">;</span>
<span class="br0">&#125;</span>
&#160;
<span class="kw4">void</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">RefreshVertexButtons</span><span class="br0">&#40;</span><span class="kw4">const</span> FSceneView<span class="sy2">*</span> View<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	CHECK_VSELECTED
&#160;
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>View<span class="br0">&#41;</span> <span class="kw1">return</span><span class="sy4">;</span>
	<span class="co1">//~~~~~~~~~~~~~</span>
&#160;
	<span class="co1">//No Longer Pending</span>
	PendingButtonRefresh <span class="sy1">=</span> <span class="kw2">false</span><span class="sy4">;</span>
&#160;
	<span class="co1">//Refresh</span>
	SelectedActorButtons.<span class="me1">Empty</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	HighlightedActorButtons.<span class="me1">Empty</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">//~~~ Vars ~~~</span>
	<span class="kw4">const</span> <span class="kw4">float</span> ButtonHalfSize <span class="sy1">=</span> CurrentVerticiesScale<span class="sy2">/</span><span class="nu0">2</span><span class="sy4">;</span>
&#160;
	<span class="co1">//~~~~~~~~~~~~~~~~~~~~~</span>
	<span class="co1">//			Selected Actor</span>
	<span class="co1">//~~~~~~~~~~~~~~~~~~~~~</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>VSelectedActor<span class="sy2">-</span><span class="sy1">&gt;</span>IsValidLowLevel<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#41;</span> <span class="kw1">return</span><span class="sy4">;</span>
&#160;
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>SelectedVertexBuffer<span class="br0">&#41;</span>  <span class="kw1">return</span><span class="sy4">;</span>	
	<span class="co1">//~~~~~~~~~~~~~~~~~~</span>
&#160;
	FTransform SMATransform <span class="sy1">=</span> VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>VSelectedActor<span class="sy2">-</span><span class="sy1">&gt;</span>GetTransform<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	FVector SMALocation 		<span class="sy1">=</span> SMATransform.<span class="me1">GetLocation</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw4">const</span> <span class="kw4">int32</span> VertexCount 			<span class="sy1">=</span> SelectedVertexBuffer<span class="sy2">-</span><span class="sy1">&gt;</span>GetNumVertices<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw1">for</span><span class="br0">&#40;</span><span class="kw4">int32</span> Itr <span class="sy1">=</span> <span class="nu0">0</span><span class="sy4">;</span> Itr <span class="sy1">&lt;</span> VertexCount<span class="sy4">;</span> Itr<span class="sy2">++</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		<span class="co1">//Get Rotated Scaled Translated Vertex Pos</span>
		VertexWorldSpace <span class="sy1">=</span> SMALocation <span class="sy2">+</span> SMATransform.<span class="me1">TransformVector</span><span class="br0">&#40;</span>SelectedVertexBuffer<span class="sy2">-</span><span class="sy1">&gt;</span>VertexPosition<span class="br0">&#40;</span>Itr<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
		<span class="co1">//Get 2D Center</span>
		VictoryProject<span class="br0">&#40;</span>View, 
			VertexWorldSpace, 
			Vertex2DCenter 
		<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
		FVButton NewButton<span class="sy4">;</span>
		NewButton.<span class="me1">Vibe</span> 			<span class="sy1">=</span> 	Itr<span class="sy4">;</span>
		NewButton.<span class="me1">PointInWorld</span> 	<span class="sy1">=</span> 	VertexWorldSpace<span class="sy4">;</span>
		NewButton.<span class="me1">minX</span>			<span class="sy1">=</span>	Vertex2DCenter.<span class="me1">X</span> <span class="sy2">-</span> ButtonHalfSize<span class="sy4">;</span>
		NewButton.<span class="me1">maxX</span>			<span class="sy1">=</span>	Vertex2DCenter.<span class="me1">X</span> <span class="sy2">+</span> ButtonHalfSize<span class="sy4">;</span>
		NewButton.<span class="me1">minY</span>			<span class="sy1">=</span>	Vertex2DCenter.<span class="me1">Y</span> <span class="sy2">-</span> ButtonHalfSize<span class="sy4">;</span>
		NewButton.<span class="me1">maxY</span>			<span class="sy1">=</span>	Vertex2DCenter.<span class="me1">Y</span> <span class="sy2">+</span> ButtonHalfSize<span class="sy4">;</span>
&#160;
		<span class="co1">//Add Button</span>
		SelectedActorButtons.<span class="me1">Add</span><span class="br0">&#40;</span>NewButton<span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">//~~~~~~~~~~~~~~~~~~~~~</span>
	<span class="co1">//			Highlighted Actor</span>
	<span class="co1">//~~~~~~~~~~~~~~~~~~~~~</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>HighlightedActor<span class="br0">&#41;</span> <span class="kw1">return</span><span class="sy4">;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>HighlightedActor<span class="sy2">-</span><span class="sy1">&gt;</span>IsValidLowLevel<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="kw1">return</span><span class="sy4">;</span>
&#160;
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>HighlightedVertexBuffer<span class="br0">&#41;</span>  <span class="kw1">return</span><span class="sy4">;</span>	
	<span class="co1">//~~~~~~~~~~~~~~~~~~</span>
&#160;
	SMATransform <span class="sy1">=</span> HighlightedActor<span class="sy2">-</span><span class="sy1">&gt;</span>GetTransform<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	SMALocation 		<span class="sy1">=</span> SMATransform.<span class="me1">GetLocation</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw4">const</span> <span class="kw4">int32</span> VertexCount2 			<span class="sy1">=</span> HighlightedVertexBuffer<span class="sy2">-</span><span class="sy1">&gt;</span>GetNumVertices<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw1">for</span><span class="br0">&#40;</span><span class="kw4">int32</span> Itr <span class="sy1">=</span> <span class="nu0">0</span><span class="sy4">;</span> Itr <span class="sy1">&lt;</span> VertexCount2<span class="sy4">;</span> Itr<span class="sy2">++</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		<span class="co1">//Get Rotated Scaled Translated Vertex Pos</span>
		VertexWorldSpace <span class="sy1">=</span> SMALocation <span class="sy2">+</span> SMATransform.<span class="me1">TransformVector</span><span class="br0">&#40;</span>HighlightedVertexBuffer<span class="sy2">-</span><span class="sy1">&gt;</span>VertexPosition<span class="br0">&#40;</span>Itr<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
		<span class="co1">//Get 2D Center</span>
		VictoryProject<span class="br0">&#40;</span>View, 
			VertexWorldSpace, 
			Vertex2DCenter 
		<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
		FVButton NewButton<span class="sy4">;</span>
		NewButton.<span class="me1">Vibe</span> 			<span class="sy1">=</span> 	Itr<span class="sy4">;</span>
		NewButton.<span class="me1">PointInWorld</span> 	<span class="sy1">=</span> 	VertexWorldSpace<span class="sy4">;</span>
		NewButton.<span class="me1">minX</span>			<span class="sy1">=</span>	Vertex2DCenter.<span class="me1">X</span> <span class="sy2">-</span> ButtonHalfSize<span class="sy4">;</span>
		NewButton.<span class="me1">maxX</span>			<span class="sy1">=</span>	Vertex2DCenter.<span class="me1">X</span> <span class="sy2">+</span> ButtonHalfSize<span class="sy4">;</span>
		NewButton.<span class="me1">minY</span>			<span class="sy1">=</span>	Vertex2DCenter.<span class="me1">Y</span> <span class="sy2">-</span> ButtonHalfSize<span class="sy4">;</span>
		NewButton.<span class="me1">maxY</span>			<span class="sy1">=</span>	Vertex2DCenter.<span class="me1">Y</span> <span class="sy2">+</span> ButtonHalfSize<span class="sy4">;</span>
&#160;
		<span class="co1">//Add Button</span>
		HighlightedActorButtons.<span class="me1">Add</span><span class="br0">&#40;</span>NewButton<span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
<span class="br0">&#125;</span>
&#160;
<span class="co1">//```</span>
<span class="kw4">void</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">PDI_DrawVerticies</span><span class="br0">&#40;</span><span class="kw4">const</span> FSceneView<span class="sy2">*</span> View, FPrimitiveDrawInterface<span class="sy2">*</span> PDI, <span class="kw4">const</span> FPositionVertexBuffer<span class="sy2">*</span> VertexBuffer, <span class="kw4">const</span> FTransform<span class="sy3">&amp;</span> SMATransform, <span class="kw4">bool</span> DrawingSelectedActor<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	CHECK_VSELECTED
&#160;
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>View<span class="br0">&#41;</span> 			<span class="kw1">return</span><span class="sy4">;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>PDI<span class="br0">&#41;</span> 			<span class="kw1">return</span><span class="sy4">;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>VertexBuffer<span class="br0">&#41;</span> 	<span class="kw1">return</span><span class="sy4">;</span>
	<span class="co1">//~~~~~~~~~~~~~~~</span>
&#160;
	<span class="co1">//Location</span>
	<span class="kw4">const</span> FVector SMALocation 			<span class="sy1">=</span> SMATransform.<span class="me1">GetLocation</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">//Get Count</span>
	<span class="kw4">const</span> <span class="kw4">int32</span> VertexCount <span class="sy1">=</span> VertexBuffer<span class="sy2">-</span><span class="sy1">&gt;</span>GetNumVertices<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">//~~~~~~~~~~~~~~~~~~~~~</span>
	<span class="co1">//			Selected Actor</span>
	<span class="co1">//~~~~~~~~~~~~~~~~~~~~~</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>DrawingSelectedActor<span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
	<span class="kw1">for</span><span class="br0">&#40;</span><span class="kw4">int32</span> Itr <span class="sy1">=</span> <span class="nu0">0</span><span class="sy4">;</span> Itr <span class="sy1">&lt;</span> VertexCount<span class="sy4">;</span> Itr<span class="sy2">++</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		<span class="co1">//Selected Vertex?</span>
		<span class="kw1">if</span><span class="br0">&#40;</span>SelectedVertexForSelectedActor <span class="sy1">==</span> Itr <span class="br0">&#41;</span>
		<span class="br0">&#123;</span>
			<span class="co1">//Draw to the PDI</span>
			PDI<span class="sy2">-</span><span class="sy1">&gt;</span>DrawPoint<span class="br0">&#40;</span>
				SMALocation <span class="sy2">+</span> SMATransform.<span class="me1">TransformVector</span><span class="br0">&#40;</span>VertexBuffer<span class="sy2">-</span><span class="sy1">&gt;</span>VertexPosition<span class="br0">&#40;</span>Itr<span class="br0">&#41;</span><span class="br0">&#41;</span>,
				RV_Yellow,
				CurrentVerticiesScale<span class="sy2">*</span>VERTEX_SELECTED_MULT,
				<span class="nu0">0</span> <span class="co1">//depth</span>
			<span class="br0">&#41;</span><span class="sy4">;</span>
			<span class="kw1">continue</span><span class="sy4">;</span>
		<span class="br0">&#125;</span>
		<span class="kw1">else</span> <span class="kw1">if</span><span class="br0">&#40;</span>HighlightedVertexForSelectedActor <span class="sy1">==</span> Itr<span class="br0">&#41;</span>
		<span class="br0">&#123;</span>
			<span class="co1">//Draw to the PDI</span>
			PDI<span class="sy2">-</span><span class="sy1">&gt;</span>DrawPoint<span class="br0">&#40;</span>
				SMALocation <span class="sy2">+</span> SMATransform.<span class="me1">TransformVector</span><span class="br0">&#40;</span>VertexBuffer<span class="sy2">-</span><span class="sy1">&gt;</span>VertexPosition<span class="br0">&#40;</span>Itr<span class="br0">&#41;</span><span class="br0">&#41;</span>,
				FLinearColor<span class="br0">&#40;</span><span class="nu0">0</span>,<span class="nu0">1</span>,<span class="nu0">1</span>,<span class="nu0">1</span><span class="br0">&#41;</span>,
				CurrentVerticiesScale<span class="sy2">*</span>VERTEX_SELECTED_MULT,
				<span class="nu0">0</span> <span class="co1">//depth</span>
			<span class="br0">&#41;</span><span class="sy4">;</span>
			<span class="kw1">continue</span><span class="sy4">;</span>
		<span class="br0">&#125;</span>
		<span class="kw1">else</span>
		<span class="br0">&#123;</span>
&#160;
			<span class="co1">//Spheres</span>
			<span class="kw1">if</span><span class="br0">&#40;</span>VertexDisplayChoice <span class="sy1">==</span> VERTEX_DISPLAY_SPHERE<span class="br0">&#41;</span>
			<span class="br0">&#123;</span>
				<span class="kw1">if</span><span class="br0">&#40;</span>VertexCount <span class="sy1">&gt;</span> MAX_VERTEX_COUNT_FOR_DRAWING_SPHERES<span class="br0">&#41;</span>
				<span class="br0">&#123;</span>
				DrawWireBox<span class="br0">&#40;</span>
					PDI,
					BoxFromPointWithSize<span class="br0">&#40;</span>SMALocation <span class="sy2">+</span> SMATransform.<span class="me1">TransformVector</span><span class="br0">&#40;</span>VertexBuffer<span class="sy2">-</span><span class="sy1">&gt;</span>VertexPosition<span class="br0">&#40;</span>Itr<span class="br0">&#41;</span><span class="br0">&#41;</span>,CurrentVerticiesScale<span class="sy2">*</span><span class="nu16">0.5</span><span class="br0">&#41;</span>,
					RV_VRed,
					<span class="nu0">0</span>
				<span class="br0">&#41;</span><span class="sy4">;</span>
				<span class="kw1">continue</span><span class="sy4">;</span>
				<span class="br0">&#125;</span>
				<span class="kw1">else</span>
				<span class="br0">&#123;</span>
				DrawWireSphere<span class="br0">&#40;</span>
					PDI, 
					SMALocation <span class="sy2">+</span> SMATransform.<span class="me1">TransformVector</span><span class="br0">&#40;</span>VertexBuffer<span class="sy2">-</span><span class="sy1">&gt;</span>VertexPosition<span class="br0">&#40;</span>Itr<span class="br0">&#41;</span><span class="br0">&#41;</span>,
					RV_VRed, 
					CurrentVerticiesScale<span class="sy2">*</span>VERTEX_SHAPE_MULT, 
					<span class="nu0">12</span>, 
					<span class="nu0">0</span>
				<span class="br0">&#41;</span><span class="sy4">;</span>
				<span class="kw1">continue</span><span class="sy4">;</span>
				<span class="br0">&#125;</span>
			<span class="br0">&#125;</span>
&#160;
			<span class="co1">//Diamond</span>
			<span class="kw1">else</span> <span class="kw1">if</span><span class="br0">&#40;</span>VertexDisplayChoice <span class="sy1">==</span> VERTEX_DISPLAY_DIAMOND3D<span class="br0">&#41;</span>
			<span class="br0">&#123;</span>
			DrawWireSphere<span class="br0">&#40;</span>
				PDI, 
				SMALocation <span class="sy2">+</span> SMATransform.<span class="me1">TransformVector</span><span class="br0">&#40;</span>VertexBuffer<span class="sy2">-</span><span class="sy1">&gt;</span>VertexPosition<span class="br0">&#40;</span>Itr<span class="br0">&#41;</span><span class="br0">&#41;</span>,
				RV_VRed, 
				CurrentVerticiesScale<span class="sy2">*</span>VERTEX_SHAPE_MULT, 
				<span class="nu0">4</span>, 
				<span class="nu0">0</span>
			<span class="br0">&#41;</span><span class="sy4">;</span>
			<span class="kw1">continue</span><span class="sy4">;</span>
			<span class="br0">&#125;</span>
&#160;
			<span class="co1">//Box</span>
			<span class="kw1">else</span> <span class="kw1">if</span><span class="br0">&#40;</span>VertexDisplayChoice <span class="sy1">==</span> VERTEX_DISPLAY_3DBOX<span class="br0">&#41;</span>
			<span class="br0">&#123;</span>
			DrawWireBox<span class="br0">&#40;</span>
				PDI,
				BoxFromPointWithSize<span class="br0">&#40;</span>SMALocation <span class="sy2">+</span> SMATransform.<span class="me1">TransformVector</span><span class="br0">&#40;</span>VertexBuffer<span class="sy2">-</span><span class="sy1">&gt;</span>VertexPosition<span class="br0">&#40;</span>Itr<span class="br0">&#41;</span><span class="br0">&#41;</span>,CurrentVerticiesScale<span class="sy2">*</span>VERTEX_SHAPE_MULT<span class="br0">&#41;</span>,
				RV_VRed,
				<span class="nu0">0</span>
			<span class="br0">&#41;</span><span class="sy4">;</span>
			<span class="kw1">continue</span><span class="sy4">;</span>
			<span class="br0">&#125;</span>
&#160;
			<span class="co1">//Stars</span>
			<span class="kw1">else</span> <span class="kw1">if</span><span class="br0">&#40;</span>VertexDisplayChoice <span class="sy1">==</span> VERTEX_DISPLAY_STARS<span class="br0">&#41;</span>
			<span class="br0">&#123;</span>
			DrawWireStar<span class="br0">&#40;</span>
				PDI,
				SMALocation <span class="sy2">+</span> SMATransform.<span class="me1">TransformVector</span><span class="br0">&#40;</span>VertexBuffer<span class="sy2">-</span><span class="sy1">&gt;</span>VertexPosition<span class="br0">&#40;</span>Itr<span class="br0">&#41;</span><span class="br0">&#41;</span>,
				CurrentVerticiesScale, 
				RV_VRed,
				<span class="nu0">0</span>
			<span class="br0">&#41;</span><span class="sy4">;</span>
			<span class="kw1">continue</span><span class="sy4">;</span>
			<span class="br0">&#125;</span>
&#160;
			<span class="co1">//Rect</span>
			<span class="kw1">else</span> <span class="kw1">if</span><span class="br0">&#40;</span>VertexDisplayChoice <span class="sy1">==</span> VERTEX_DISPLAY_RECT<span class="br0">&#41;</span>
			<span class="br0">&#123;</span>
			<span class="co1">//Draw to the PDI</span>
			PDI<span class="sy2">-</span><span class="sy1">&gt;</span>DrawPoint<span class="br0">&#40;</span>
				SMALocation <span class="sy2">+</span> SMATransform.<span class="me1">TransformVector</span><span class="br0">&#40;</span>VertexBuffer<span class="sy2">-</span><span class="sy1">&gt;</span>VertexPosition<span class="br0">&#40;</span>Itr<span class="br0">&#41;</span><span class="br0">&#41;</span>,
				RV_Red,
				CurrentVerticiesScale,
				<span class="nu0">0</span> <span class="co1">//depth</span>
			<span class="br0">&#41;</span><span class="sy4">;</span>
			<span class="kw1">continue</span><span class="sy4">;</span>
			<span class="br0">&#125;</span>
&#160;
		<span class="br0">&#125;</span>
&#160;
	<span class="br0">&#125;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">//~~~~~~~~~~~~~~~~~~~~~</span>
	<span class="co1">//			Highlighted Actor</span>
	<span class="co1">//~~~~~~~~~~~~~~~~~~~~~</span>
	<span class="kw1">else</span>
	<span class="br0">&#123;</span>
	<span class="kw1">for</span><span class="br0">&#40;</span><span class="kw4">int32</span> Itr <span class="sy1">=</span> <span class="nu0">0</span><span class="sy4">;</span> Itr <span class="sy1">&lt;</span> VertexCount<span class="sy4">;</span> Itr<span class="sy2">++</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		<span class="kw1">if</span><span class="br0">&#40;</span>HighlightedVertexForHighlightedActor <span class="sy1">==</span> Itr<span class="br0">&#41;</span>
		<span class="br0">&#123;</span>
			<span class="co1">//Draw to the PDI</span>
			PDI<span class="sy2">-</span><span class="sy1">&gt;</span>DrawPoint<span class="br0">&#40;</span>
				SMALocation <span class="sy2">+</span> SMATransform.<span class="me1">TransformVector</span><span class="br0">&#40;</span>VertexBuffer<span class="sy2">-</span><span class="sy1">&gt;</span>VertexPosition<span class="br0">&#40;</span>Itr<span class="br0">&#41;</span><span class="br0">&#41;</span>,
				FLinearColor<span class="br0">&#40;</span><span class="nu0">0</span>,<span class="nu0">1</span>,<span class="nu0">1</span>,<span class="nu0">1</span><span class="br0">&#41;</span>,
				CurrentVerticiesScale<span class="sy2">*</span>VERTEX_SELECTED_MULT,
				<span class="nu0">0</span> <span class="co1">//depth</span>
			<span class="br0">&#41;</span><span class="sy4">;</span>
			<span class="kw1">continue</span><span class="sy4">;</span>
		<span class="br0">&#125;</span>
&#160;
		<span class="co1">//Spheres</span>
		<span class="kw1">if</span><span class="br0">&#40;</span>VertexDisplayChoice <span class="sy1">==</span> VERTEX_DISPLAY_SPHERE<span class="br0">&#41;</span>
		<span class="br0">&#123;</span>
			<span class="kw1">if</span><span class="br0">&#40;</span>VertexCount <span class="sy1">&gt;</span> MAX_VERTEX_COUNT_FOR_DRAWING_SPHERES<span class="br0">&#41;</span>
			<span class="br0">&#123;</span>
			DrawWireBox<span class="br0">&#40;</span>
				PDI,
				BoxFromPointWithSize<span class="br0">&#40;</span>SMALocation <span class="sy2">+</span> SMATransform.<span class="me1">TransformVector</span><span class="br0">&#40;</span>VertexBuffer<span class="sy2">-</span><span class="sy1">&gt;</span>VertexPosition<span class="br0">&#40;</span>Itr<span class="br0">&#41;</span><span class="br0">&#41;</span>,CurrentVerticiesScale<span class="sy2">*</span>VERTEX_SHAPE_MULT<span class="br0">&#41;</span>,
				RV_VBlue,
				<span class="nu0">0</span>
			<span class="br0">&#41;</span><span class="sy4">;</span>
			<span class="kw1">continue</span><span class="sy4">;</span>
			<span class="br0">&#125;</span>
			<span class="kw1">else</span>
			<span class="br0">&#123;</span>
			DrawWireSphere<span class="br0">&#40;</span>
				PDI, 
				SMALocation <span class="sy2">+</span> SMATransform.<span class="me1">TransformVector</span><span class="br0">&#40;</span>VertexBuffer<span class="sy2">-</span><span class="sy1">&gt;</span>VertexPosition<span class="br0">&#40;</span>Itr<span class="br0">&#41;</span><span class="br0">&#41;</span>,
				RV_VBlue, 
				CurrentVerticiesScale<span class="sy2">*</span>VERTEX_SHAPE_MULT, 
				<span class="nu0">12</span>, 
				<span class="nu0">0</span>
			<span class="br0">&#41;</span><span class="sy4">;</span>
			<span class="kw1">continue</span><span class="sy4">;</span>
			<span class="br0">&#125;</span>
		<span class="br0">&#125;</span>
&#160;
		<span class="co1">//Diamond</span>
		<span class="kw1">else</span> <span class="kw1">if</span><span class="br0">&#40;</span>VertexDisplayChoice <span class="sy1">==</span> VERTEX_DISPLAY_DIAMOND3D<span class="br0">&#41;</span>
		<span class="br0">&#123;</span>
		DrawWireSphere<span class="br0">&#40;</span>
			PDI, 
			SMALocation <span class="sy2">+</span> SMATransform.<span class="me1">TransformVector</span><span class="br0">&#40;</span>VertexBuffer<span class="sy2">-</span><span class="sy1">&gt;</span>VertexPosition<span class="br0">&#40;</span>Itr<span class="br0">&#41;</span><span class="br0">&#41;</span>,
			RV_VBlue, 
			CurrentVerticiesScale<span class="sy2">*</span>VERTEX_SHAPE_MULT, 
			<span class="nu0">4</span>, 
			<span class="nu0">0</span>
		<span class="br0">&#41;</span><span class="sy4">;</span>
		<span class="kw1">continue</span><span class="sy4">;</span>
		<span class="br0">&#125;</span>
&#160;
		<span class="co1">//Box</span>
		<span class="kw1">else</span> <span class="kw1">if</span><span class="br0">&#40;</span>VertexDisplayChoice <span class="sy1">==</span> VERTEX_DISPLAY_3DBOX<span class="br0">&#41;</span>
		<span class="br0">&#123;</span>
		DrawWireBox<span class="br0">&#40;</span>
			PDI,
			BoxFromPointWithSize<span class="br0">&#40;</span>SMALocation <span class="sy2">+</span> SMATransform.<span class="me1">TransformVector</span><span class="br0">&#40;</span>VertexBuffer<span class="sy2">-</span><span class="sy1">&gt;</span>VertexPosition<span class="br0">&#40;</span>Itr<span class="br0">&#41;</span><span class="br0">&#41;</span>,CurrentVerticiesScale<span class="br0">&#41;</span>,
			RV_VBlue,
			<span class="nu0">0</span>
		<span class="br0">&#41;</span><span class="sy4">;</span>
		<span class="kw1">continue</span><span class="sy4">;</span>
		<span class="br0">&#125;</span>
&#160;
		<span class="co1">//Stars</span>
		<span class="kw1">else</span> <span class="kw1">if</span><span class="br0">&#40;</span>VertexDisplayChoice <span class="sy1">==</span> VERTEX_DISPLAY_STARS<span class="br0">&#41;</span>
		<span class="br0">&#123;</span>
&#160;
		DrawWireStar<span class="br0">&#40;</span>
			PDI,
			SMALocation <span class="sy2">+</span> SMATransform.<span class="me1">TransformVector</span><span class="br0">&#40;</span>VertexBuffer<span class="sy2">-</span><span class="sy1">&gt;</span>VertexPosition<span class="br0">&#40;</span>Itr<span class="br0">&#41;</span><span class="br0">&#41;</span>,
			CurrentVerticiesScale, 
			RV_VBlue,
			<span class="nu0">0</span>
		<span class="br0">&#41;</span><span class="sy4">;</span>
		<span class="kw1">continue</span><span class="sy4">;</span>
		<span class="br0">&#125;</span>
&#160;
		<span class="co1">//Rect</span>
		<span class="kw1">else</span> <span class="kw1">if</span><span class="br0">&#40;</span>VertexDisplayChoice <span class="sy1">==</span> VERTEX_DISPLAY_RECT<span class="br0">&#41;</span>
		<span class="br0">&#123;</span>
		<span class="co1">//Draw to the PDI</span>
		PDI<span class="sy2">-</span><span class="sy1">&gt;</span>DrawPoint<span class="br0">&#40;</span>
			SMALocation <span class="sy2">+</span> SMATransform.<span class="me1">TransformVector</span><span class="br0">&#40;</span>VertexBuffer<span class="sy2">-</span><span class="sy1">&gt;</span>VertexPosition<span class="br0">&#40;</span>Itr<span class="br0">&#41;</span><span class="br0">&#41;</span>,
			RV_Blue,
			CurrentVerticiesScale,
			<span class="nu0">0</span> <span class="co1">//depth</span>
		<span class="br0">&#41;</span><span class="sy4">;</span>
		<span class="kw1">continue</span><span class="sy4">;</span>
		<span class="br0">&#125;</span>
	<span class="br0">&#125;</span>	
	<span class="br0">&#125;</span>
<span class="br0">&#125;</span>
&#160;
&#160;
<span class="kw4">void</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">DrawHotkeyToolTip</span><span class="br0">&#40;</span>FCanvas<span class="sy2">*</span> Canvas<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>Canvas<span class="br0">&#41;</span> <span class="kw1">return</span><span class="sy4">;</span>
	<span class="co1">//~~~~~~~~~</span>
&#160;
	RV_yStart <span class="sy1">=</span> MouseLocation.<span class="me1">Y</span> <span class="sy2">+</span> <span class="nu0">16</span><span class="sy4">;</span>
&#160;
	<span class="co1">//Background</span>
	DrawVictoryRect<span class="br0">&#40;</span>Canvas, 
		MouseLocation.<span class="me1">X</span> <span class="sy2">-</span> <span class="nu0">7</span>, 
		RV_yStart <span class="sy2">-</span> <span class="nu0">7</span>,
		<span class="nu0">420</span>,
		VICTORY_TEXT_HEIGHT <span class="sy2">*</span> <span class="nu0">10</span> <span class="sy2">+</span> <span class="nu0">120</span>,
		FLinearColor<span class="br0">&#40;</span><span class="nu0">0</span>,<span class="nu0">0</span>,<span class="nu0">1</span>,<span class="nu16">0.777</span><span class="br0">&#41;</span>
	<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	DrawVictoryTextWithColor<span class="br0">&#40;</span>Canvas, 
		<span class="st0">&quot;~~~ Victory Editor Mode Hotkeys ~~~&quot;</span>, 
		MouseLocation.<span class="me1">X</span>,RV_yStart,
		RV_Yellow
	<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	RV_yStart <span class="sy2">+</span><span class="sy1">=</span> VICTORY_TEXT_HEIGHT <span class="sy2">*</span> <span class="nu0">2</span><span class="sy4">;</span>
	DrawVictoryTextWithColor<span class="br0">&#40;</span>Canvas, 
		<span class="st0">&quot;P ~ Restore previous Editor Mode&quot;</span>, 
		MouseLocation.<span class="me1">X</span>,RV_yStart,
		RV_Yellow
	<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	RV_yStart <span class="sy2">+</span><span class="sy1">=</span> VICTORY_TEXT_HEIGHT <span class="sy2">+</span> <span class="nu0">20</span><span class="sy4">;</span>
	DrawVictoryTextWithColor<span class="br0">&#40;</span>Canvas, 
		<span class="st0">&quot;Y ~ Drop Objects to Nearest Surface!&quot;</span>, 
		MouseLocation.<span class="me1">X</span>,RV_yStart,
		RV_Yellow
	<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	RV_yStart <span class="sy2">+</span><span class="sy1">=</span> VICTORY_TEXT_HEIGHT <span class="sy2">+</span> <span class="nu0">20</span><span class="sy4">;</span>
	DrawVictoryTextWithColor<span class="br0">&#40;</span>Canvas, 
		<span class="st0">&quot;T ~ Toggle Instant Mouse Move Mode&quot;</span>, 
		MouseLocation.<span class="me1">X</span>,RV_yStart,
		RV_Yellow
	<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	RV_yStart <span class="sy2">+</span><span class="sy1">=</span> VICTORY_TEXT_HEIGHT<span class="sy4">;</span>
	DrawVictoryTextWithColor<span class="br0">&#40;</span>Canvas, 
		<span class="st0">&quot;K ~ Reset Rotation&quot;</span>, 
		MouseLocation.<span class="me1">X</span>,RV_yStart,
		RV_Yellow
	<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	RV_yStart <span class="sy2">+</span><span class="sy1">=</span> VICTORY_TEXT_HEIGHT <span class="sy2">+</span> <span class="nu0">20</span><span class="sy4">;</span>
	DrawVictoryTextWithColor<span class="br0">&#40;</span>Canvas, 
		<span class="st0">&quot;V ~ Select Verticies for Snapping!&quot;</span>, 
		MouseLocation.<span class="me1">X</span>,RV_yStart,
		RV_Yellow
	<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	RV_yStart <span class="sy2">+</span><span class="sy1">=</span> VICTORY_TEXT_HEIGHT <span class="sy2">+</span> <span class="nu0">5</span><span class="sy4">;</span>
	DrawVictoryTextWithColor<span class="br0">&#40;</span>Canvas, 
		<span class="st0">&quot;SHIFT + V ~ Snap by Surface Normal&quot;</span>, 
		MouseLocation.<span class="me1">X</span>,RV_yStart,
		RV_Yellow
	<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	RV_yStart <span class="sy2">+</span><span class="sy1">=</span> VICTORY_TEXT_HEIGHT <span class="sy2">+</span> <span class="nu0">5</span><span class="sy4">;</span>
	DrawVictoryTextWithColor<span class="br0">&#40;</span>Canvas, 
		<span class="st0">&quot;B ~ Toggle Different Vertex Types!!!&quot;</span>, 
		MouseLocation.<span class="me1">X</span>,RV_yStart,
		RV_Yellow
	<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	RV_yStart <span class="sy2">+</span><span class="sy1">=</span> VICTORY_TEXT_HEIGHT <span class="sy2">+</span> <span class="nu0">4</span><span class="sy4">;</span>
	DrawVictoryTextWithColor<span class="br0">&#40;</span>Canvas, 
		<span class="st0">&quot;Hold + or - ~ Change Vertex Size!&quot;</span>, 
		MouseLocation.<span class="me1">X</span>,RV_yStart,
		RV_Yellow
	<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	RV_yStart <span class="sy2">+</span><span class="sy1">=</span> VICTORY_TEXT_HEIGHT <span class="sy2">+</span> <span class="nu0">4</span><span class="sy4">;</span>
	DrawVictoryTextWithColor<span class="br0">&#40;</span>Canvas, 
		<span class="st0">&quot;U ~ Toggle Hiding of All Verticies&quot;</span>, 
		MouseLocation.<span class="me1">X</span>,RV_yStart,
		RV_Yellow
	<span class="br0">&#41;</span><span class="sy4">;</span>
<span class="br0">&#125;</span>
&#160;
<span class="kw4">void</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">DrawVictoryText</span><span class="br0">&#40;</span>FCanvas<span class="sy2">*</span> Canvas, <span class="kw4">const</span> FString<span class="sy3">&amp;</span> TheStr, <span class="kw4">float</span> X, <span class="kw4">float</span> Y, <span class="kw4">float</span> TheScale <span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>Canvas<span class="br0">&#41;</span> <span class="kw1">return</span><span class="sy4">;</span>
	<span class="co1">//~~~~~~~~~</span>
&#160;
	FCanvasTextItem NewText<span class="br0">&#40;</span>
		FVector2D<span class="br0">&#40;</span>X,Y<span class="br0">&#41;</span>,
		FText<span class="sy4">::</span><span class="me2">FromString</span><span class="br0">&#40;</span>TheStr<span class="br0">&#41;</span>,
		VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>GetVictoryFont<span class="br0">&#40;</span><span class="br0">&#41;</span>,
		FLinearColor<span class="br0">&#40;</span><span class="nu0">1</span>,<span class="nu0">0</span>,<span class="nu0">1</span>,<span class="nu0">1</span><span class="br0">&#41;</span>
	<span class="br0">&#41;</span><span class="sy4">;</span>
	NewText.<span class="me1">Scale</span>.<span class="me1">Set</span><span class="br0">&#40;</span>TheScale,TheScale<span class="br0">&#41;</span><span class="sy4">;</span>
	NewText.<span class="me1">bOutlined</span> <span class="sy1">=</span> <span class="kw2">true</span><span class="sy4">;</span>
	NewText.<span class="me1">Draw</span><span class="br0">&#40;</span>Canvas<span class="br0">&#41;</span><span class="sy4">;</span>
<span class="br0">&#125;</span>
<span class="kw4">void</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">DrawVictoryTextWithColor</span><span class="br0">&#40;</span>FCanvas<span class="sy2">*</span> Canvas, <span class="kw4">const</span> FString<span class="sy3">&amp;</span> TheStr, <span class="kw4">float</span> X, <span class="kw4">float</span> Y, FLinearColor TheColor, <span class="kw4">float</span> TheScale <span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>Canvas<span class="br0">&#41;</span> <span class="kw1">return</span><span class="sy4">;</span>
	<span class="co1">//~~~~~~~~~</span>
&#160;
	FCanvasTextItem NewText<span class="br0">&#40;</span>
		FVector2D<span class="br0">&#40;</span>X,Y<span class="br0">&#41;</span>,
		FText<span class="sy4">::</span><span class="me2">FromString</span><span class="br0">&#40;</span>TheStr<span class="br0">&#41;</span>,
		VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>GetVictoryFont<span class="br0">&#40;</span><span class="br0">&#41;</span>,
		TheColor
	<span class="br0">&#41;</span><span class="sy4">;</span>
	NewText.<span class="me1">Scale</span>.<span class="me1">Set</span><span class="br0">&#40;</span>TheScale,TheScale<span class="br0">&#41;</span><span class="sy4">;</span>
	NewText.<span class="me1">bOutlined</span> <span class="sy1">=</span> <span class="kw2">true</span><span class="sy4">;</span>
&#160;
	<span class="co1">//Outline gets its alpha from the main color</span>
	NewText.<span class="me1">OutlineColor</span> <span class="sy1">=</span> FLinearColor<span class="br0">&#40;</span><span class="nu0">0</span>,<span class="nu0">0</span>,<span class="nu0">0</span>,TheColor.<span class="me1">A</span> <span class="sy2">*</span> <span class="nu0">2</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	NewText.<span class="me1">Draw</span><span class="br0">&#40;</span>Canvas<span class="br0">&#41;</span><span class="sy4">;</span>
<span class="br0">&#125;</span>
&#160;
<span class="kw4">void</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">DrawVictoryLine</span><span class="br0">&#40;</span>
	FCanvas<span class="sy2">*</span> Canvas, 
	<span class="kw4">const</span> FVector2D<span class="sy3">&amp;</span> Start, 
	<span class="kw4">const</span> FVector2D<span class="sy3">&amp;</span> End, 
	FLinearColor TheColor, 
	<span class="kw4">float</span> Thick
<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>Canvas<span class="br0">&#41;</span> <span class="kw1">return</span><span class="sy4">;</span>
	<span class="co1">//~~~~~~~~~</span>
&#160;
	FCanvasLineItem NewLine<span class="br0">&#40;</span>Start,End<span class="br0">&#41;</span><span class="sy4">;</span>
	NewLine.<span class="me1">SetColor</span><span class="br0">&#40;</span>TheColor<span class="br0">&#41;</span><span class="sy4">;</span>
	NewLine.<span class="me1">LineThickness</span> <span class="sy1">=</span> Thick<span class="sy4">;</span>
	NewLine.<span class="me1">Draw</span><span class="br0">&#40;</span>Canvas<span class="br0">&#41;</span><span class="sy4">;</span>
<span class="br0">&#125;</span>
<span class="kw4">void</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">DrawVictoryRect</span><span class="br0">&#40;</span>FCanvas<span class="sy2">*</span> Canvas, <span class="kw4">float</span> X, <span class="kw4">float</span> Y, <span class="kw4">float</span> Width, <span class="kw4">float</span> Height, FLinearColor Color<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>Canvas<span class="br0">&#41;</span> <span class="kw1">return</span><span class="sy4">;</span>
	<span class="co1">//~~~~~~~~~</span>
&#160;
	FCanvasTileItem TileItem<span class="br0">&#40;</span> 
		FVector2D<span class="br0">&#40;</span>X, Y<span class="br0">&#41;</span>, 
		FVector2D<span class="br0">&#40;</span> Width, Height <span class="br0">&#41;</span>, 
		Color 
	<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
    TileItem.<span class="me1">BlendMode</span> <span class="sy1">=</span> SE_BLEND_Translucent<span class="sy4">;</span>
	TileItem.<span class="me1">Draw</span><span class="br0">&#40;</span>Canvas<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="coMULTI">/*
	Canvas-&gt;DrawTile( 
		X, Y, 
		Width, Height, 
		0, 0, 1, 1, 
		Color
	);
	*/</span>
&#160;
<span class="br0">&#125;</span>
&#160;
<span class="kw4">int32</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">FindClosestOfButtons</span><span class="br0">&#40;</span>TArray<span class="sy1">&lt;</span>FVButton<span class="sy2">*</span><span class="sy1">&gt;</span> Inbuttons<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	<span class="kw4">float</span> CurDistance<span class="sy4">;</span>
	<span class="kw4">float</span> MinDistance <span class="sy1">=</span> <span class="nu0">10000000000</span><span class="sy4">;</span>
	<span class="kw4">int32</span> MinIndex <span class="sy1">=</span> <span class="sy2">-</span><span class="nu0">1</span><span class="sy4">;</span>
	<span class="kw1">for</span><span class="br0">&#40;</span><span class="kw4">int32</span> Itr<span class="sy1">=</span><span class="nu0">0</span><span class="sy4">;</span> Itr <span class="sy1">&lt;</span> Inbuttons.<span class="me1">Num</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span> Itr<span class="sy2">++</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		CurCheckButton <span class="sy1">=</span> Inbuttons<span class="br0">&#91;</span>Itr<span class="br0">&#93;</span><span class="sy4">;</span>
		<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>CurCheckButton<span class="br0">&#41;</span> <span class="kw1">continue</span><span class="sy4">;</span>
&#160;
		<span class="co1">//world space location stored in the Button itself</span>
		CurDistance <span class="sy1">=</span> FVector<span class="sy4">::</span><span class="me2">DistSquared</span><span class="br0">&#40;</span>CurCheckButton<span class="sy2">-</span><span class="sy1">&gt;</span>PointInWorld,CursorWorldPos<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
		<span class="co1">//Min Check</span>
		<span class="kw1">if</span><span class="br0">&#40;</span>CurDistance <span class="sy1">&lt;</span> MinDistance<span class="br0">&#41;</span>
		<span class="br0">&#123;</span>
			MinDistance <span class="sy1">=</span> CurDistance<span class="sy4">;</span>
			MinIndex <span class="sy1">=</span> Itr<span class="sy4">;</span>
		<span class="br0">&#125;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">//VALIDITY CHECK</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>Inbuttons.<span class="me1">IsValidIndex</span><span class="br0">&#40;</span>MinIndex<span class="br0">&#41;</span><span class="br0">&#41;</span>
		<span class="kw1">return</span> <span class="sy2">-</span><span class="nu0">1</span><span class="sy4">;</span>
&#160;
	<span class="kw1">else</span> <span class="kw1">return</span> MinIndex<span class="sy4">;</span>
<span class="br0">&#125;</span>
&#160;
<span class="kw4">void</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">CheckCursorInButtons</span><span class="br0">&#40;</span>FCanvas<span class="sy2">*</span> Canvas<span class="br0">&#41;</span>
<span class="br0">&#123;</span>	
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>Canvas<span class="br0">&#41;</span> <span class="kw1">return</span><span class="sy4">;</span>
	<span class="co1">//~~~~~~~~~</span>
&#160;
	<span class="co1">//Reset Highlighted</span>
	HighlightedVertexForSelectedActor <span class="sy1">=</span> <span class="sy2">-</span><span class="nu0">1</span><span class="sy4">;</span>
	HighlightedVertexForHighlightedActor <span class="sy1">=</span> <span class="sy2">-</span><span class="nu0">1</span><span class="sy4">;</span>
&#160;
	<span class="co1">//~~~~~~~~~~~~~~~~~~~</span>
	<span class="co1">//Main Buttons</span>
	<span class="co1">//~~~~~~~~~~~~~~~~~~~</span>
	RV_Int32<span class="sy1">=</span><span class="nu0">0</span><span class="sy4">;</span>
	<span class="kw1">while</span><span class="br0">&#40;</span>VictoryButtons.<span class="me1">IsValidIndex</span><span class="br0">&#40;</span>RV_Int32<span class="br0">&#41;</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		CurCheckButton <span class="sy1">=</span> <span class="sy3">&amp;</span>VictoryButtons<span class="br0">&#91;</span>RV_Int32<span class="br0">&#93;</span><span class="sy4">;</span>
&#160;
		<span class="co1">//check cursor in bounds</span>
		<span class="kw1">if</span> <span class="br0">&#40;</span>CurCheckButton<span class="sy2">-</span><span class="sy1">&gt;</span>minX <span class="sy1">&lt;=</span> MouseLocation.<span class="me1">X</span> <span class="sy3">&amp;&amp;</span> MouseLocation.<span class="me1">X</span> <span class="sy1">&lt;=</span> CurCheckButton<span class="sy2">-</span><span class="sy1">&gt;</span>maxX <span class="sy3">&amp;&amp;</span>
			CurCheckButton<span class="sy2">-</span><span class="sy1">&gt;</span>minY <span class="sy1">&lt;=</span> MouseLocation.<span class="me1">Y</span> <span class="sy3">&amp;&amp;</span> MouseLocation.<span class="me1">Y</span> <span class="sy1">&lt;=</span> CurCheckButton<span class="sy2">-</span><span class="sy1">&gt;</span>maxY <span class="br0">&#41;</span>
		<span class="br0">&#123;</span>
			<span class="co1">//Active Button Type</span>
			ActiveButton_Vibe <span class="sy1">=</span> CurCheckButton<span class="sy2">-</span><span class="sy1">&gt;</span>Vibe<span class="sy4">;</span> 
&#160;
			<span class="kw1">if</span><span class="br0">&#40;</span>ActiveButton_Vibe <span class="sy1">==</span> BUTTON_VIBE_VICTORYHOTKEYS<span class="br0">&#41;</span>
			<span class="br0">&#123;</span>
				DrawHotkeyToolTip<span class="br0">&#40;</span>Canvas<span class="br0">&#41;</span><span class="sy4">;</span>
				FadeInVictoryTitle <span class="sy1">=</span> <span class="kw2">true</span><span class="sy4">;</span>
				VictoryTitleVisible <span class="sy1">=</span> <span class="kw2">false</span><span class="sy4">;</span> <span class="co1">//prevent a duel between the two</span>
				<span class="kw1">return</span><span class="sy4">;</span>
				<span class="co1">//~~~~~</span>
			<span class="br0">&#125;</span>
		<span class="br0">&#125;</span>
&#160;
		<span class="co1">//~~~~~~~</span>
		RV_Int32<span class="sy2">++</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">//~~~~~~~~~~~~~~~~~~~</span>
	<span class="co1">//Selected Actor Vertex Buttons</span>
	<span class="co1">//~~~~~~~~~~~~~~~~~~~</span>
	RV_Int32<span class="sy1">=</span><span class="nu0">0</span><span class="sy4">;</span>
	ClosestSelectedActorButtons.<span class="me1">Empty</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw1">while</span><span class="br0">&#40;</span>SelectedActorButtons.<span class="me1">IsValidIndex</span><span class="br0">&#40;</span>RV_Int32<span class="br0">&#41;</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		CurCheckButton <span class="sy1">=</span> <span class="sy3">&amp;</span>SelectedActorButtons<span class="br0">&#91;</span>RV_Int32<span class="br0">&#93;</span><span class="sy4">;</span>
		<span class="co1">//check cursor in bounds</span>
		<span class="kw1">if</span> <span class="br0">&#40;</span>CurCheckButton<span class="sy2">-</span><span class="sy1">&gt;</span>minX <span class="sy1">&lt;=</span> MouseLocation.<span class="me1">X</span> <span class="sy3">&amp;&amp;</span> MouseLocation.<span class="me1">X</span> <span class="sy1">&lt;=</span> CurCheckButton<span class="sy2">-</span><span class="sy1">&gt;</span>maxX <span class="sy3">&amp;&amp;</span>
			CurCheckButton<span class="sy2">-</span><span class="sy1">&gt;</span>minY <span class="sy1">&lt;=</span> MouseLocation.<span class="me1">Y</span> <span class="sy3">&amp;&amp;</span> MouseLocation.<span class="me1">Y</span> <span class="sy1">&lt;=</span> CurCheckButton<span class="sy2">-</span><span class="sy1">&gt;</span>maxY <span class="br0">&#41;</span>
		<span class="br0">&#123;</span>
			ClosestSelectedActorButtons.<span class="me1">Add</span><span class="br0">&#40;</span><span class="sy3">&amp;</span>SelectedActorButtons<span class="br0">&#91;</span>RV_Int32<span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy4">;</span>
		<span class="br0">&#125;</span>
&#160;
		<span class="co1">//~~~~~~~</span>
		RV_Int32<span class="sy2">++</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">//Find closest of potentially highlighted/selected</span>
&#160;
	<span class="kw4">const</span> <span class="kw4">int32</span> FoundIndex <span class="sy1">=</span> FindClosestOfButtons<span class="br0">&#40;</span>ClosestSelectedActorButtons<span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>FoundIndex <span class="sy3">!</span><span class="sy1">=</span> <span class="sy2">-</span><span class="nu0">1</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		CurCheckButton <span class="sy1">=</span> ClosestSelectedActorButtons<span class="br0">&#91;</span>FoundIndex<span class="br0">&#93;</span><span class="sy4">;</span>
		<span class="kw1">if</span><span class="br0">&#40;</span>CurCheckButton<span class="br0">&#41;</span>
		<span class="br0">&#123;</span>
			<span class="co1">//Active Button Type</span>
			ActiveButton_Vibe <span class="sy1">=</span> CurCheckButton<span class="sy2">-</span><span class="sy1">&gt;</span>Vibe<span class="sy4">;</span> 
&#160;
			<span class="co1">//Highlight Vertex if hovered over!</span>
			HighlightedVertexForSelectedActor <span class="sy1">=</span> ActiveButton_Vibe<span class="sy4">;</span>
&#160;
			<span class="co1">//Vertex Selected and not same?</span>
			<span class="kw1">if</span><span class="br0">&#40;</span>SnapKeyPressed <span class="sy3">&amp;&amp;</span> SelectedVertexForSelectedActor <span class="sy3">!</span><span class="sy1">=</span> ActiveButton_Vibe <span class="br0">&#41;</span>
			<span class="br0">&#123;</span>
				SnapKeyPressed <span class="sy1">=</span> <span class="kw2">false</span><span class="sy4">;</span>
				SelectedVertexForSelectedActor <span class="sy1">=</span> ActiveButton_Vibe<span class="sy4">;</span>
				<span class="kw1">return</span><span class="sy4">;</span>
				<span class="co1">//~~~~~</span>
			<span class="br0">&#125;</span>
		<span class="br0">&#125;</span>
	<span class="br0">&#125;</span>
&#160;
&#160;
&#160;
	<span class="co1">//~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
&#160;
&#160;
	<span class="co1">//~~~~~~~~~~~~~~~~~~~~~~</span>
	<span class="co1">//Highlighted Actor Vertex Buttons</span>
	<span class="co1">//~~~~~~~~~~~~~~~~~~~~~~</span>
&#160;
	RV_Int32<span class="sy1">=</span><span class="nu0">0</span><span class="sy4">;</span>
	ClosestHighlightedActorButtons.<span class="me1">Empty</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw1">while</span><span class="br0">&#40;</span>HighlightedActorButtons.<span class="me1">IsValidIndex</span><span class="br0">&#40;</span>RV_Int32<span class="br0">&#41;</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		CurCheckButton <span class="sy1">=</span> <span class="sy3">&amp;</span>HighlightedActorButtons<span class="br0">&#91;</span>RV_Int32<span class="br0">&#93;</span><span class="sy4">;</span>
		<span class="co1">//check cursor in bounds</span>
		<span class="kw1">if</span> <span class="br0">&#40;</span>CurCheckButton<span class="sy2">-</span><span class="sy1">&gt;</span>minX <span class="sy1">&lt;=</span> MouseLocation.<span class="me1">X</span> <span class="sy3">&amp;&amp;</span> MouseLocation.<span class="me1">X</span> <span class="sy1">&lt;=</span> CurCheckButton<span class="sy2">-</span><span class="sy1">&gt;</span>maxX <span class="sy3">&amp;&amp;</span>
			CurCheckButton<span class="sy2">-</span><span class="sy1">&gt;</span>minY <span class="sy1">&lt;=</span> MouseLocation.<span class="me1">Y</span> <span class="sy3">&amp;&amp;</span> MouseLocation.<span class="me1">Y</span> <span class="sy1">&lt;=</span> CurCheckButton<span class="sy2">-</span><span class="sy1">&gt;</span>maxY <span class="br0">&#41;</span>
		<span class="br0">&#123;</span>
			ClosestHighlightedActorButtons.<span class="me1">Add</span><span class="br0">&#40;</span><span class="sy3">&amp;</span>HighlightedActorButtons<span class="br0">&#91;</span>RV_Int32<span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy4">;</span>
		<span class="br0">&#125;</span>
&#160;
		<span class="co1">//~~~~~~~</span>
		RV_Int32<span class="sy2">++</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">//Find closest of potentially highlighted/selected</span>
&#160;
	<span class="kw4">const</span> <span class="kw4">int32</span> FoundIndex2 <span class="sy1">=</span> FindClosestOfButtons<span class="br0">&#40;</span>ClosestHighlightedActorButtons<span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>FoundIndex2 <span class="sy3">!</span><span class="sy1">=</span> <span class="sy2">-</span><span class="nu0">1</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		CurCheckButton <span class="sy1">=</span> ClosestHighlightedActorButtons<span class="br0">&#91;</span>FoundIndex2<span class="br0">&#93;</span><span class="sy4">;</span>
		<span class="kw1">if</span><span class="br0">&#40;</span>CurCheckButton<span class="br0">&#41;</span>
		<span class="br0">&#123;</span>
			<span class="co1">//Active Button Type</span>
			ActiveButton_Vibe <span class="sy1">=</span> CurCheckButton<span class="sy2">-</span><span class="sy1">&gt;</span>Vibe<span class="sy4">;</span> 
&#160;
			<span class="co1">//Highlight Vertex if hovered over!</span>
			HighlightedVertexForHighlightedActor <span class="sy1">=</span> ActiveButton_Vibe<span class="sy4">;</span>
&#160;
			<span class="co1">//Vertex Selected?</span>
			<span class="kw1">if</span><span class="br0">&#40;</span>SnapKeyPressed<span class="br0">&#41;</span>
			<span class="br0">&#123;</span>
				SnapKeyPressed <span class="sy1">=</span> <span class="kw2">false</span><span class="sy4">;</span>
				DoVertexSnap<span class="br0">&#40;</span>CurCheckButton<span class="sy2">-</span><span class="sy1">&gt;</span>PointInWorld<span class="br0">&#41;</span><span class="sy4">;</span>
			<span class="br0">&#125;</span>
		<span class="br0">&#125;</span>
	<span class="br0">&#125;</span>
<span class="br0">&#125;</span>
&#160;
<span class="co1">//Victory Project</span>
<span class="kw4">void</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">VictoryProject</span><span class="br0">&#40;</span><span class="kw4">const</span> FSceneView<span class="sy2">*</span> View,<span class="kw4">const</span> FVector<span class="sy3">&amp;</span> WorldPoint,FVector2D<span class="sy3">&amp;</span> OutPixelLocation<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>View<span class="br0">&#41;</span> <span class="kw1">return</span><span class="sy4">;</span>
	<span class="co1">//~~~~~~~~~</span>
&#160;
	<span class="coMULTI">/** Transforms a point from the view's world-space into pixel coordinates relative to the view's X,Y (left, top). */</span>
	View<span class="sy2">-</span><span class="sy1">&gt;</span>WorldToPixel<span class="br0">&#40;</span>WorldPoint,OutPixelLocation<span class="br0">&#41;</span><span class="sy4">;</span>
<span class="br0">&#125;</span>
&#160;
<span class="co1">//Victory DeProject</span>
<span class="kw4">void</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">VictoryDeProject</span><span class="br0">&#40;</span><span class="kw4">const</span> FSceneView<span class="sy2">*</span> View,<span class="kw4">const</span> FVector2D<span class="sy3">&amp;</span> ScreenPoint, FVector<span class="sy3">&amp;</span> out_WorldOrigin, FVector<span class="sy3">&amp;</span> out_WorldDirection<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>View<span class="br0">&#41;</span> <span class="kw1">return</span><span class="sy4">;</span>
	<span class="co1">//~~~~~~~~~</span>
&#160;
	<span class="co1">//NEEDS TO BE MADE CONST TO BE ABLE TO USE THIS</span>
	<span class="coMULTI">/** transforms 2D screen coordinates into a 3D world-space origin and direction 
	 * @param ScreenPos - screen coordinates in pixels
	 * @param out_WorldOrigin (out) - world-space origin vector
	 * @param out_WorldDirection (out) - world-space direction vector
	 */</span>
	<span class="co1">//View-&gt;DeprojectFVector2D(ScreenPoint, out_WorldOrigin, out_WorldDirection);</span>
&#160;
&#160;
	<span class="coMULTI">/** transforms 2D screen coordinates into a 3D world-space origin and direction 
	 * @param ScreenPos - screen coordinates in pixels
	 * @param ViewRect - view rectangle
	 * @param InvViewMatrix - inverse view matrix
	 * @param InvProjMatrix - inverse projection matrix
	 * @param out_WorldOrigin (out) - world-space origin vector
	 * @param out_WorldDirection (out) - world-space direction vector
	 */</span>
	FSceneView<span class="sy4">::</span><span class="me2">DeprojectScreenToWorld</span><span class="br0">&#40;</span>
		ScreenPoint, 
		View<span class="sy2">-</span><span class="sy1">&gt;</span>ViewRect, 
		View<span class="sy2">-</span><span class="sy1">&gt;</span>InvViewMatrix, 
		View<span class="sy2">-</span><span class="sy1">&gt;</span>ViewMatrices.<span class="me1">GetInvProjMatrix</span><span class="br0">&#40;</span><span class="br0">&#41;</span>, 
		out_WorldOrigin, 
		out_WorldDirection
	<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
<span class="br0">&#125;</span>
&#160;
&#160;
<span class="co1">//Draw Using the More Fundamental Method, PDI</span>
<span class="kw4">void</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">Render</span><span class="br0">&#40;</span><span class="kw4">const</span> FSceneView<span class="sy2">*</span> View,FViewport<span class="sy2">*</span> Viewport,FPrimitiveDrawInterface<span class="sy2">*</span> PDI<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	<span class="co1">//~~~ Verticies ~~~</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>DoDrawVerticies<span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
&#160;
	<span class="kw1">if</span><span class="br0">&#40;</span>SelectedVertexBuffer <span class="sy3">&amp;&amp;</span> VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>VSelectedActor<span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		PDI_DrawVerticies<span class="br0">&#40;</span>View,	PDI,
			SelectedVertexBuffer,VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>VSelectedActor<span class="sy2">-</span><span class="sy1">&gt;</span>GetTransform<span class="br0">&#40;</span><span class="br0">&#41;</span>,
			<span class="kw2">true</span>
		<span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">//Dont draw if Highlighted == Selected, drawn already</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>HighlightedVertexBuffer <span class="sy3">&amp;&amp;</span> HighlightedActor <span class="sy3">&amp;&amp;</span> HighlightedActor <span class="sy3">!</span><span class="sy1">=</span> VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>VSelectedActor<span class="br0">&#41;</span> 
	<span class="br0">&#123;</span>
		PDI_DrawVerticies<span class="br0">&#40;</span> View,	PDI,
			HighlightedVertexBuffer, HighlightedActor<span class="sy2">-</span><span class="sy1">&gt;</span>GetTransform<span class="br0">&#40;</span><span class="br0">&#41;</span>,
			<span class="kw2">false</span> <span class="co1">//Highlighted Actor</span>
		<span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="br0">&#125;</span> <span class="co1">//end of do draw verticies</span>
	<span class="co1">//~~~~~~~~~~~~~~~~~~~</span>
<span class="br0">&#125;</span>
&#160;
<span class="co1">//Draw HUD</span>
<span class="kw4">void</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">DrawHUD</span><span class="br0">&#40;</span>FLevelEditorViewportClient<span class="sy2">*</span> ViewportClient,FViewport<span class="sy2">*</span> Viewport,<span class="kw4">const</span> FSceneView<span class="sy2">*</span> View,FCanvas<span class="sy2">*</span> Canvas<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>Canvas<span class="br0">&#41;</span> <span class="kw1">return</span><span class="sy4">;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>VictoryEngine<span class="br0">&#41;</span> <span class="kw1">return</span><span class="sy4">;</span>
	<span class="co1">//~~~~~~~~~~~</span>
&#160;
	<span class="co1">//Title Button</span>
	DrawVictoryTextWithColor<span class="br0">&#40;</span>Canvas, <span class="st0">&quot;Victory Editor Hotkeys&quot;</span>, <span class="nu0">10</span>,VICTORY_TITLE_HEIGHT, FLinearColor<span class="br0">&#40;</span><span class="nu0">1</span>,<span class="nu0">0</span>,<span class="nu0">1</span>,VictoryTitleAlpha<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">//~~~ Cursor ~~~</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>UsingMouseInstantMove<span class="br0">&#41;</span> CheckCursorInButtons<span class="br0">&#40;</span>Canvas<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">//~~~ Make Buttons? ~~~</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>PendingButtonRefresh<span class="br0">&#41;</span> RefreshVertexButtons<span class="br0">&#40;</span>View<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">//~~~~~~~~~~~~~~~~~~~</span>
	<span class="co1">//Mouse Coordinates</span>
	<span class="co1">//DrawVictoryText(Canvas, MouseLocation.ToString(), 400,50);</span>
&#160;
	<span class="co1">//Mouse World Space Dir</span>
	<span class="co1">//DrawVictoryText(Canvas, CursorWorldDir.ToString(), 300,50 + VICTORY_TEXT_HEIGHT );</span>
<span class="br0">&#125;</span>
&#160;
<span class="kw4">void</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">Tick_VictoryTitle</span><span class="br0">&#40;</span>FLevelEditorViewportClient<span class="sy2">*</span> ViewportClient<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	CurTimeSpan <span class="sy1">=</span> FDateTime<span class="sy4">::</span><span class="me2">Now</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy2">-</span> VictoryTitleAppearTime<span class="sy4">;</span>
&#160;
	<span class="co1">//If &gt; then Allowed Visible Duration, start to fade out</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>CurTimeSpan.<span class="me1">GetTotalSeconds</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy1">&gt;</span> VICTORY_TITLE_VISIBLE_DURATION<span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		<span class="kw1">if</span><span class="br0">&#40;</span>VictoryTitleAlpha <span class="sy1">&lt;=</span> <span class="nu0">0</span><span class="br0">&#41;</span>
		<span class="br0">&#123;</span>
			VictoryTitleVisible <span class="sy1">=</span> <span class="kw2">false</span><span class="sy4">;</span>
			VictoryTitleAlpha <span class="sy1">=</span> <span class="nu0">0</span><span class="sy4">;</span>
			<span class="kw1">return</span><span class="sy4">;</span>
		<span class="br0">&#125;</span>
&#160;
		VictoryTitleAlpha <span class="sy2">-</span><span class="sy1">=</span> <span class="nu16">0.01</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">//INVALIDATE THE DISPLAY</span>
	ViewportClient<span class="sy2">-</span><span class="sy1">&gt;</span>Viewport<span class="sy2">-</span><span class="sy1">&gt;</span>InvalidateDisplay<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
<span class="br0">&#125;</span>
<span class="kw4">void</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">Tick_VictoryTitleFadeIn</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>VictoryTitleAlpha <span class="sy1">&gt;=</span><span class="nu0">1</span><span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		VictoryTitleAppears<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
		<span class="kw1">return</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
	VictoryTitleAlpha <span class="sy2">+</span><span class="sy1">=</span> <span class="nu16">0.01</span><span class="sy4">;</span>
<span class="br0">&#125;</span>
&#160;
<span class="co1">//TICK</span>
<span class="kw4">void</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">Tick_VictoryInterface</span><span class="br0">&#40;</span>FLevelEditorViewportClient<span class="sy2">*</span> ViewportClient<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>ViewportClient<span class="br0">&#41;</span> <span class="kw1">return</span><span class="sy4">;</span>
	<span class="co1">//~~~~~~~~~~~</span>
&#160;
	<span class="co1">//Re-activate Real-time each time enter Mode</span>
	<span class="coMULTI">/*
	if(ReEntering)
	{
		ReEntering = false;
		ViewportClient-&gt;SetRealtime(true,true);
	}
	*/</span>
	<span class="co1">//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
	<span class="co1">//							HUD</span>
	ViewportSize <span class="sy1">=</span> ViewportClient<span class="sy2">-</span><span class="sy1">&gt;</span>Viewport<span class="sy2">-</span><span class="sy1">&gt;</span>GetSizeXY<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">//Victory Title Tick</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>VictoryTitleVisible<span class="br0">&#41;</span> Tick_VictoryTitle<span class="br0">&#40;</span>ViewportClient<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">//Fading in?</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>FadeInVictoryTitle<span class="br0">&#41;</span> 
	<span class="br0">&#123;</span>
		Tick_VictoryTitleFadeIn<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
		ViewportClient<span class="sy2">-</span><span class="sy1">&gt;</span>Viewport<span class="sy2">-</span><span class="sy1">&gt;</span>InvalidateDisplay<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
	<span class="co1">//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~						</span>
	<span class="co1">//			Move cursor if RMB is down</span>
	<span class="co1">//if(RMBDown) ViewportClient-&gt;Viewport-&gt;SetMouse(ViewportSize.X/2, ViewportSize.Y/2);</span>
<span class="br0">&#125;</span>
&#160;
<span class="kw4">bool</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">ShouldDrawWidget</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw4">const</span>
<span class="br0">&#123;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>UsingMouseInstantMove<span class="br0">&#41;</span> <span class="kw1">return</span> <span class="kw2">false</span><span class="sy4">;</span>
	<span class="kw1">return</span> <span class="kw2">true</span><span class="sy4">;</span>
<span class="br0">&#125;</span>
&#160;
&#160;
<span class="kw4">bool</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">GetCursor</span><span class="br0">&#40;</span>EMouseCursor<span class="sy4">::</span><span class="me2">Type</span><span class="sy3">&amp;</span> OutCursor<span class="br0">&#41;</span> <span class="kw4">const</span>
<span class="br0">&#123;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>UsingMouseInstantMove<span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		OutCursor <span class="sy1">=</span> EMouseCursor<span class="sy4">::</span><span class="me2">GrabHand</span><span class="sy4">;</span>
		<span class="kw1">return</span> <span class="kw2">true</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="kw1">return</span> <span class="kw2">false</span><span class="sy4">;</span> <span class="co1">//no modified cursor</span>
<span class="br0">&#125;</span>
&#160;
<span class="kw4">void</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">Tick</span><span class="br0">&#40;</span>FLevelEditorViewportClient<span class="sy2">*</span> ViewportClient,<span class="kw4">float</span> DeltaTime<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	<span class="co1">//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
	<span class="co1">//				Single Invalidate</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>DoSingleDisplayUpdate<span class="br0">&#41;</span> 
	<span class="br0">&#123;</span>
		ViewportClient<span class="sy2">-</span><span class="sy1">&gt;</span>Viewport<span class="sy2">-</span><span class="sy1">&gt;</span>InvalidateDisplay<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
		DoSingleDisplayUpdate <span class="sy1">=</span> <span class="kw2">false</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
	<span class="co1">//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
	<span class="co1">//				HUD Elements and Input</span>
	Tick_VictoryInterface<span class="br0">&#40;</span>ViewportClient<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
	<span class="co1">//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
	<span class="co1">//				TRACE CURSOR POSITION</span>
	ProcessMouseInstantMove<span class="br0">&#40;</span>ViewportClient<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
&#160;
&#160;
	<span class="co1">//~~~ Begin Vertex Related ~~~</span>
	CHECK_VSELECTED
&#160;
	<span class="co1">//Minus or Plus?</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>MinusIsDown<span class="br0">&#41;</span> CurrentVerticiesScale <span class="sy2">-</span><span class="sy1">=</span> <span class="nu16">0.333</span><span class="sy4">;</span>
	<span class="kw1">else</span> <span class="kw1">if</span><span class="br0">&#40;</span>PlusIsDown<span class="br0">&#41;</span> CurrentVerticiesScale <span class="sy2">+</span><span class="sy1">=</span> <span class="nu16">0.333</span><span class="sy4">;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>CurrentVerticiesScale <span class="sy1">&lt;</span> <span class="nu0">2</span><span class="br0">&#41;</span> CurrentVerticiesScale <span class="sy1">=</span> <span class="nu0">2</span><span class="sy4">;</span>
&#160;
	<span class="co1">//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
	<span class="co1">//					New Selection Actor?</span>
	<span class="kw1">if</span><span class="br0">&#40;</span>VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>SelectedActorVerticiesNeedsUpdating<span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>SelectedActorVerticiesNeedsUpdating <span class="sy1">=</span> <span class="kw2">false</span><span class="sy4">;</span>
		SelectedVertexBuffer <span class="sy1">=</span> GetVerticies<span class="br0">&#40;</span>Cast<span class="sy1">&lt;</span>AStaticMeshActor<span class="sy1">&gt;</span><span class="br0">&#40;</span>VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>VSelectedActor<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy4">;</span>
		PendingButtonRefresh <span class="sy1">=</span> <span class="kw2">true</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="kw1">if</span><span class="br0">&#40;</span>VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>ClearSelectedVertex<span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		VictoryEngine<span class="sy2">-</span><span class="sy1">&gt;</span>ClearSelectedVertex <span class="sy1">=</span> <span class="kw2">false</span><span class="sy4">;</span>
		SelectedVertexForSelectedActor <span class="sy1">=</span> <span class="sy2">-</span><span class="nu0">1</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre></div></div>
<h2><span class="mw-headline" id="_2"></span></h2>
<h2><span class="mw-headline" id="Core_of_Making_Your_Own_Editor_Mode">Core of Making Your Own Editor Mode</span></h2>
<h3><span class="mw-headline" id="Interaction_of_EdEngine_with_EdMode_Class">Interaction of EdEngine with EdMode Class</span></h3>
<p>The key interaction between the Editor Mode class and the extended Unreal Engine class is in the Unreal Engine class, where it creates the editor mode instance.
</p><p>Here is that code:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp source-cpp"><pre class="de1"><span class="co1">//Create it if it not exist yet</span>
	<span class="kw1">if</span><span class="br0">&#40;</span><span class="sy3">!</span>CreatedVictoryEdMode<span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
		TSharedRef<span class="sy1">&lt;</span><span class="kw2">class</span> FVictoryEdAlignMode,ESPMode<span class="sy4">::</span><span class="me2">Fast</span><span class="sy1">&gt;</span> VictoryEdMode <span class="sy1">=</span> MakeShareable<span class="br0">&#40;</span> <span class="kw3">new</span> FVictoryEdAlignMode<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
		<span class="co1">//Init VictoryEdMode</span>
		VictoryEdMode<span class="sy2">-</span><span class="sy1">&gt;</span>JoyInit<span class="br0">&#40;</span><span class="kw3">this</span><span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
		<span class="co1">//Register</span>
		GEditorModeTools<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">RegisterMode</span><span class="br0">&#40;</span>VictoryEdMode<span class="br0">&#41;</span><span class="sy4">;</span>
&#160;
		CreatedVictoryEdMode <span class="sy1">=</span> <span class="kw2">true</span><span class="sy4">;</span>
	<span class="br0">&#125;</span></pre></div></div>
<h3><span class="mw-headline" id="Activating_The_Editor_Mode.2C_Once_Created">Activating The Editor Mode, Once Created</span></h3>
<p>Once you've created your own EdMode class instance, you activate your editor mode using:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp source-cpp"><pre class="de1"><span class="co1">//Activate Victory Editor Mode</span>
GEditorModeTools<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">ActivateMode</span><span class="br0">&#40;</span>VictoryEditorModeID<span class="br0">&#41;</span><span class="sy4">;</span></pre></div></div>
<h3><span class="mw-headline" id="The_Ed_Mode.27s_Unique_ID">The Ed Mode's Unique ID</span></h3>
<p>Note that this is a const FName that I declared here:
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp source-cpp"><pre class="de1"><span class="kw4">const</span> FName UVictoryEdEngine<span class="sy4">::</span><span class="me2">VictoryEditorModeID</span> <span class="sy1">=</span> FName<span class="br0">&#40;</span><span class="st0">&quot;VictoryEditorMode&quot;</span><span class="br0">&#41;</span><span class="sy4">;</span></pre></div></div>
<p>And you have to actually give your EdMode its ID in its class constructor. In my case I used my custom JoyInit function
</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp source-cpp"><pre class="de1"><span class="co1">//INIT</span>
<span class="kw4">void</span> FVictoryEdAlignMode<span class="sy4">::</span><span class="me2">JoyInit</span><span class="br0">&#40;</span>UVictoryEdEngine<span class="sy2">*</span> EnginePtr<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
	ID <span class="sy1">=</span> FName<span class="br0">&#40;</span><span class="st0">&quot;VictoryEditorMode&quot;</span><span class="br0">&#41;</span><span class="sy4">;</span>
<span class="br0">&#125;</span></pre></div></div>
<h2><span class="mw-headline" id="Plugin_Build.cs">Plugin Build.cs</span></h2>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr"><div class="cpp source-cpp"><pre class="de1"><span class="co1">// Copyright 1998-2013 Epic Games, Inc. All Rights Reserved.</span>
&#160;
<span class="kw2">using</span> UnrealBuildTool<span class="sy4">;</span>
&#160;
<span class="kw2">public</span> <span class="kw2">class</span> VictoryBPLibrary <span class="sy4">:</span> ModuleRules
<span class="br0">&#123;</span>
	<span class="kw2">public</span> VictoryBPLibrary<span class="br0">&#40;</span>TargetInfo Target<span class="br0">&#41;</span>
	<span class="br0">&#123;</span>
        PublicDependencyModuleNames.<span class="me1">AddRange</span><span class="br0">&#40;</span>
			<span class="kw3">new</span> string<span class="br0">&#91;</span><span class="br0">&#93;</span> <span class="br0">&#123;</span> 
				<span class="st0">&quot;Core&quot;</span>, 
				<span class="st0">&quot;CoreUObject&quot;</span>, 
				<span class="st0">&quot;Engine&quot;</span>, 
				<span class="st0">&quot;UnrealEd&quot;</span>,
			<span class="br0">&#125;</span>
			<span class="br0">&#41;</span><span class="sy4">;</span>
	<span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre></div></div>
<h2><span class="mw-headline" id="Plugin_Download_2">Plugin Download</span></h2>
<p><a href="/File:VictoryPlugin.zip" title="File:VictoryPlugin.zip">File:VictoryPlugin.zip</a>
</p><p>(Please note this file does not contain an executable, just the .dll that UE4 needs for a plugin, that's why the file warning appears)
</p>
<h2><span class="mw-headline" id="Enjoy.21">Enjoy!</span></h2>
<p>I hope that providing you with my entire Vertex Snapping C++ Source code helps you to create your own Editor Plugins!
</p><p>Enjoy!
</p><p><a href="/User:Rama" title="User:Rama">Rama</a> (<a href="/User_talk:Rama" title="User talk:Rama">talk</a>)
</p>
<!-- 
NewPP limit report
CPU time usage: 0.356 seconds
Real time usage: 0.481 seconds
Preprocessor visited node count: 334/1000000
Preprocessor generated node count: 472/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key my_wiki:pcache:idhash:603-0!*!0!!en!2!* and timestamp 20161114215123
 -->
</div>												<div class="printfooter">
				Retrieved from "<a href="https://wiki.unrealengine.com/index.php?title=Rama%27s_Vertex_Snap_Editor_Plugin&amp;oldid=17829">https://wiki.unrealengine.com/index.php?title=Rama%27s_Vertex_Snap_Editor_Plugin&amp;oldid=17829</a>"				</div>
												<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="/Category:Plug-ins" title="Category:Plug-ins">Plug-ins</a></li></ul></div></div>												<div class="visualClear"></div>
							</div>
		</div>
		</div>
		</div>
		
		<div id="footer">
			<div id="brand">

			</div>
			<div id="legal">
				<div id="copyright">
					&copy; 2004-2015, Epic Games, Inc. All rights reserved. Unreal and its logo are Epic's trademarks or registered trademarks in the US and elsewhere.
				</div>
				<div id="terms">
					<a target="_blank" href="http://epicgames.com/tou">TERMS OF USE</a> | <a target="_blank" href="http://epicgames.com/privacynotice">PRIVACY POLICY</a>
				</div>
			</div>
		</div>
	</div>
		<!--<div id="footer" role="contentinfo">
										<ul id="footer-icons" class="noprint">
					<li id="footer-copyrightico">
						<div name="copyright">&#169; 2004-2014, Epic Games, Inc. All rights reserved. Epic Games, Unreal, Unreal Engine, Unreal Tournament, and their respective logos are Epic's trademarks or registered trademarks in the US and elsewhere.</div>
					</li>
					<li id="footer-termsofuseico">
						<div name="termsofuse"><a href="http://epicgames.com/tou" target="_blank">Terms of Use</a></div>
					</li>
					<li id="footer-privacynoticeico">
						<div name="privacynotice"><a href="http://epicgames.com/privacynotice" target="_blank">Privacy Policy</a></div>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>-->
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.collapsibleNav"],null,true);
}</script>
<script src="/extensions/EpicSearchSystem/Javascript/Search.js?303"></script>
<script src="https://wiki.unrealengine.com/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=epic&amp;*"></script>
<!-- Served in 0.040 secs. -->		<img src="https://tracking.unrealengine.com/track.png" width="1" height="1">
		<!--<script type="text/javascript">
			setTimeout(function () {
				var a = document.createElement("script");
				var b = document.getElementsByTagName("script")[0];
				a.src = document.location.protocol + "//script.crazyegg.com/pages/scripts/0028/4572.js?" + Math.floor(new Date().getTime() / 3600000);
				a.async = true; a.type = "text/javascript"; b.parentNode.insertBefore(a, b)
			}, 1);
		</script>-->
	</body>
</html>

		