<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8" /><title>View source for HUD, Canvas, Code Sample of 800+ Lines, Create Buttons &amp; Draw Materials - Epic Wiki</title>
<meta name="generator" content="MediaWiki 1.22.2" />
<meta name="robots" content="noindex,nofollow" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="Epic Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.unrealengine.com/api.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Epic Wiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="https://wiki.unrealengine.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cskins.vector&amp;only=styles&amp;skin=epic&amp;*" />
<link rel="stylesheet" href="/extensions/EpicVideoSystem/CSS/VideoSystem.css" />
<link rel="stylesheet" href="/skins/epic/resources/screen.css?303" media="screen" />
<link rel="stylesheet" href="/skins/epic/resources/epic.css?303" media="screen" />
<link rel="stylesheet" href="/skins/epic/resources/prettify.css?303" media="screen" />
<link rel="stylesheet" href="/skins/epic/resources/jquery.qtip.css?303" media="screen" /><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="https://wiki.unrealengine.com/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=epic&amp;*" />
<style>a:lang(ar),a:lang(ckb),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: my_wiki:resourceloader:filter:minify-css:7:07b6a8ccf3fd62e770f192d0a6f8e123 */</style>

<script src="https://wiki.unrealengine.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=epic&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"HUD,_Canvas,_Code_Sample_of_800+_Lines,_Create_Buttons_\u0026_Draw_Materials","wgTitle":"HUD, Canvas, Code Sample of 800+ Lines, Create Buttons \u0026 Draw Materials","wgCurRevisionId":11897,"wgRevisionId":0,"wgArticleId":1013,"wgIsArticle":false,"wgIsRedirect":false,"wgAction":"edit","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":true,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"HUD,_Canvas,_Code_Sample_of_800+_Lines,_Create_Buttons_\u0026_Draw_Materials","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"templateEditor":false,"templates":false,"preview":true,"previewDialog":false,"publish":true,"toc":false}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function(){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"epic","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"vector-simplesearch":1,"watchcreations":0,"watchdefault":0,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,
"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"useeditwarning":1,"prefershttps":1,"usebetatoolbar":1,"usebetatoolbar-cgd":1,"wikieditor-preview":1,"wikieditor-publish":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function(){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: my_wiki:resourceloader:filter:minify-js:7:2197af7670c41256853f340e275ede1b */
}</script>
<script src="https://wiki.unrealengine.com/load.php?debug=false&amp;lang=en&amp;modules=skins.epic.extras.js%7Cskins.epic.fancybox.js%7Cskins.epic.js%7Cskins.epic.qtip.js%7Cskins.epic.slimscroll.js&amp;only=scripts&amp;skin=epic&amp;*"></script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/epic/csshover.min.htc")}</style><![endif]--><script type="text/javascript">
var experimentID = false;
var cxApi = null;
var variation = 0;
var fancyTitle = "";
var CE_SNAPSHOT_NAME = document.getElementsByTagName("title")[0].innerHTML;
$(document).ready(function(){
	if(experimentID != false)
	{
		$(head).append('<script src="//www.google-analytics.com/cx/api.js?experiment=' + experimentID + '" />' + '</scr' + 'ipt>');
		HandleExperiment();
	}
	else
	{
		CE_SNAPSHOT_NAME = (fancyTitle != "" ? fancyTitle : document.getElementsByTagName("title")[0].innerHTML);
		setTimeout(function () {
			var a = document.createElement("script");
			var b = document.getElementsByTagName("script")[0];
			a.src = document.location.protocol + "//script.crazyegg.com/pages/scripts/0028/4572.js?" + Math.floor(new Date().getTime() / 3600000);
			a.async = true; a.type = "text/javascript"; b.parentNode.insertBefore(a, b)
		}, 1);	
	}
});
function HandleExperiment()
{
	CE_SNAPSHOT_NAME = (fancyTitle != "" ? fancyTitle : document.getElementsByTagName("title")[0].innerHTML);
	if(cxApi != null)
	{
		variation = cxApi.chooseVariation();
		cxApi.setChosenVariation(variation, experimentID);
		if(variation != cxApi.ORIGINAL_VARIATION && variation != cxApi.NO_CHOSEN_VARIATION && variation != cxApi.NOT_PARTICIPATING)
		{
			//var URL = document.location.href + (document.location.search != '' ? '&var=' : '?var=') + variation;
			ga('send', 'event', 'A/B', 'ID: ' + experimentID, 'Variation: ' + variation, {'nonInteraction': 1});
			//document.location.href = URL; 
			CE_SNAPSHOT_NAME = document.getElementsByTagName("title")[0].innerHTML + ' (variation ' + variation + ')';
			var test = "";
		}
		else
		{
			ga('send', 'event', 'A/B', 'ID: ' + experimentID, 'Variation: ' + variation, {'nonInteraction': 1});
		}
		ToggleExperimentContent(variation);
		setTimeout(function () {
			var a = document.createElement("script");
			var b = document.getElementsByTagName("script")[0];
			a.src = document.location.protocol + "//script.crazyegg.com/pages/scripts/0028/4572.js?" + Math.floor(new Date().getTime() / 3600000);
			a.async = true; a.type = "text/javascript"; b.parentNode.insertBefore(a, b)
		}, 1);
	}
	else
	{
		setTimeout("HandleExperiment()", 500);
	}
}

function ToggleExperimentContent(variation)
{
	$('.AB').hide();
	$('#variation_' + variation).show();
}
</script></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-HUD_Canvas_Code_Sample_of_800_Lines_Create_Buttons_Draw_Materials skin-epic action-edit vector-animateLayout">
		<!--<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>-->
		<!-- Google Tag Manager -->
		<noscript>
			<iframe src="//www.googletagmanager.com/ns.html?id=GTM-KWRD6D"
					height="0" width="0" style="display:none;visibility:hidden"></iframe>
		</noscript>
		<script>
		(function (w, d, s, l, i) {
		w[l] = w[l] || []; w[l].push({
		'gtm.start':
		new Date().getTime(), event: 'gtm.js'
		}); var f = d.getElementsByTagName(s)[0],
		j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
		'//www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
		})(window, document, 'script', 'dataLayer', 'GTM-KWRD6D');</script>
		<!-- End Google Tag Manager -->
		<div id="webThree">
		<div id="head">
		





<input type="hidden" id="updateenable" value="true">

    <script src="https://cdn1.unrealengine.com/2670222/unifiedHeaderBundle-c133cbefbece60d20fd29c5b1819fa39.js" defer></script>
    <link rel="stylesheet" href="https://cdn1.unrealengine.com/2670222/unifiedHeader-dd083735d5017970978496baee5b916e.css">


<header id="header" data-path="/" data-sitepath="https://www.unrealengine.com">
<input type="hidden" id="isUnified" value="1" />
    <input type="hidden" id="current_locale" value="en_US"/>
    <input type="hidden" id="header-host" value="https://www.unrealengine.com" />
    <nav class="main-menu">
        <div class="menu-mobile">
            <span class="menu-mobile-icon"></span>
            <ul>

                
                    

                        
                            <li class="menu-mobile-sub">
                                <a href="#" class="mobile-link">About</a>
                                <ul>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/what-is-unreal-engine-4">Overview</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/unreal-engine-4">Features</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/vr-page">Virtual Reality</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/showcase">Showcase</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/49-release-notes-overview">What&#39;s New</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/faq">FAQ / EULA</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/previous-versions">Previous Versions</a>
                                            
                                        </li>
                                    
                                </ul>
                            </li>
                        

                    
                
                    

                        
                            <li class="menu-mobile-sub">
                                <a href="#" class="mobile-link">Learn</a>
                                <ul>
                                    
                                        <li>
                                            
                                                <a href="https://docs.unrealengine.com/" target="_blank">Documentation</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://wiki.unrealengine.com/Videos " target="_blank">Video Tutorials</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://wiki.unrealengine.com/Main_Page" target="_blank">Wiki</a>
                                            
                                        </li>
                                    
                                </ul>
                            </li>
                        

                    
                
                    

                        
                            <li class="menu-mobile-sub">
                                <a href="#" class="mobile-link">Community</a>
                                <ul>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/blog">Blog</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://forums.unrealengine.com/" target="_blank">Forums</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://answers.unrealengine.com/" target="_blank">AnswerHub</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://trello.com/b/gHooNW9I/ue4-roadmap" target="_blank">Roadmap</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/unrealdevgrants">Unreal Dev Grants</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="http://www.unrealtournament.com/blog/" target="_blank">Unreal Tournament</a>
                                            
                                        </li>
                                    
                                </ul>
                            </li>
                        

                    
                
                    

                        
                            <li class="menu-mobile-sub">
                                <a href="#" class="mobile-link">Marketplace</a>
                                <ul>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/marketplace">Browse</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://publish.unrealengine.com/faq" target="_blank">Business Terms</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://publish.unrealengine.com/submission-guidelines" target="_blank">Submission Guidelines</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://publish.unrealengine.com/welcome" target="_blank">Submit Your Content</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://forums.unrealengine.com/forumdisplay.php?56-Marketplace" target="_blank">Marketplace Forums</a>
                                            
                                        </li>
                                    
                                </ul>
                            </li>
                        

                    
                
                    

                        
                            <li class="menu-mobile-sub">
                                <a href="#" class="mobile-link">Academia</a>
                                <ul>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/education">Education Program</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/academic-partners">Academic Partners</a>
                                            
                                        </li>
                                    
                                </ul>
                            </li>
                        

                    
                
                
                <li class="btn-account ignore" style="display: none">
                    <a href="https://www.unrealengine.com/dashboard">Account</a>
                </li>
                <li class="btn-signout ignore" style="display: none">
                    <a class="sso-sign-out" href="">Log Out</a>
                </li>
                <li class="btn-signin ignore" style="display: none">
                    <a class="sso-sign-in" href="">Sign in</a>
                </li>
            </ul>
        </div>

        <ul class="menu-items">
            <li class="logo ignore">
                
                    <a href="https://www.unrealengine.com/blog"></a>
                
            </li>

            
                

                    
                        <li>
                            
                                <a>About</a>
                            

                            <ul>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/what-is-unreal-engine-4">Overview</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/unreal-engine-4">Features</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/vr-page">Virtual Reality</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/showcase">Showcase</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/49-release-notes-overview">What&#39;s New</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/faq">FAQ / EULA</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/previous-versions">Previous Versions</a>
                                        
                                    </li>
                                
                            </ul>
                        </li>
                    

                
            
                

                    
                        <li>
                            
                                <a>Learn</a>
                            

                            <ul>
                                
                                    <li>
                                        
                                            <a href="https://docs.unrealengine.com/" target="_blank">Documentation</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://wiki.unrealengine.com/Videos " target="_blank">Video Tutorials</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://wiki.unrealengine.com/Main_Page" target="_blank">Wiki</a>
                                        
                                    </li>
                                
                            </ul>
                        </li>
                    

                
            
                

                    
                        <li>
                            
                                <a>Community</a>
                            

                            <ul>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/blog">Blog</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://forums.unrealengine.com/" target="_blank">Forums</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://answers.unrealengine.com/" target="_blank">AnswerHub</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://trello.com/b/gHooNW9I/ue4-roadmap" target="_blank">Roadmap</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/unrealdevgrants">Unreal Dev Grants</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="http://www.unrealtournament.com/blog/" target="_blank">Unreal Tournament</a>
                                        
                                    </li>
                                
                            </ul>
                        </li>
                    

                
            
                

                    
                        <li>
                            
                                <a>Marketplace</a>
                            

                            <ul>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/marketplace">Browse</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://publish.unrealengine.com/faq" target="_blank">Business Terms</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://publish.unrealengine.com/submission-guidelines" target="_blank">Submission Guidelines</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://publish.unrealengine.com/welcome" target="_blank">Submit Your Content</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://forums.unrealengine.com/forumdisplay.php?56-Marketplace" target="_blank">Marketplace Forums</a>
                                        
                                    </li>
                                
                            </ul>
                        </li>
                    

                
            
                

                    
                        <li>
                            
                                <a>Academia</a>
                            

                            <ul>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/education">Education Program</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/academic-partners">Academic Partners</a>
                                        
                                    </li>
                                
                            </ul>
                        </li>
                    

                
            
        </ul>


        <div class="menu-download" data-sub="dl">
            <a class="sso-register" href="">
                <span class="isUpdateEnabled">Get Unreal</span>
            </a>
        </div>
        

        <div id="search" class="menu-search ignore">
                <span></span>
        </div>
        
        <div class="search-header">
            <div class="input-search">
                <div id="search-tips" class="search-tips-en_US">
                    You may be unable to view the results of this search unless you connect to a VPN first.
                </div>
                <span></span>
                <input type="text" name="search" value="" style="background:none !important" id="isearch" class="text" placeholder="Search..." />
                <p class="search-btn">Search</p>
            </div>
        </div>

        <ul class="menu-icons">
            <li id="btn-account" class="ignore" data-sub="account" style="display: none">
                <a href="/dashboard">Account</a>
                <ul class="account-sub-menu">
                    <li>
                        <a href="/dashboard">Personal</a>
                    </li>
                    <li>
                        <a href="https://publish.unrealengine.com/">Seller</a>
                    </li>
                </ul>
            </li>
            <li id="btn-signout" class="ignore" data-sub="account" style="display: none">
                <a class="sso-sign-out last-border" href="">Log Out</a>
            </li>
            <li id="btn-signin" class="ignore" data-sub="account" style="display: none">
                <a class="sso-sign-in last-border" href="">Sign in</a>
            </li>
        </ul>
        
    </nav>
</header>

		</div>
		<div id="pagedefault">		
                    <div id="pagenav">
                        <div>
                            <!-- Start of Other language links -->
                            <!-- End of Other language links -->
                            <div class="homelink_container">
                                <a href="https://wiki.unrealengine.com" title="UE4 Wiki Home" class="homelink">HOME</a>
                            </div>
                        </div>
                        <div style="clear:both;">
                        </div>
                    </div>	
		<div id="mw-navigation" style="max-width:972px;margin:1em auto 0 auto;">
			<h2>Navigation menu</h2>
			<div id="mw-head">
				<div id="jumplink" onclick="$('#sidebar').toggle();">
					Navigation
				</div>
				<div id="sidebar">
					<!-- Start of jump page links -->
					<div class="largetitle">
						Quick Links
					</div>
					<div class="arrowlist">
						<!-- End of jump page links -->
						<!-- Start of related page links -->
						<!-- End of related page links -->								
						<div id="mw-panel">
							<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
	<h3 id='p-navigation-label'>Navigation</h3>
	<div class="body">
		<ul>
			<li id="n-mainpage"><a href="/Main_Page" title="Visit the main page [z]" accesskey="z">Main Page</a></li>
			<li id="n-Tutorials"><a href="/Category:Tutorials">Tutorials</a></li>
			<li id="n-Videos"><a href="/Videos">Videos</a></li>
			<li id="n-Plug-ins"><a href="/Category:Plug-ins">Plug-ins</a></li>
			<li id="n-Code"><a href="/Category:Code">Code</a></li>
			<li id="n-Games"><a href="/Category:Games">Games</a></li>
			<li id="n-Unreal-Tournament"><a href="/Category:Unreal_Tournament">Unreal Tournament</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
	<h3 id='p-tb-label'>Tools</h3>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="/Special:WhatLinksHere/HUD,_Canvas,_Code_Sample_of_800%2B_Lines,_Create_Buttons_%26_Draw_Materials" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="/Special:RecentChangesLinked/HUD,_Canvas,_Code_Sample_of_800%2B_Lines,_Create_Buttons_%26_Draw_Materials" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li id="t-info"><a href="/index.php?title=HUD,_Canvas,_Code_Sample_of_800%2B_Lines,_Create_Buttons_%26_Draw_Materials&amp;action=info">Page information</a></li>
		</ul>
	</div>
</div>
						</div>
					</div>
				</div>				
				<div id="left-navigation">
					<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
	<h3 id="p-namespaces-label">Namespaces</h3>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="/HUD,_Canvas,_Code_Sample_of_800%2B_Lines,_Create_Buttons_%26_Draw_Materials"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="/index.php?title=Talk:HUD,_Canvas,_Code_Sample_of_800%2B_Lines,_Create_Buttons_%26_Draw_Materials&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>
<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
	<h3 id="mw-vector-current-variant">
		</h3>
	<h3 id="p-variants-label"><span>Variants</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
				</div>
				<div id="right-navigation">
					<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
	<h3 id="p-views-label">Views</h3>
	<ul>
					<li id="ca-view"><span><a href="/HUD,_Canvas,_Code_Sample_of_800%2B_Lines,_Create_Buttons_%26_Draw_Materials" >View</a></span></li>
					<li id="ca-viewsource" class="selected"><span><a href="/index.php?title=HUD,_Canvas,_Code_Sample_of_800%2B_Lines,_Create_Buttons_%26_Draw_Materials&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="/index.php?title=HUD,_Canvas,_Code_Sample_of_800%2B_Lines,_Create_Buttons_%26_Draw_Materials&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">History</a></span></li>
			</ul>
</div>
<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
	<h3 id="p-cactions-label"><span>Actions</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
	<h3 id="p-personal-label">Personal tools</h3>
	<ul>
<li id="pt-createaccount"><a href="/index.php?title=Special:UserLogin&amp;returnto=HUD%2C+Canvas%2C+Code+Sample+of+800%2B+Lines%2C+Create+Buttons+%26+Draw+Materials&amp;returntoquery=action%3Dedit&amp;type=signup">Create account</a></li><li id="pt-login"><a href="/index.php?title=Special:UserLogin&amp;returnto=HUD%2C+Canvas%2C+Code+Sample+of+800%2B+Lines%2C+Create+Buttons+%26+Draw+Materials&amp;returntoquery=action%3Dedit" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>	</ul>
</div>
				</div>
			</div>
		</div>
		<div id="maincol">
		<div class="mw-body" role="main">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<!-- Start of crumbs links -->
			<div class="crumbs">
			<p>
							</p>
			</div>
			<!-- End of crumbs links -->
			<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">View source for HUD, Canvas, Code Sample of 800+ Lines, Create Buttons &amp; Draw Materials</span></h1>
			<div id="bodyContent">
				<div id="contentSub">← <a href="/HUD,_Canvas,_Code_Sample_of_800%2B_Lines,_Create_Buttons_%26_Draw_Materials" title="HUD, Canvas, Code Sample of 800+ Lines, Create Buttons &amp; Draw Materials">HUD, Canvas, Code Sample of 800+ Lines, Create Buttons &amp; Draw Materials</a></div>
																<div id="mw-content-text"><p>You do not have permission to edit this page, for the following reason:
</p>
<div class="permissions-errors">
<p>The action you have requested is limited to users in the group: <a href="/index.php?title=Epic_Wiki:Users&amp;action=edit&amp;redlink=1" class="new" title="Epic Wiki:Users (page does not exist)">Users</a>.
</p>
</div>
<hr />
<p>You can view and copy the source of this page:
</p><textarea readonly="" accesskey="," id="wpTextbox1" cols="80" rows="25" style="" lang="en" dir="ltr" name="wpTextbox1">==Overview==

''Code Author:'' [[User:Rama|Rama]] ([[User talk:Rama|talk]]) 

Dear Community,

In this tutorial I am giving you a fully functional HUD class that is 800+ lines of UE4 C++ code.

'''Features of this sample HUD class include:'''

===Multiple convenience functions for===

*drawing textures
*drawing materials
*drawing lines
*drawing rectangles
*drawing text

The functions use the new UE4 method of using CanvasItems.

=== Transparency===

Every HUD element I show in my sample has at least some transparency!

The main HUD menu graphic is actually mostly transparent, except for the edges!

=== Centering ===
*how to draw stuff centered in the screen (used by confirm dialog)

=== Rest of Game Code Integration ===
I have code in the tutorial to show you how to get a reference to your custom PC or Character class from within the HUD.

From your PC reference you can get access to your custom Game Mode and Game State classes (using the Cast&lt;> code I show in tutorial PostInit)

=== Player Keyboard,Mouse,Controller Input ===
How to capture player key presses for ANY key,mouse,controller that you want from within the HUD

'''Key Controls used in this tutorial code:'''
*	ESC: 	clears the screen lock so camera will move with cursor.
*	F: 		Toggle screen lock so only the cursor moves as player moves the mouse.
*	H:		Toggles hiding the HUD
*	LMB: 	Clicks on buttons
*	Y:		Confirm yes if confirm dialog open
*	N:		Cancel if confirm dialog is open

=== Text Size ===
How to measure text, accounting for scaling and font size, to size backgrounds,buttons,tooltips appropriately

=== Buttons ===
A button system and corresponding USTRUCT

=== Cursor ===
How to draw cursor that player can move in-game

How to change cursor when hovering over button

=== Tooltips ===
Button tooltips

=== Drawing Images/Textures/Materials ===
Drawing custom button and menu backgrounds that come from textures/materials

==Video==

Here is a video of this exact code in action!

===Customizing the Appearance===
Note that I made my own fonts and cursors and materials as seen in video, you can make your own appearance using same code :)

&lt;youtube>https://www.youtube.com/watch?v=85Rp4Xb2Ja0&lt;/youtube>

==Credit==

Feel free to use this as a template/foundation for making a c++ HUD-based GUI for your game!

Please do give me credit in some appropriate way for this base-line code contribution.

  All of this code is of my own creation, and I am using functions made only by Epic.



'''Why Did I Do All This?'''

I have implemented a very featured GUI for my game using only UE4 C++ and the HUD class!

I was able to create from scratch everything I wanted, including scrollable panels and an in-game file system.


I wanted to demo for you how this can be done, so that you can do this in your game too!


Constructing this tutorial for you took me about 5 hours, 2 hours of which was just documation / video

Adding buttons and such to this code should only take you minutes.

Integrating this code with your game engine will be easy, you can get a reference to the owning Character or the player controller from within the HUD class itself.

==Pre-requisites==

Make at least one font of your own, right click and make a new font asset.

I recommend a large default size like 36, as explained in the code below.

==C++ Code==

The code below assumes you have created a now Class named "JoyHUD". If you "add code to project" from the Editor, then you will need to replace the default files with the  code below.

===JoyHUD.h===

&lt;syntaxhighlight lang="cpp">
// Copyright 1998-2013 Epic Games, Inc. All Rights Reserved.

//VictoryHUD extension by Rama

#pragma once

#include "JoyHUD.generated.h"

USTRUCT()
struct FJoyButtonStruct
{
	GENERATED_USTRUCT_BODY()

	//Vars
	int32 		type;
	FString	toolTip;
	float 		minX;
	float 		maxX;
	float 		minY;
	float 		maxY;
	
	//~
	
	//default properties
	
	FJoyButtonStruct()
	{
		type 			= -1;
		toolTip 		= "";
		minX 			= 0;
		maxX 			= 0;
		minY 			= 0;
		maxY 			= 0;
	}
};

UCLASS()
class AJoyHUD : public AHUD
{
	GENERATED_UCLASS_BODY()

	// Font 
	//		I recommend creating the font at a high resolution / size like 36
	//			then you can scale down the font as needed to any size of your choice
	
	/** Verdana */
	UPROPERTY(EditAnywhere, BlueprintReadWrite, Category=JoyHUD)
	UFont* VerdanaFont;
	
	/** Put Roboto Here */
	UPROPERTY(EditAnywhere, BlueprintReadWrite, Category=JoyHUD)
	UFont* UE4Font;
	
	/** Font Scaling Used By Your HUD Code */
	UPROPERTY(EditAnywhere, BlueprintReadWrite, Category=JoyHUD)
	float DefaultFontScale;
	
	/** HUD Scaling */
	UPROPERTY(EditAnywhere, BlueprintReadWrite, Category=JoyHUD)
	float GlobalHUDMult;
	
	// T2D 
	/** Cursor */
	UPROPERTY(EditAnywhere, BlueprintReadWrite, Category=T2D)
	UTexture2D* CursorMain;
	
	/** Hovering */
	UPROPERTY(EditAnywhere, BlueprintReadWrite, Category=T2D)
	UTexture2D* CursorHoveringButton;
	
	/** Button */
	UPROPERTY(EditAnywhere, BlueprintReadWrite, Category=T2D)
	UTexture2D* ButtonBackground;
	
	// Materials 
	/** Events */
	UPROPERTY(EditAnywhere, BlueprintReadWrite, Category=Materials)
	UMaterialInterface* MaterialBackground;

	//
	
	/* Draw Hud? */
	UPROPERTY(EditAnywhere, BlueprintReadWrite, Category=Options)
	bool DontDrawHUD;
	
//Cursor
public:
	FVector2D MouseLocation;
	void DrawHUD_DrawCursor();
	
//Buttons
public:
	TArray&lt;FJoyButtonStruct> ButtonsMain;
	TArray&lt;FJoyButtonStruct> ButtonsConfirm;
	
	//Cursor In buttons
	void DrawHUD_CheckCursorInButtons();
	void CheckCursorInButtonsMain();
	void CheckCursorInButtonsConfirm();
	
	const FJoyButtonStruct* CurCheckButton;
	int32 CheckCursorInButton(const TArray&lt;FJoyButtonStruct>&amp; ButtonArray);
	int32 ClickedButtonType;
	//States
	bool ConfirmDialogOpen;
	bool InMainMenu;
	
	int32 		ActiveButton_Type;
	FString 	ActiveButton_Tip;
	bool CursorHoveringInButton;
//Colors
public:
	const FLinearColor * ColorPtr; 
	
	//Colors
	static const FColor		FColorBlack;
	static const FColor		FColorRed;
	static const FColor		FColorYellow;
	static const FColor		FColorBlue;
	static const FColor		FColor_White;
	
	static const FLinearColor LC_Black;
	static const FLinearColor LC_Pink;
	static const FLinearColor LC_Red;
	static const FLinearColor LC_Yellow;
//FString
public:
	
	//`Titles
	static const FString S_Title_Main;
	static const FString S_Title_Confirm;
	//`Button Text
	static const FString S_Button_Restart; 
	static const FString S_Button_Exit;
	
// Utility 

//Stop Camera From Moving With Mouse
FORCEINLINE void SetCursorMoveOnly(bool CursorOnly)
{
	if(!ThePC) return;
	//
	ThePC->SetIgnoreLookInput(CursorOnly);
	
}

//DrawLine
FORCEINLINE void DrawJoyLine
(
	const FVector2D&amp; Start, 
	const FVector2D&amp; End, 
	const FLinearColor&amp; TheColor, 
	const float&amp; Thick
)
{
	if (!Canvas) return;
	//
	
	FCanvasLineItem NewLine(Start,End);
	NewLine.SetColor(TheColor);
	NewLine.LineThickness = Thick;
	Canvas->DrawItem(NewLine);
}	

//~

FORCEINLINE void DrawJoyRect( 
	float X, float Y, 
	float Width, float Height, 
	const FLinearColor&amp; Color
)
{
	if(!Canvas) return;
	//
	
	FCanvasTileItem RectItem( 
		FVector2D(X, Y), 
		FVector2D( Width, Height ), 
		Color 
	);
   
    RectItem.BlendMode = SE_BLEND_Translucent;
	Canvas->DrawItem(RectItem);
}

//~

//DrawText
FORCEINLINE void DrawJoyText(
	UFont*	TheFont,
	const FString&amp; TheStr, 
	const float&amp; X, const float&amp; Y, 
	const FLinearColor&amp; TheColor, 
	const float&amp; TheScale,
	bool DrawOutline=false,
	const FLinearColor OutlineColor=FLinearColor(0,0,0,1)
) {
	if(!Canvas) return;
	//
	
	//Text and Font
	FCanvasTextItem NewText(
		FVector2D(X,Y),
		FText::FromString(TheStr),
		TheFont,
		TheColor
	);
	
	//Text Scale
	NewText.Scale.Set(TheScale,TheScale);
	
	//Outline gets its alpha from the main color
	NewText.bOutlined = true;
	NewText.OutlineColor = OutlineColor;
	NewText.OutlineColor.A = TheColor.A * 2;
	
	//Draw
	Canvas->DrawItem(NewText);
}

//~
//Draw Full Size Tile
FORCEINLINE void DrawFullSizeTile(UTexture2D* tex, float x, float y, const FColor&amp; Color)
{
	if (!Canvas) return;
	if (!tex) return;
	//~~
	
	Canvas->SetDrawColor(Color);
	
	//Draw
	Canvas->DrawTile(
		tex, x, y, 0, //z pos
		tex->GetSurfaceWidth(), //screen width
		tex->GetSurfaceHeight(),  //screen height
		0, //texture start width
		0, //texture start height
		tex->GetSurfaceWidth(), //texture width from start
		tex->GetSurfaceHeight(), //texture height from start
		BLEND_Translucent
	);
}
	
//~

FORCEINLINE void VDrawTile(UTexture2D* tex, float x, float y, float screenX, float screenY, const FColor&amp; TheColor)
{
	if (!Canvas) return;
	if (!tex) return;
	//~
	
	Canvas->SetDrawColor(TheColor);
	
	//Draw
	Canvas->DrawTile(
		tex, x, y, 0, //z pos
		screenX, //screen width
		screenY,  //screen height
		0, //texture start width
		0, //texture start height
		tex->GetSurfaceWidth(), //texture width from start
		tex->GetSurfaceHeight(), //texture height from start
		BLEND_Translucent
	);
}

//~

//Draw
public:
	void DrawHUD_DrawDialogs();
	
	//Menus
	void DrawMainMenu();
	void DrawConfirm();

	//Buttons
	void DrawMainMenuButtons();
	void DrawConfirmButtons();
public:
	void DrawToolTip();
	
//Core
public:
	APlayerController* ThePC;
	void PlayerInputChecks();
protected:
	//Draw HUD
	void DrawHUD_Reset();
	virtual void DrawHUD() OVERRIDE;
	
	/** after all game elements are created */
	virtual void PostInitializeComponents() OVERRIDE;
	
	
};
&lt;/syntaxhighlight>

===JoyHUD.cpp===

&lt;syntaxhighlight lang="cpp">
// Copyright 1998-2013 Epic Games, Inc. All Rights Reserved.

//JoyHUD extension by Rama

#include "VictoryGame.h"   //Replace with a reference to the header file of your own project

#define BUTTONTYPE_MAIN_RESTART 	1
#define BUTTONTYPE_MAIN_EXIT 		2

#define BUTTONTYPE_CONFIRM_YES 	1
#define BUTTONTYPE_CONFIRM_NO 	2

#define CANVAS_WHITE if(Canvas) Canvas->SetDrawColor(FColor_White);

//Cursor Draw Offset
//		use this to position texture over the point of your cursor, 
//			if the point is not at exactly 0,0
#define CURSOR_DRAW_OFFSET 3

//
//Static Consts
//

const FString AJoyHUD::S_Title_Main			= FString("Joy!"); 
const FString AJoyHUD::S_Title_Confirm		= FString("Exit Game?");

const FString AJoyHUD::S_Button_Restart	= FString("Restart"); 
const FString AJoyHUD::S_Button_Exit		= FString("Exit"); 

// Colors 
const FColor AJoyHUD::FColorBlack 		= FColor(0,0,0,255);
const FColor AJoyHUD::FColorRed 			= FColor(255,0,0,255);
const FColor AJoyHUD::FColorYellow 		= FColor(255,255,0,255);
const FColor AJoyHUD::FColorBlue			= FColor(0,0,255,255);
const FColor AJoyHUD::FColor_White		= FColor(255,255,255,255);
// Backgrounds 
const FLinearColor AJoyHUD::LC_Black 	= FLinearColor(0, 0, 0, 1);
const FLinearColor AJoyHUD::LC_Pink		= FLinearColor(1, 0, 1, 1);
const FLinearColor AJoyHUD::LC_Red 		= FLinearColor(1, 0, 0, 1);
const FLinearColor AJoyHUD::LC_Yellow 	= FLinearColor(1, 1, 0, 1);

AJoyHUD::AJoyHUD(const class FPostConstructInitializeProperties&amp; PCIP) : Super(PCIP)
{
	//Draw HUD?
	DontDrawHUD 		= false;
	
	//States
	ConfirmDialogOpen 	= false;
	InMainMenu 			= true;
	
	//Scale
	GlobalHUDMult = 1;
	DefaultFontScale = 0.7;   //scaling down a size 36 font
	
	//	 I recommend creating fonts at a high resolution / size like 36
	//			then you can scale down the font as needed to any size of your choice
	
	// this avoids needing to make multiple fonts for different sizes, but have a high
	// resolution when you use larger font sizes
	
}	

//Core 

void AJoyHUD::PostInitializeComponents()
{
	Super::PostInitializeComponents();

	//Establish the PC
	ThePC = GetOwningPlayerController();
	
	//How to get a ref to your custom PC
	//AYourPlayerController* YourChar = Cast&lt;AYourPlayerController>(ThePC);
	
	//How to Get The Character
	//AYourCharacterClass* YourChar = Cast&lt;AYourCharacterClass>(GetOwningPawn());
	
}

//===============
// Draw Dialogs
//===============
void AJoyHUD::DrawHUD_DrawDialogs()
{
	DrawMainMenu();
	if(ConfirmDialogOpen) DrawConfirm();
}
//Menus
void AJoyHUD::DrawMainMenu()
{
	//Background
	DrawMaterialSimple(
		MaterialBackground, 
		10, 10, 
		256, 
		512,
		1.3
	);
	
	//Menu Title
	
	//Draw buttons
	DrawMainMenuButtons();
}
void AJoyHUD::DrawConfirm()
{
	//Blue rect with alpha 50%
	DrawJoyRect(Canvas->SizeX/2 - 100, Canvas->SizeY/2 - 50,200,100,FLinearColor(0,0,1,0.2333));
	
	//Confirm Title
	
	//Draw buttons
	DrawConfirmButtons();
}

//Buttons
void AJoyHUD::DrawMainMenuButtons()
{
	//Start Point
	float xStart = 100;
	float yStart = 110;
	
	//Background
	VDrawTile(ButtonBackground,xStart,yStart,150,80,FColor(255,255,255,120)); //alpha 120/255
	
	//Text
	DrawJoyText(
		VerdanaFont,"Restart",xStart+30,yStart+20,
		LC_Black, DefaultFontScale,
		true,LC_Red
	);
	
	//Struct
	//Add Button If Necessary
	//		could be cleared and need refreshing if using a different menu
	//			clear buttons with ButtonsMain.Empty()
	if (ButtonsMain.Num() &lt; 1 )
	{
		FJoyButtonStruct newButton = FJoyButtonStruct();
		newButton.type 			= BUTTONTYPE_MAIN_RESTART;
		newButton.toolTip		= "Restart the Game!";	
		newButton.minX 			= xStart;
		newButton.maxX 			= xStart + 150;		
		newButton.minY 			= yStart;
		newButton.maxY 			= yStart + 80;
			
		//Add to correct array
		ButtonsMain.Add(newButton);
	}
	
	
	xStart = 100;
	yStart = 410;
	
	VDrawTile(ButtonBackground,xStart,yStart,150,80,FColor(255,255,255,120)); //alpha 120/255
	
	//Text
	DrawJoyText(
		VerdanaFont,"Exit",xStart+55,yStart+20,
		LC_Black, DefaultFontScale,
		true,LC_Red
	);
	
	if (ButtonsMain.Num() &lt; 2 )
	{
		FJoyButtonStruct newButton = FJoyButtonStruct();
		newButton.type 			= BUTTONTYPE_MAIN_EXIT;
		newButton.toolTip			= "Exit the Game!";	
		newButton.minX 			= xStart;
		newButton.maxX 			= xStart + 150;		
		newButton.minY 			= yStart;
		newButton.maxY 			= yStart + 80;
		
		//Add to correct array
		ButtonsMain.Add(newButton);
	}
}
void AJoyHUD::DrawConfirmButtons()
{
	float xStart = Canvas->SizeX/2 - 100;
	float yStart = Canvas->SizeY/2 - 40;
	
	//Highlighted?
	if(ActiveButton_Type == BUTTONTYPE_CONFIRM_YES ) ColorPtr = &amp;LC_Pink;
	else ColorPtr = &amp;LC_Yellow;
	
	//Text
	DrawJoyText(
		VerdanaFont,"Yes",xStart+30,yStart+20,
		*ColorPtr, DefaultFontScale,
		true
	);
	
	if (ButtonsConfirm.Num() &lt; 1 )
	{
		FJoyButtonStruct newButton = FJoyButtonStruct();
		newButton.type 			= BUTTONTYPE_CONFIRM_YES ;
		newButton.toolTip			= "";	
		newButton.minX 			= xStart;
		newButton.maxX 			= xStart + 75;		
		newButton.minY 			= yStart + 20;
		newButton.maxY 			= yStart + 60;
		
		//could use GetTextSize to streamline this
		
		//Add to correct array
		ButtonsConfirm.Add(newButton);
	}
	
	xStart = Canvas->SizeX/2 + 20;
	yStart = Canvas->SizeY/2 - 40;
	
	//Highlighted?
	if(ActiveButton_Type == BUTTONTYPE_CONFIRM_NO) ColorPtr = &amp;LC_Black;
	else ColorPtr = &amp;LC_Yellow;
	
	//Text
	DrawJoyText(
		VerdanaFont,"No",xStart+30,yStart+20,
		*ColorPtr, DefaultFontScale,
		true
	);
	
	if (ButtonsConfirm.Num() &lt; 2 )
	{
		FJoyButtonStruct newButton = FJoyButtonStruct();
		newButton.type 			= BUTTONTYPE_CONFIRM_NO;
		newButton.toolTip			= "";	
		newButton.minX 			= xStart;
		newButton.maxX 			= xStart + 75;		
		newButton.minY 			= yStart + 20;
		newButton.maxY 			= yStart + 60;
		
		//could use GetTextSize to streamline this
		
		//Add to correct array
		ButtonsConfirm.Add(newButton);
	}
}

//===============
// Cursor In Buttons
//===============
int32 AJoyHUD::CheckCursorInButton(const TArray&lt;FJoyButtonStruct>&amp; ButtonArray)
{
	for(int32 b = 0; b &lt; ButtonArray.Num(); b++)
	{
		CurCheckButton = &amp;ButtonArray[b];
			
		//check cursor in bounds
		if (CurCheckButton->minX &lt;= MouseLocation.X &amp;&amp; MouseLocation.X &lt;= CurCheckButton->maxX &amp;&amp;
			CurCheckButton->minY &lt;= MouseLocation.Y &amp;&amp; MouseLocation.Y &lt;= CurCheckButton->maxY )
		{
			
			//Active Button Type
			ActiveButton_Type = CurCheckButton->type; 
			
			//Tool Tip
			ActiveButton_Tip = CurCheckButton->toolTip; 
			
			//Change Cursor
			CursorHoveringInButton = true;
		
			//Mouse Clicked?
			if (ThePC->WasInputKeyJustPressed(EKeys::LeftMouseButton))
			{
				return ActiveButton_Type;
				//~~
				//no need to check rest of buttons
			}
		}
	}
	
	//No Click Occurred This Tick
	return -1;	
}

//Check Confirm
void AJoyHUD::CheckCursorInButtonsConfirm()
{
	//Check Confirm Buttons
	ClickedButtonType = CheckCursorInButton(ButtonsConfirm); //fills global ActiveButton_Type
	
	if(ClickedButtonType == BUTTONTYPE_CONFIRM_YES )
	{
		ThePC->ConsoleCommand("Exit");
		return;
	}
	if(ClickedButtonType == BUTTONTYPE_CONFIRM_NO)
	{
		ConfirmDialogOpen = false;
		ButtonsConfirm.Empty(); //Buttons not needed anymore
		return;
	}
}

//Check Buttons
void AJoyHUD::CheckCursorInButtonsMain()
{
	//Check Confirm Buttons
	ClickedButtonType = CheckCursorInButton(ButtonsMain);

	if(ClickedButtonType == BUTTONTYPE_MAIN_RESTART )
	{
		ThePC->ConsoleCommand("RestartLevel");
		return;
	}
	if(ClickedButtonType == BUTTONTYPE_MAIN_EXIT)
	{
		ConfirmDialogOpen = true;
		return;
	}
}
void AJoyHUD::DrawHUD_CheckCursorInButtons()
{
	if(ConfirmDialogOpen)
	{
		CheckCursorInButtonsConfirm();
		
		//Take Focus Away From All Other buttons
		return; 
		//~
	}
	
	//Main
	CheckCursorInButtonsMain();
}

void AJoyHUD::DrawToolTip()
{
	//if mouse is too far to right, draw from left instead
	float xStart = MouseLocation.X + 150;
	float yStart = MouseLocation.Y + 5;
	
	//out vars
	float RV_xLength; 
	float RV_yLength;
	//Text Size
	GetTextSize(
		ActiveButton_Tip, 
		RV_xLength, 
		RV_yLength, 
		UE4Font,
		DefaultFontScale * 2
	);
	
	// Decide Draw to Left or to the Right 
	
	//Draw to the Left
	if (xStart + RV_xLength >= Canvas->SizeX - 40)
	{
		xStart -= 150 + 140 + 64 + RV_xLength;
		
		//If Text is too long, bring it closer to the cursor
		if(xStart &lt; 33 ) xStart = 33;
	}
	
	//Background
	DrawJoyRect(
		xStart, yStart, 
		RV_xLength + 70, 
		80, 
		FLinearColor(0, 0, 1, 0.7) //alpha 0.7
	);
	
	//Tool Tip
	DrawText(
		ActiveButton_Tip, 
		LC_Pink,
		xStart + 32, yStart + 20,
		UE4Font,
		DefaultFontScale * 2,			
		false		//scale position of message with HUD scale
	);
}
void AJoyHUD::DrawHUD_DrawCursor()
{
	//Tool Tip
	if(ActiveButton_Tip != "") DrawToolTip();
	
	//Cursor Hovering in a Button?
	if (CursorHoveringInButton)
	{
		//pointer tex found?
		if (!CursorHoveringButton) return;
		DrawFullSizeTile(CursorHoveringButton, MouseLocation.X - CURSOR_DRAW_OFFSET, MouseLocation.Y - CURSOR_DRAW_OFFSET, FColor_White );
	}
	
	else
	{
		//cursor tex found?
		if(!CursorMain) return;
		DrawFullSizeTile(CursorMain, MouseLocation.X - CURSOR_DRAW_OFFSET, MouseLocation.Y - CURSOR_DRAW_OFFSET, FColor_White );
	}
}

void AJoyHUD::PlayerInputChecks()
{
	//check out this tutorial of mine for a list of all EKeys::
	//http://forums.epicgames.com/threads/972861-Tutorials-C-for-UE4-Code-Samples-gt-gt-New-Video-Freeze-Render-When-Tabbed-Out?p=31660286&amp;viewfull=1#post31660286
	
	if(ThePC->WasInputKeyJustPressed(EKeys::Escape))
	{
		SetCursorMoveOnly(false);
		return;
	}
	if(ThePC->WasInputKeyJustPressed(EKeys::F))
	{
		SetCursorMoveOnly(!ThePC->IsLookInputIgnored());
		return;
	}
	if(ThePC->WasInputKeyJustPressed(EKeys::H))
	{
		DontDrawHUD = !DontDrawHUD;
		return;
	}
	
	//Confirm
	if(ConfirmDialogOpen)
	{
		if(ThePC->WasInputKeyJustPressed(EKeys::Y))
		{
			ThePC->ConsoleCommand("Exit"); 
			//could replace with function based on confirm context
			
			return;
		}
		if(ThePC->WasInputKeyJustPressed(EKeys::N))
		{
			ConfirmDialogOpen = false;
			ButtonsConfirm.Empty(); //Buttons not needed anymore
			//Cancel Confirm
			
			return;
		}
	}
}

void AJoyHUD::DrawHUD_Reset()
{
	ActiveButton_Type 		= -1;
	ActiveButton_Tip 		= "";
	CursorHoveringInButton 	= false;
}

void AJoyHUD::DrawHUD()
{
	//==============================
	//==============================
	//==============================
	//Have PC for Input Checks and Mouse Cursor?
	if(!ThePC)
	{
		//Attempt to Reacquire PC
		ThePC = GetOwningPlayerController();
		 
		//Could Not Obtain PC
		if(!ThePC) return;
		//~~
	}
	
	//Multiplayer Safety Check
	if(!ThePC->PlayerInput) return; //not valid for first seconds of a multiplayer client
	//~~
	//==============================
	//==============================
	//==============================
	
	//Player Input
	PlayerInputChecks();
	
	//Draw HUD?
	if(DontDrawHUD) return;
	//~~
	
	//Super
	Super::DrawHUD();
	
	//No Canvas?
	if(!Canvas) return;
	//
	
	//Reset States
	DrawHUD_Reset();
	
	//================
	//Get New Mouse Position
	//================
	ThePC->GetMousePosition(MouseLocation.X,MouseLocation.Y);
	
	//Cursor In Buttons
	DrawHUD_CheckCursorInButtons();
	
	//Draw Dialogs
	DrawHUD_DrawDialogs();
	
	//### Do Last ###
	//Draw Cursor
	DrawHUD_DrawCursor();
	
	//Debugging Info
	//ThePC->ClientMessage("HUD Loop Completed!");
}
&lt;/syntaxhighlight>

==Compile and Make BP==

After you get the above to compile, you need to go into the editor and make a blueprint of this JoyHUD

Then you need to go to your GameMode.cpp file and add this line:
	
&lt;syntaxhighlight lang="cpp">
AYourGameMode::AYourGameMode(const class FPostConstructInitializeProperties&amp; PCIP)
	: Super(PCIP)
{
	// You can obtain the asset path of your HUD blueprint through the editor 
	// by right-clicking the Blueprint asset and choosing "Copy Reference".
	// You should then add the "_C" suffix so that the class finder properly 
	// points to the actual class used by the game, as opposed to its Blueprint
	// which is an editor-only concept).
	// 
	// For instance, given a blueprint named BP_JoyHUD, the class path would be
	//	"/Game/Blueprints/BP_JoyHUD_C"
	static ConstructorHelpers::FClassFinder&lt;AHUD> TheHUDOb(TEXT("/Game/Blueprints/BP_JoyHUD_C"));
	if (TheHUDOb.Class != NULL)
	{
		HUDClass = TheHUDOb.Class;
	}
}
&lt;/syntaxhighlight>

==Adding The Graphics==

Open the defaults of your new HUD BP and set the various assets!

==Conclusion==

Now you have the code to make your own button system, with tooltips, and draw textures and materials of any size and shape to the screen during game time!

Using the DrawMaterial function you can make fancy effects in your game's GUI as you see in my video!

You also have a solid foundation for a mouse/pointer driven GUI that responds to hover as well as click events!

Enjoy!

[[User:Rama|Rama]] ([[User talk:Rama|talk]])

[[Category:Code]]
</textarea><div class="templatesUsed"></div><p id="mw-returnto">Return to <a href="/HUD,_Canvas,_Code_Sample_of_800%2B_Lines,_Create_Buttons_%26_Draw_Materials" title="HUD, Canvas, Code Sample of 800+ Lines, Create Buttons &amp; Draw Materials">HUD, Canvas, Code Sample of 800+ Lines, Create Buttons &amp; Draw Materials</a>.</p>
</div>												<div class="printfooter">
				Retrieved from "<a href="https://wiki.unrealengine.com/HUD,_Canvas,_Code_Sample_of_800%2B_Lines,_Create_Buttons_%26_Draw_Materials">https://wiki.unrealengine.com/HUD,_Canvas,_Code_Sample_of_800%2B_Lines,_Create_Buttons_%26_Draw_Materials</a>"				</div>
												<div id='catlinks' class='catlinks catlinks-allhidden'></div>												<div class="visualClear"></div>
							</div>
		</div>
		</div>
		</div>
		
		<div id="footer">
			<div id="brand">

			</div>
			<div id="legal">
				<div id="copyright">
					&copy; 2004-2015, Epic Games, Inc. All rights reserved. Unreal and its logo are Epic's trademarks or registered trademarks in the US and elsewhere.
				</div>
				<div id="terms">
					<a target="_blank" href="http://epicgames.com/tou">TERMS OF USE</a> | <a target="_blank" href="http://epicgames.com/privacynotice">PRIVACY POLICY</a>
				</div>
			</div>
		</div>
	</div>
		<!--<div id="footer" role="contentinfo">
										<ul id="footer-icons" class="noprint">
					<li id="footer-copyrightico">
						<div name="copyright">&#169; 2004-2014, Epic Games, Inc. All rights reserved. Epic Games, Unreal, Unreal Engine, Unreal Tournament, and their respective logos are Epic's trademarks or registered trademarks in the US and elsewhere.</div>
					</li>
					<li id="footer-termsofuseico">
						<div name="termsofuse"><a href="http://epicgames.com/tou" target="_blank">Terms of Use</a></div>
					</li>
					<li id="footer-privacynoticeico">
						<div name="privacynotice"><a href="http://epicgames.com/privacynotice" target="_blank">Privacy Policy</a></div>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>-->
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.edit.collapsibleFooter","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.collapsibleNav"],null,true);
}</script>
<script src="/extensions/EpicSearchSystem/Javascript/Search.js?303"></script>
<script src="https://wiki.unrealengine.com/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=epic&amp;*"></script>
<!-- Served in 0.101 secs. -->		<img src="https://tracking.unrealengine.com/track.png" width="1" height="1">
		<!--<script type="text/javascript">
			setTimeout(function () {
				var a = document.createElement("script");
				var b = document.getElementsByTagName("script")[0];
				a.src = document.location.protocol + "//script.crazyegg.com/pages/scripts/0028/4572.js?" + Math.floor(new Date().getTime() / 3600000);
				a.async = true; a.type = "text/javascript"; b.parentNode.insertBefore(a, b)
			}, 1);
		</script>-->
	</body>
</html>

		