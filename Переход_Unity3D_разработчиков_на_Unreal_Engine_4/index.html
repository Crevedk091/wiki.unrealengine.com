<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>wiki.unrealengine.com</title>
    <meta name="description" content="A static site pulled from the internet archive">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/wiki.unrealengine.com/assets/css/0.styles.b0e83839.css" as="style"><link rel="preload" href="/wiki.unrealengine.com/assets/js/app.aaf63946.js" as="script"><link rel="preload" href="/wiki.unrealengine.com/assets/js/2.4f53495e.js" as="script"><link rel="preload" href="/wiki.unrealengine.com/assets/js/1245.ce7ac8a5.js" as="script">
    <link rel="stylesheet" href="/wiki.unrealengine.com/assets/css/0.styles.b0e83839.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wiki.unrealengine.com/" class="home-link router-link-active"><!----> <span class="site-name">wiki.unrealengine.com</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><p>Переход Unity3D разработчиков на Unreal Engine 4 - Epic Wiki</p> <h1 id="переход-unity3d-разработчиков-на-unreal-engine-4"><a href="#переход-unity3d-разработчиков-на-unreal-engine-4" class="header-anchor">#</a> Переход Unity3D разработчиков на Unreal Engine 4</h1> <h2 id="contents"><a href="#contents" class="header-anchor">#</a> Contents</h2> <ul><li><a href="#.D0.9E.D0.B1.D1.89.D0.B5.D0.B5">1 Общее</a></li> <li><a href="#.D0.9A.D0.BB.D1.8E.D1.87.D0.B5.D0.B2.D1.8B.D0.B5_.D0.BF.D0.BE.D0.BD.D1.8F.D1.82.D0.B8.D1.8F">2 Ключевые понятия</a> <ul><li><a href="#.D0.98.D0.B3.D1.80.D0.BE.D0.B2.D0.B0.D1.8F_.D0.BB.D0.BE.D0.B3.D0.B8.D0.BA.D0.B0">2.1 Игровая логика</a> <ul><li><a href="#Unity">2.1.1 Unity</a></li> <li><a href="#Unreal_Engine_4">2.1.2 Unreal Engine 4</a></li></ul></li> <li><a href="#.D0.9D.D0.B0.D1.87.D0.B0.D0.BB.D0.BE_.D0.B8.D0.B3.D1.80.D1.8B">2.2 Начало игры</a> <ul><li><a href="#Unity_2">2.2.1 Unity</a></li> <li><a href="#Unreal_Engine_4_2">2.2.2 Unreal Engine 4</a></li></ul></li> <li><a href="#.D0.A1.D1.86.D0.B5.D0.BD.D0.B0">2.3 Сцена</a> <ul><li><a href="#Unity3D">2.3.1 Unity3D</a></li> <li><a href="#Unreal_Engine4">2.3.2 Unreal Engine4</a></li></ul></li> <li><a href="#.D0.9E.D0.B1.D1.8A.D0.B5.D0.BA.D1.82.D1.8B_.D1.81.D1.86.D0.B5.D0.BD.D1.8B">2.4 Объекты сцены</a> <ul><li><a href="#Unity_3">2.4.1 Unity</a></li> <li><a href="#Unreal_Engine_4_3">2.4.2 Unreal Engine 4</a></li></ul></li> <li><a href="#.D0.A1.D0.BE.D0.B1.D1.8B.D1.82.D0.B8.D1.8F_.D0.B2.D0.B2.D0.BE.D0.B4.D0.B0">2.5 События ввода</a> <ul><li><a href="#Unity_4">2.5.1 Unity</a></li> <li><a href="#Unreal_Engine_4_4">2.5.2 Unreal Engine 4</a></li></ul></li> <li><a href="#.D0.92.D1.8B.D0.B2.D0.BE.D0.B4_.D0.B2_.D0.BA.D0.BE.D0.BD.D1.81.D0.BE.D0.BB.D1.8C_.28log.29">2.6 Вывод в консоль (log)</a> <ul><li><a href="#Unity_5">2.6.1 Unity</a></li> <li><a href="#Unreal_Engine_4_5">2.6.2 Unreal Engine 4</a></li></ul></li></ul></li> <li><a href="#.D0.93.D0.BB.D0.B0.D0.B2.D0.BD.D1.8B.D0.B5_.D0.BA.D0.BB.D0.B0.D1.81.D1.81.D1.8B_.D0.B8_.D1.84.D1.83.D0.BD.D0.BA.D1.86.D0.B8.D0.B8">3 Главные классы и функции</a> <ul><li><a href="#.D0.9E.D1.81.D0.BD.D0.BE.D0.B2.D0.BD.D1.8B.D0.B5_.D1.82.D0.B8.D0.BF.D1.8B_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85">3.1 Основные типы данных</a></li> <li><a href="#.D0.9F.D1.80.D0.BE.D0.B4.D0.B2.D0.B8.D0.BD.D1.83.D1.82.D1.8B.D0.B5_.D1.82.D0.B8.D0.BF.D1.8B_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85">3.2 Продвинутые типы данных</a></li> <li><a href="#.D0.A4.D1.83.D0.BD.D0.BA.D1.86.D0.B8.D0.B8">3.3 Функции</a></li> <li><a href="#.D0.9A.D0.BE.D0.BC.D0.BF.D0.BE.D0.BD.D0.B5.D0.BD.D1.82.D1.8B">3.4 Компоненты</a></li> <li><a href="#.D0.A1.D1.82.D0.B0.D1.82.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B8.D0.B5_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D0.B5">3.5 Статические данные</a></li> <li><a href="#.D0.A1.D0.BF.D0.B0.D0.B2.D0.BD">3.6 Спавн</a> <ul><li><a href="#Unity3D_2">3.6.1 Unity3D</a></li> <li><a href="#Unreal_Engine4_2">3.6.2 Unreal Engine4</a></li></ul></li></ul></li> <li><a href="#.23includes">4 #includes</a> <ul><li><a href="#ParticleDefinitions.h">4.1 ParticleDefinitions.h</a></li></ul></li></ul> <h2 id="общее"><a href="#общее" class="header-anchor">#</a> Общее</h2> <p>Это руководство создано для людей, которые пришли с Unity3D и C # и хотят перейти на Unreal Engine 4 и C++. Это руководство предполагает, что вы понимаете, как работает Unreal Editor включая такие вещи, как импорт и экспорт, чертежи [Blueprints], настройки мира, настройки проекта и многое другое. Здесь будут рассмотрены ключевые понятия Unreal Engine 4 и как они соотносятся с Unity3D.<br>
ПРИМЕЧАНИЯ АВТОРА: Тут я складываю все полезные связи, которые я нашел в процессе изучения движка. А потом пользуюсь этой статьей как кратким руководством сходств и отличий.</p> <h1 id="кnючевые-понятия"><a href="#кnючевые-понятия" class="header-anchor">#</a> Ключевые понятия</h1> <h2 id="игровая-nогика"><a href="#игровая-nогика" class="header-anchor">#</a> Игровая логика</h2> <h5 id="unity"><a href="#unity" class="header-anchor">#</a> Unity</h5> <p>Игровая логика описывается с использованием среды Mono. Игровые скрипты манипулируют игровыми объектами [GameObject]. Игровые объекты могут иметь несколько игровых скриптов или вообще ни одного.</p> <h5 id="unreal-engine-4"><a href="#unreal-engine-4" class="header-anchor">#</a> Unreal Engine 4</h5> <p>Игровая логика описывается с использованием C++ и/или редактора чертежей [Blueprint Editor]. Классы C++ и чертежи управляют актерами [Actors] сцены. Чертежи похожи на префабы [Prefabs] Unity. Чертежи представляют собой родительский класс, интерфейсы и любые компоненты, которые вы добавляете через редактор чертежей, а так же единую логику поведения чертежа. Обычно игру представляют набором функциональных систем написанных на C++, однако поскольку классы можно описывать через систему чертежей, то всю второстепенную функциональность игры можно полностью описать чертежами.</p> <h2 id="начаnо-игры"><a href="#начаnо-игры" class="header-anchor">#</a> Начало игры</h2> <h5 id="unity-2"><a href="#unity-2" class="header-anchor">#</a> Unity</h5> <p>По умолчанию загружается уровень с индексом 0. Будучи однажды загруженными, все скрипты (по регламентированной очередности) вызывают несколько специальных методов класса, такие как Awake, Start, OnEnable, и т.д...</p> <h5 id="unreal-engine-4-2"><a href="#unreal-engine-4-2" class="header-anchor">#</a> Unreal Engine 4</h5> <p>Уровень загружаемый по умолчанию можно обозначить (Edit &gt; Project Settings &gt; Maps &amp; Modes). Каждый уровень имеет класс настроек мира [WorldSettings], поля которого можно изменять в редакторе. Используя эти поля создается класс UWorld, который создает объект GameMode в сцене. Объекты GameMode используются для создания объектов PlayerController, менеджеров и других, используемых в игре.</p> <p>Замечание: (Edit &gt; Project Settings &gt; Maps &amp; Modes) Секция Default Modes позволяет установить класс GameMode по умолчанию, которым будут пользоваться все уровни которым явно не назначено иное.</p> <p>Стартовая точка игры - конструктор класса GameMode (или его наследника).</p> <h2 id="сцена"><a href="#сцена" class="header-anchor">#</a> Сцена</h2> <p>Принцип сцены в обоих движках идентичен. Однако Unity3D и UE4 имеют разные направления координатных осей.</p> <h5 id="unity3d"><a href="#unity3d" class="header-anchor">#</a> Unity3D</h5> <p>Ось Y направлена вверх.</p> <ul><li>X - влево, вправо</li> <li>Y - вверх, вниз</li> <li>Z - вперед, назад</li></ul> <p>Формат файла: *.scene</p> <p>Используются статические методы класса GameObject для операции с объектами на сцене (find, spawn, destroy)</p> <p>Загрузка сцены: Application.LoadLevel(string name);</p> <h5 id="unreal-engine4"><a href="#unreal-engine4" class="header-anchor">#</a> Unreal Engine4</h5> <p>Ось Z направлена вверх.</p> <ul><li>X - вперед, назад</li> <li>Y - влево, вправо</li> <li>Z - вверх, вниз</li></ul> <p>UE4 дает осям вращение иное наименование (в отличии от координатных): Roll, Pitch и Yaw.</p> <p>Формат файла: *.umap</p> <p>Используются методы класса UWorld для операции с объектами на сцене (find, spawn, destroy). Можно получить экземпляр UWorld используя функцию GetWorld() класса PlayerController.</p> <p>Загрузка сцены: GetWorld()-&gt;ServerTravel(string URL);</p> <p>URL – путь к сцене, который может содержать дополнительные параметры. Например: &quot;/Game/Maps/&lt;map_name&gt;?&lt;key_1&gt;=&lt;value_1&gt;&amp;&lt;key_2&gt;=&lt;value_2&gt;&quot;</p> <p>Чтение параметров в коде: (GameMode class) GetIntOption(OptionsString, &lt;key_1&gt;, &lt;default_value&gt;);</p> <h2 id="объекты-сцены"><a href="#объекты-сцены" class="header-anchor">#</a> Объекты сцены</h2> <h5 id="unity-3"><a href="#unity-3" class="header-anchor">#</a> Unity</h5> <p>Базовый объект сцены – GameObject.</p> <p>Объекты GameObject являются контейнерами для других компонентов [Components]. По умолчанию всегда снабжается компонентом Transform. Компоненты добавляются, что бы внести в объект GameObject новую функциональность.</p> <p>Объекты GameObject поддерживают иерархию (родительский объект -&gt; дочерние объекты).</p> <h5 id="unreal-engine-4-3"><a href="#unreal-engine-4-3" class="header-anchor">#</a> Unreal Engine 4</h5> <p>Базовый объект сцены - Actor.</p> <p>Сам по себе Actor не содержит компонентов USceneComponent. Actor это просто базовый объект, который может быть представлен в сцене. Компоненты добавляются, что бы внести в объект Actor новую функциональность.</p> <p>Объекты Actor поддерживают иерархию (родительский объект -&gt; дочерние объекты).</p> <p>Программисты могут наследоваться от UActorComponent для создания своих компонентов.</p> <p>Пример создания компонента:</p> <p>TSubobjectPtr&lt;USceneComponent&gt; SceneComponent = PCIP.CreateDefaultSubobject&lt;USceneComponent&gt;(this, TEXT(&quot;SceneComp&quot;));
RootComponent = SceneComponent;</p> <h2 id="события-ввода"><a href="#события-ввода" class="header-anchor">#</a> События ввода</h2> <h5 id="unity-4"><a href="#unity-4" class="header-anchor">#</a> Unity</h5> <p>Единый класс обрабатывающий пользовательский ввод</p> <p>Input.GetAxis(&quot;MoveForward&quot;);
Input.GetTouch(0);</p> <h5 id="unreal-engine-4-4"><a href="#unreal-engine-4-4" class="header-anchor">#</a> Unreal Engine 4</h5> <p>Компонент UInputComponent висящий на объекте Actor</p> <p>InputComponent-&gt;BindAxis(&quot;MoveForward&quot;, this, &amp;AFirstPersonBaseCodeCharacter::MoveForward);
InputComponent-&gt;BindTouch(EInputEvent::IE_Pressed, this, &amp;AStrategyPlayerController::OnTapPressedMy);
...
void AStrategyPlayerController::OnTapPressedMy(ETouchIndex::Type index, FVector ScreenPosition)
{
}</p> <h2 id="вывод-в-консоnь-log"><a href="#вывод-в-консоnь-log" class="header-anchor">#</a> Вывод в консоль (log)</h2> <h5 id="unity-5"><a href="#unity-5" class="header-anchor">#</a> Unity</h5> <p>Debug.Log(&quot;Log text &quot; + (0.1f).ToString());
Debug.LogWarning(&quot;Log warning&quot;);
Debug.LogError(&quot;Log error&quot;);</p> <h5 id="unreal-engine-4-5"><a href="#unreal-engine-4-5" class="header-anchor">#</a> Unreal Engine 4</h5> <p>GEngine-&gt;AddOnScreenDebugMessage(-1, 5.f, FColor::Red, TEXT(&quot;This is an on screen message!&quot;));
UE_LOG(LogTemp, Log, TEXT(&quot;Log text %f&quot;), 0.1f);
UE_LOG(LogTemp, Warning, TEXT(&quot;Log warning&quot;));
UE_LOG(LogTemp, Error, TEXT(&quot;Log error&quot;));
FError::Throwf(TEXT(&quot;Log error&quot;));
FMessageDialog::Open(EAppMsgType::Ok, FText::FromString(TEXT(&quot;Dialog message&quot;)));</p> <p>Подробнее: <a href="/Logs,_Printing_Messages_To_Yourself_During_Runtime" title="Logs, Printing Messages To Yourself During Runtime">Wiki Entry on logging</a></p> <h1 id="гnавные-кnассы-и-функции"><a href="#гnавные-кnассы-и-функции" class="header-anchor">#</a> Главные классы и функции</h1> <h2 id="основные-типы-данных"><a href="#основные-типы-данных" class="header-anchor">#</a> Основные типы данных</h2> <p>Unity3D</p> <p>Unreal Engine4</p> <p>int</p> <p>int32, int24, int8</p> <p>string</p> <p>FString</p> <p>Transform</p> <p>FTransform</p> <p>Quaternion</p> <p>FQuat</p> <p>Rotation</p> <p>FRotator</p> <p>Gameobject</p> <p>Actor</p> <p>Array</p> <p>TArray</p> <h2 id="продвинутые-типы-данных"><a href="#продвинутые-типы-данных" class="header-anchor">#</a> Продвинутые типы данных</h2> <p>Unreal Engine4</p> <p>Описание</p> <p>TAssetPtr</p> <p>Указатель на ресурс, который еще не загружен, но может, если потребуется</p> <p>TAssetSubclassOf</p> <p>Указатель на подкласс, который еще не загружен, но может, если потребуется. Используется как указатель на чертежи [Blueprints].</p> <h2 id="функции"><a href="#функции" class="header-anchor">#</a> Функции</h2> <p>Тут представлен список наиболее часто используемых функций, которые любой разработчик Unity C# должен знать и использовать. Соответственно справа указаны идентичные функции UE4</p> <p>Unity3D</p> <p>Unreal Engine4</p> <p>Update()</p> <p>Tick(), TickComponent()</p> <p>transform</p> <p>GetActorTranform(), GetFocalLocation()</p> <p>transform.position</p> <p>GetActorTranform().GetLocation()</p> <p>transform.roation</p> <p>GetActorTranform().GetRotation()</p> <p>transform.localScale</p> <p>GetActorTranform().GetScaled3D()</p> <p>GetComponent<T>()</T></p> <p>FindComponentByClass<T>()</T></p> <p>Destroy()</p> <p>Destroy()</p> <p>Find()</p> <p>TObjectIterator<T>(), FActorIterator<T>, ActorItr(GetWorld()),ConstructorHelpers::FObjectFinder&lt;your_class&gt; object(name)</T></T></p> <p>MathF</p> <p>FMath</p> <p>RayCast</p> <p>Trace</p> <p>SphereCast</p> <p>Sweep</p> <h2 id="компоненты"><a href="#компоненты" class="header-anchor">#</a> Компоненты</h2> <p>Unity3D</p> <p>Unreal Engine4</p> <p>Transform</p> <p>USceneComponent</p> <p>Camera</p> <p>UCameraComponent</p> <p>BoxCollider</p> <p>UBoxComponent</p> <p>MeshFilter</p> <p>UStaticMeshComponent</p> <p>ParticleSystem</p> <p>UParticleSystemComponent</p> <p>AudioSource</p> <p>UAudioComponent</p> <h2 id="статические-данные"><a href="#статические-данные" class="header-anchor">#</a> Статические данные</h2> <p>Unreal Engine 4</p> <p>Описание</p> <p>UGameplayStatics</p> <p>Используется для получения таких вещей как players pawn, game mode, singlton, controller, spawn decal, spawn emitter</p> <h2 id="спавн"><a href="#спавн" class="header-anchor">#</a> Спавн</h2> <p>Для создания чего-то в режиме реального времени.</p> <h5 id="unity3d-2"><a href="#unity3d-2" class="header-anchor">#</a> Unity3D</h5> <p><strong>Instantiate()</strong></p> <p>Эта функция создает копию объекта, как вызов Duplicate в редактора. Клонируя GameObject вы можете обозначить его новое местоположение. Если вы клонируете компонент, то GameObject которому принадлежит компонент так же клонируется.</p> <h5 id="unreal-engine4-2"><a href="#unreal-engine4-2" class="header-anchor">#</a> Unreal Engine4</h5> <p><strong>UWorld-&gt;SpawnActor()</strong></p> <p>Процесс создания нового экземпляра Actor называется - спавн [spawn]. Спавн объекта Actor производится функцией UWorld::SpawnActor(). Эта функция создает новый экземпляр класса и возвращает указатель на вновьсозданного Actor. UWorld::SpawnActor() может использоваться только для спавна классов, унаследованных от Actor.</p> <h1 id="includes"><a href="#includes" class="header-anchor">#</a> #includes</h1> <p>Стоит отметить, что все включенное директивой #include в файле &quot;Project.h&quot; распространится на все классы проекта. Однако ваш компилятор может подложить вам свинью, поэтому рекомендуется все-таки делать включения индивидуально для каждого класса.</p> <h4 id="particledefinitions-h"><a href="#particledefinitions-h" class="header-anchor">#</a> ParticleDefinitions.h</h4> <p>При попытке добавить систему частиц из C++ вы получите ошибку, если не подключите файл &quot;ParticleDefinitions.h&quot; к вашему &quot;class.h&quot;.</p> <p><strong>.h</strong></p> <p>// Copyright 1998-2014 Epic Games, Inc. All Rights Reserved.
 
#pragma once
 
#include &quot;GameFramework/Actor.h&quot;
#include &quot;ParticleDefinitions.h&quot;
#include &quot;ParticleTest.generated.h&quot;
 
UCLASS()
class AParticleTest : public AActor
{
GENERATED_UCLASS_BODY()
 
UPROPERTY(VisibleAnywhere, Category = Particle System)
TSubobjectPtr&lt;UParticleSystemComponent&gt; ParticleSystem;
};</p> <p><strong>.cpp</strong></p> <p>// Copyright 1998-2014 Epic Games, Inc. All Rights Reserved.
 
#include &quot;MyProject.h&quot;
#include &quot;ParticleTest.h&quot;
 
 
AParticleTest::AParticleTest(const class FPostConstructInitializeProperties&amp; PCIP)
: Super(PCIP)
{
ParticleSystem = PCIP.CreateDefaultSubobject&lt;UParticleSystemComponent&gt;(this, FName(TEXT(&quot;Particle System&quot;)));
RootComponent = ParticleSystem;
 
}</p> <p>Retrieved from &quot;<a href="https://wiki.unrealengine.com/index.php?title=%D0%9F%D0%B5%D1%80%D0%B5%D1%85%D0%BE%D0%B4_Unity3D_%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%BE%D0%B2_%D0%BD%D0%B0_Unreal_Engine_4&amp;oldid=6972" target="_blank" rel="noopener noreferrer">https://wiki.unrealengine.com/index.php?title=Переход_Unity3D_разработчиков_на_Unreal_Engine_4&amp;oldid=6972<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>&quot;</p> <p><a href="/Special:Categories" title="Special:Categories">Category</a>:</p> <ul><li><a href="/Category:Code" title="Category:Code">Code</a></li></ul> <p><img src="https://tracking.unrealengine.com/track.png" alt=""></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/wiki.unrealengine.com/assets/js/app.aaf63946.js" defer></script><script src="/wiki.unrealengine.com/assets/js/2.4f53495e.js" defer></script><script src="/wiki.unrealengine.com/assets/js/1245.ce7ac8a5.js" defer></script>
  </body>
</html>
