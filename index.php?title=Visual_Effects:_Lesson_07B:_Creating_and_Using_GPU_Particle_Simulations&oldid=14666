<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8" /><title>Visual Effects: Lesson 07B: Creating and Using GPU Particle Simulations - Epic Wiki</title>
<meta name="generator" content="MediaWiki 1.22.2" />
<meta name="robots" content="noindex,nofollow" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="Epic Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.unrealengine.com/api.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Epic Wiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="https://wiki.unrealengine.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cskins.vector&amp;only=styles&amp;skin=epic&amp;*" />
<link rel="stylesheet" href="/extensions/EpicVideoSystem/CSS/VideoSystem.css" />
<link rel="stylesheet" href="/skins/epic/resources/screen.css?303" media="screen" />
<link rel="stylesheet" href="/skins/epic/resources/epic.css?303" media="screen" />
<link rel="stylesheet" href="/skins/epic/resources/prettify.css?303" media="screen" />
<link rel="stylesheet" href="/skins/epic/resources/jquery.qtip.css?303" media="screen" /><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="https://wiki.unrealengine.com/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=epic&amp;*" />
<style>a:lang(ar),a:lang(ckb),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: my_wiki:resourceloader:filter:minify-css:7:07b6a8ccf3fd62e770f192d0a6f8e123 */</style>

<script src="https://wiki.unrealengine.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=epic&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Visual_Effects:_Lesson_07B:_Creating_and_Using_GPU_Particle_Simulations","wgTitle":"Visual Effects: Lesson 07B: Creating and Using GPU Particle Simulations","wgCurRevisionId":14666,"wgRevisionId":14666,"wgArticleId":2884,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Tutorials","Particle","Epic Created Content"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Visual_Effects:_Lesson_07B:_Creating_and_Using_GPU_Particle_Simulations","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"templateEditor":false,"templates":false,"preview":true,"previewDialog":false,"publish":true,"toc":false}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function(){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"epic","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"vector-simplesearch":1,"watchcreations":0,"watchdefault":0,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,
"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"useeditwarning":1,"prefershttps":1,"usebetatoolbar":1,"usebetatoolbar-cgd":1,"wikieditor-preview":1,"wikieditor-publish":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function(){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: my_wiki:resourceloader:filter:minify-js:7:2197af7670c41256853f340e275ede1b */
}</script>
<script src="https://wiki.unrealengine.com/load.php?debug=false&amp;lang=en&amp;modules=skins.epic.extras.js%7Cskins.epic.fancybox.js%7Cskins.epic.js%7Cskins.epic.qtip.js%7Cskins.epic.slimscroll.js&amp;only=scripts&amp;skin=epic&amp;*"></script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/epic/csshover.min.htc")}</style><![endif]--><script type="text/javascript">
var experimentID = false;
var cxApi = null;
var variation = 0;
var fancyTitle = "";
var CE_SNAPSHOT_NAME = document.getElementsByTagName("title")[0].innerHTML;
$(document).ready(function(){
	if(experimentID != false)
	{
		$(head).append('<script src="//www.google-analytics.com/cx/api.js?experiment=' + experimentID + '" />' + '</scr' + 'ipt>');
		HandleExperiment();
	}
	else
	{
		CE_SNAPSHOT_NAME = (fancyTitle != "" ? fancyTitle : document.getElementsByTagName("title")[0].innerHTML);
		setTimeout(function () {
			var a = document.createElement("script");
			var b = document.getElementsByTagName("script")[0];
			a.src = document.location.protocol + "//script.crazyegg.com/pages/scripts/0028/4572.js?" + Math.floor(new Date().getTime() / 3600000);
			a.async = true; a.type = "text/javascript"; b.parentNode.insertBefore(a, b)
		}, 1);	
	}
});
function HandleExperiment()
{
	CE_SNAPSHOT_NAME = (fancyTitle != "" ? fancyTitle : document.getElementsByTagName("title")[0].innerHTML);
	if(cxApi != null)
	{
		variation = cxApi.chooseVariation();
		cxApi.setChosenVariation(variation, experimentID);
		if(variation != cxApi.ORIGINAL_VARIATION && variation != cxApi.NO_CHOSEN_VARIATION && variation != cxApi.NOT_PARTICIPATING)
		{
			//var URL = document.location.href + (document.location.search != '' ? '&var=' : '?var=') + variation;
			ga('send', 'event', 'A/B', 'ID: ' + experimentID, 'Variation: ' + variation, {'nonInteraction': 1});
			//document.location.href = URL; 
			CE_SNAPSHOT_NAME = document.getElementsByTagName("title")[0].innerHTML + ' (variation ' + variation + ')';
			var test = "";
		}
		else
		{
			ga('send', 'event', 'A/B', 'ID: ' + experimentID, 'Variation: ' + variation, {'nonInteraction': 1});
		}
		ToggleExperimentContent(variation);
		setTimeout(function () {
			var a = document.createElement("script");
			var b = document.getElementsByTagName("script")[0];
			a.src = document.location.protocol + "//script.crazyegg.com/pages/scripts/0028/4572.js?" + Math.floor(new Date().getTime() / 3600000);
			a.async = true; a.type = "text/javascript"; b.parentNode.insertBefore(a, b)
		}, 1);
	}
	else
	{
		setTimeout("HandleExperiment()", 500);
	}
}

function ToggleExperimentContent(variation)
{
	$('.AB').hide();
	$('#variation_' + variation).show();
}
</script></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Visual_Effects_Lesson_07B_Creating_and_Using_GPU_Particle_Simulations skin-epic action-view vector-animateLayout">
		<!--<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>-->
		<!-- Google Tag Manager -->
		<noscript>
			<iframe src="//www.googletagmanager.com/ns.html?id=GTM-KWRD6D"
					height="0" width="0" style="display:none;visibility:hidden"></iframe>
		</noscript>
		<script>
		(function (w, d, s, l, i) {
		w[l] = w[l] || []; w[l].push({
		'gtm.start':
		new Date().getTime(), event: 'gtm.js'
		}); var f = d.getElementsByTagName(s)[0],
		j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
		'//www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
		})(window, document, 'script', 'dataLayer', 'GTM-KWRD6D');</script>
		<!-- End Google Tag Manager -->
		<div id="webThree">
		<div id="head">
		





<input type="hidden" id="updateenable" value="true">

    <script src="https://cdn1.unrealengine.com/2670222/unifiedHeaderBundle-c133cbefbece60d20fd29c5b1819fa39.js" defer></script>
    <link rel="stylesheet" href="https://cdn1.unrealengine.com/2670222/unifiedHeader-dd083735d5017970978496baee5b916e.css">


<header id="header" data-path="/" data-sitepath="https://www.unrealengine.com">
<input type="hidden" id="isUnified" value="1" />
    <input type="hidden" id="current_locale" value="en_US"/>
    <input type="hidden" id="header-host" value="https://www.unrealengine.com" />
    <nav class="main-menu">
        <div class="menu-mobile">
            <span class="menu-mobile-icon"></span>
            <ul>

                
                    

                        
                            <li class="menu-mobile-sub">
                                <a href="#" class="mobile-link">About</a>
                                <ul>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/what-is-unreal-engine-4">Overview</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/unreal-engine-4">Features</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/vr-page">Virtual Reality</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/showcase">Showcase</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/49-release-notes-overview">What&#39;s New</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/faq">FAQ / EULA</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/previous-versions">Previous Versions</a>
                                            
                                        </li>
                                    
                                </ul>
                            </li>
                        

                    
                
                    

                        
                            <li class="menu-mobile-sub">
                                <a href="#" class="mobile-link">Learn</a>
                                <ul>
                                    
                                        <li>
                                            
                                                <a href="https://docs.unrealengine.com/" target="_blank">Documentation</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://wiki.unrealengine.com/Videos " target="_blank">Video Tutorials</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://wiki.unrealengine.com/Main_Page" target="_blank">Wiki</a>
                                            
                                        </li>
                                    
                                </ul>
                            </li>
                        

                    
                
                    

                        
                            <li class="menu-mobile-sub">
                                <a href="#" class="mobile-link">Community</a>
                                <ul>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/blog">Blog</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://forums.unrealengine.com/" target="_blank">Forums</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://answers.unrealengine.com/" target="_blank">AnswerHub</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://trello.com/b/gHooNW9I/ue4-roadmap" target="_blank">Roadmap</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/unrealdevgrants">Unreal Dev Grants</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="http://www.unrealtournament.com/blog/" target="_blank">Unreal Tournament</a>
                                            
                                        </li>
                                    
                                </ul>
                            </li>
                        

                    
                
                    

                        
                            <li class="menu-mobile-sub">
                                <a href="#" class="mobile-link">Marketplace</a>
                                <ul>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/marketplace">Browse</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://publish.unrealengine.com/faq" target="_blank">Business Terms</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://publish.unrealengine.com/submission-guidelines" target="_blank">Submission Guidelines</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://publish.unrealengine.com/welcome" target="_blank">Submit Your Content</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://forums.unrealengine.com/forumdisplay.php?56-Marketplace" target="_blank">Marketplace Forums</a>
                                            
                                        </li>
                                    
                                </ul>
                            </li>
                        

                    
                
                    

                        
                            <li class="menu-mobile-sub">
                                <a href="#" class="mobile-link">Academia</a>
                                <ul>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/education">Education Program</a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="https://www.unrealengine.com/academic-partners">Academic Partners</a>
                                            
                                        </li>
                                    
                                </ul>
                            </li>
                        

                    
                
                
                <li class="btn-account ignore" style="display: none">
                    <a href="https://www.unrealengine.com/dashboard">Account</a>
                </li>
                <li class="btn-signout ignore" style="display: none">
                    <a class="sso-sign-out" href="">Log Out</a>
                </li>
                <li class="btn-signin ignore" style="display: none">
                    <a class="sso-sign-in" href="">Sign in</a>
                </li>
            </ul>
        </div>

        <ul class="menu-items">
            <li class="logo ignore">
                
                    <a href="https://www.unrealengine.com/blog"></a>
                
            </li>

            
                

                    
                        <li>
                            
                                <a>About</a>
                            

                            <ul>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/what-is-unreal-engine-4">Overview</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/unreal-engine-4">Features</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/vr-page">Virtual Reality</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/showcase">Showcase</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/49-release-notes-overview">What&#39;s New</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/faq">FAQ / EULA</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/previous-versions">Previous Versions</a>
                                        
                                    </li>
                                
                            </ul>
                        </li>
                    

                
            
                

                    
                        <li>
                            
                                <a>Learn</a>
                            

                            <ul>
                                
                                    <li>
                                        
                                            <a href="https://docs.unrealengine.com/" target="_blank">Documentation</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://wiki.unrealengine.com/Videos " target="_blank">Video Tutorials</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://wiki.unrealengine.com/Main_Page" target="_blank">Wiki</a>
                                        
                                    </li>
                                
                            </ul>
                        </li>
                    

                
            
                

                    
                        <li>
                            
                                <a>Community</a>
                            

                            <ul>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/blog">Blog</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://forums.unrealengine.com/" target="_blank">Forums</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://answers.unrealengine.com/" target="_blank">AnswerHub</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://trello.com/b/gHooNW9I/ue4-roadmap" target="_blank">Roadmap</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/unrealdevgrants">Unreal Dev Grants</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="http://www.unrealtournament.com/blog/" target="_blank">Unreal Tournament</a>
                                        
                                    </li>
                                
                            </ul>
                        </li>
                    

                
            
                

                    
                        <li>
                            
                                <a>Marketplace</a>
                            

                            <ul>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/marketplace">Browse</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://publish.unrealengine.com/faq" target="_blank">Business Terms</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://publish.unrealengine.com/submission-guidelines" target="_blank">Submission Guidelines</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://publish.unrealengine.com/welcome" target="_blank">Submit Your Content</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://forums.unrealengine.com/forumdisplay.php?56-Marketplace" target="_blank">Marketplace Forums</a>
                                        
                                    </li>
                                
                            </ul>
                        </li>
                    

                
            
                

                    
                        <li>
                            
                                <a>Academia</a>
                            

                            <ul>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/education">Education Program</a>
                                        
                                    </li>
                                
                                    <li>
                                        
                                            <a href="https://www.unrealengine.com/academic-partners">Academic Partners</a>
                                        
                                    </li>
                                
                            </ul>
                        </li>
                    

                
            
        </ul>


        <div class="menu-download" data-sub="dl">
            <a class="sso-register" href="">
                <span class="isUpdateEnabled">Get Unreal</span>
            </a>
        </div>
        

        <div id="search" class="menu-search ignore">
                <span></span>
        </div>
        
        <div class="search-header">
            <div class="input-search">
                <div id="search-tips" class="search-tips-en_US">
                    You may be unable to view the results of this search unless you connect to a VPN first.
                </div>
                <span></span>
                <input type="text" name="search" value="" style="background:none !important" id="isearch" class="text" placeholder="Search..." />
                <p class="search-btn">Search</p>
            </div>
        </div>

        <ul class="menu-icons">
            <li id="btn-account" class="ignore" data-sub="account" style="display: none">
                <a href="/dashboard">Account</a>
                <ul class="account-sub-menu">
                    <li>
                        <a href="/dashboard">Personal</a>
                    </li>
                    <li>
                        <a href="https://publish.unrealengine.com/">Seller</a>
                    </li>
                </ul>
            </li>
            <li id="btn-signout" class="ignore" data-sub="account" style="display: none">
                <a class="sso-sign-out last-border" href="">Log Out</a>
            </li>
            <li id="btn-signin" class="ignore" data-sub="account" style="display: none">
                <a class="sso-sign-in last-border" href="">Sign in</a>
            </li>
        </ul>
        
    </nav>
</header>

		</div>
		<div id="pagedefault">		
                    <div id="pagenav">
                        <div>
                            <!-- Start of Other language links -->
                            <!-- End of Other language links -->
                            <div class="homelink_container">
                                <a href="https://wiki.unrealengine.com" title="UE4 Wiki Home" class="homelink">HOME</a>
                            </div>
                        </div>
                        <div style="clear:both;">
                        </div>
                    </div>	
		<div id="mw-navigation" style="max-width:972px;margin:1em auto 0 auto;">
			<h2>Navigation menu</h2>
			<div id="mw-head">
				<div id="jumplink" onclick="$('#sidebar').toggle();">
					Navigation
				</div>
				<div id="sidebar">
					<!-- Start of jump page links -->
					<div class="largetitle">
						Quick Links
					</div>
					<div class="arrowlist">
						<!-- End of jump page links -->
						<!-- Start of related page links -->
						<!-- End of related page links -->								
						<div id="mw-panel">
							<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
	<h3 id='p-navigation-label'>Navigation</h3>
	<div class="body">
		<ul>
			<li id="n-mainpage"><a href="/Main_Page" title="Visit the main page [z]" accesskey="z">Main Page</a></li>
			<li id="n-Tutorials"><a href="/Category:Tutorials">Tutorials</a></li>
			<li id="n-Videos"><a href="/Videos">Videos</a></li>
			<li id="n-Plug-ins"><a href="/Category:Plug-ins">Plug-ins</a></li>
			<li id="n-Code"><a href="/Category:Code">Code</a></li>
			<li id="n-Games"><a href="/Category:Games">Games</a></li>
			<li id="n-Unreal-Tournament"><a href="/Category:Unreal_Tournament">Unreal Tournament</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
	<h3 id='p-tb-label'>Tools</h3>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="/Special:WhatLinksHere/Visual_Effects:_Lesson_07B:_Creating_and_Using_GPU_Particle_Simulations" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="/Special:RecentChangesLinked/Visual_Effects:_Lesson_07B:_Creating_and_Using_GPU_Particle_Simulations" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li id="t-print"><a href="/index.php?title=Visual_Effects:_Lesson_07B:_Creating_and_Using_GPU_Particle_Simulations&amp;oldid=14666&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
			<li id="t-permalink"><a href="/index.php?title=Visual_Effects:_Lesson_07B:_Creating_and_Using_GPU_Particle_Simulations&amp;oldid=14666" title="Permanent link to this revision of the page">Permanent link</a></li>
			<li id="t-info"><a href="/index.php?title=Visual_Effects:_Lesson_07B:_Creating_and_Using_GPU_Particle_Simulations&amp;action=info">Page information</a></li>
		</ul>
	</div>
</div>
						</div>
					</div>
				</div>				
				<div id="left-navigation">
					<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
	<h3 id="p-namespaces-label">Namespaces</h3>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="/Visual_Effects:_Lesson_07B:_Creating_and_Using_GPU_Particle_Simulations"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="/index.php?title=Talk:Visual_Effects:_Lesson_07B:_Creating_and_Using_GPU_Particle_Simulations&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>
<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
	<h3 id="mw-vector-current-variant">
		</h3>
	<h3 id="p-variants-label"><span>Variants</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
				</div>
				<div id="right-navigation">
					<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
	<h3 id="p-views-label">Views</h3>
	<ul>
					<li id="ca-view" class="selected"><span><a href="/Visual_Effects:_Lesson_07B:_Creating_and_Using_GPU_Particle_Simulations" >View</a></span></li>
					<li id="ca-viewsource"><span><a href="/index.php?title=Visual_Effects:_Lesson_07B:_Creating_and_Using_GPU_Particle_Simulations&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="/index.php?title=Visual_Effects:_Lesson_07B:_Creating_and_Using_GPU_Particle_Simulations&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">History</a></span></li>
			</ul>
</div>
<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
	<h3 id="p-cactions-label"><span>Actions</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
	<h3 id="p-personal-label">Personal tools</h3>
	<ul>
<li id="pt-createaccount"><a href="/index.php?title=Special:UserLogin&amp;returnto=Visual+Effects%3A+Lesson+07B%3A+Creating+and+Using+GPU+Particle+Simulations&amp;returntoquery=oldid%3D14666&amp;type=signup">Create account</a></li><li id="pt-login"><a href="/index.php?title=Special:UserLogin&amp;returnto=Visual+Effects%3A+Lesson+07B%3A+Creating+and+Using+GPU+Particle+Simulations&amp;returntoquery=oldid%3D14666" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>	</ul>
</div>
				</div>
			</div>
		</div>
		<div id="maincol">
		<div class="mw-body" role="main">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<!-- Start of crumbs links -->
			<div class="crumbs">
			<p>
							</p>
			</div>
			<!-- End of crumbs links -->
			<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Visual Effects: Lesson 07B: Creating and Using GPU Particle Simulations</span></h1>
			<div id="bodyContent">
				<div id="contentSub"><div id="mw-revision-info">Revision as of 22:34, 8 July 2015 by <a href="/index.php?title=User:Ian_rich&amp;action=edit&amp;redlink=1" class="new mw-userlink" title="User:Ian rich (page does not exist)">Ian rich</a>  <span class="mw-usertoollinks">(<a href="/index.php?title=User_talk:Ian_rich&amp;action=edit&amp;redlink=1" class="new" title="User talk:Ian rich (page does not exist)">Talk</a> | <a href="/Special:Contributions/Ian_rich" title="Special:Contributions/Ian rich">contribs</a>)</span></div><br />
				<div id="mw-revision-nav">(<a href="/index.php?title=Visual_Effects:_Lesson_07B:_Creating_and_Using_GPU_Particle_Simulations&amp;diff=prev&amp;oldid=14666" title="Visual Effects: Lesson 07B: Creating and Using GPU Particle Simulations">diff</a>) <a href="/index.php?title=Visual_Effects:_Lesson_07B:_Creating_and_Using_GPU_Particle_Simulations&amp;direction=prev&amp;oldid=14666" title="Visual Effects: Lesson 07B: Creating and Using GPU Particle Simulations">← Older revision</a> | Latest revision (diff) | Newer revision → (diff)</div></div>
																<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p><br />
</p>
<h2><span class="mw-headline" id="Creating_a_new_GPU_particle_system">Creating a new GPU particle system</span></h2>
<p>Building on the last lesson, let’s get started by creating a new particle system. If you don’t know how to create a new particle system, you may have jumped ahead too far and I suggest reading through the previous tutorials. 
</p><p>Let’s use the material from the Initial Color module lesson, which should be a Translucent Material.  If you don’t have this material available, create a new material with a particle color control at the minimum, though reading through the previous tutorials will greatly aid in your understanding of what I will do with this particular material.
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:312px;"><a href="/File:7B_1.png" class="image"><img alt="7B 1.png" src="https://d26ilriwvtzlb.cloudfront.net/d/d1/7B_1.png" width="310" height="222" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_1.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" />
</p><p>Map the material to your sprites with the Required Module, click in the black area above the Required Module, and choose Type Data\New GPU Sprites.
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:370px;"><a href="/File:7B_2.png" class="image"><img alt="7B 2.png" src="https://d26ilriwvtzlb.cloudfront.net/e/e9/7B_2.png" width="368" height="328" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_2.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" /> 
</p><p>You will now see a new GPU Sprites data module above your Required module.
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:221px;"><a href="/File:7B_3.png" class="image"><img alt="7B 3.png" src="https://d26ilriwvtzlb.cloudfront.net/a/ae/7B_3.png" width="219" height="285" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_3.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" /> 
</p><p>Delete the Color Over Life module and add an Initial Color and Scale Color module right away and start making that part of our work flow.
</p><p>You’ll notice after clicking on the GPU Sprites Module that there is a Camera Motion Blur Amount options box.
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:402px;"><a href="/File:7B_4.png" class="image"><img alt="7B 4.png" src="https://d3ar1piqh1oeli.cloudfront.net/d/dd/7B_4.png/400px-7B_4.png" width="400" height="109" class="thumbimage" srcset="https://d26ilriwvtzlb.cloudfront.net/d/dd/7B_4.png 1.5x, https://d26ilriwvtzlb.cloudfront.net/d/dd/7B_4.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_4.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" /> 
</p><p>Changing this value now will not yield any result until we edit our material.
</p><p>Open the master material of your Translucent material and add the Particle Motion Blur Fade expression to your material.
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:402px;"><a href="/File:7B_5.png" class="image"><img alt="7B 5.png" src="https://d3ar1piqh1oeli.cloudfront.net/d/dd/7B_5.png/400px-7B_5.png" width="400" height="249" class="thumbimage" srcset="https://d3ar1piqh1oeli.cloudfront.net/d/dd/7B_5.png/600px-7B_5.png 1.5x, https://d3ar1piqh1oeli.cloudfront.net/d/dd/7B_5.png/800px-7B_5.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_5.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" />
</p><p>This expression will stretch the vertices of your sprite, dependent upon the direction and velocity of your camera’s movement in the scene.  C ompile your material and return to Cascade.
</p><p>Set your Camera Motion Blur Amount to 12 and move your camera in the viewport.  You will see the particles stretch toward and away from your camera.
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:402px;"><a href="/File:7B_6.png" class="image"><img alt="7B 6.png" src="https://d3ar1piqh1oeli.cloudfront.net/6/68/7B_6.png/400px-7B_6.png" width="400" height="406" class="thumbimage" srcset="https://d26ilriwvtzlb.cloudfront.net/6/68/7B_6.png 1.5x, https://d26ilriwvtzlb.cloudfront.net/6/68/7B_6.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_6.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" />  
</p><p>This can be especially useful for effects like rain or snow, as it adds another element of motion to your effects, and is only visible when the camera is actually moving.
</p><p>You can play with this value to see what works for your effects.
</p><p>Note we have a warning message on screen about the bounds of our effect. It is important to set fixed bounds on your particles as this contributes to evaluation cost, and can be very expensive with multiple particle systems in a scene.
</p><p>GPU particles in particular need fixed bounds because the CPU handles culling. Since GPU particle simulations are handled on the GPU, the CPU has no idea where those particles are located, and your particle bounds define the region for proper culling.
</p><p>I typically wait until I have my effect further along before setting bounds, but let’s go ahead and do this now for illustration purposes.
</p><p>Click in the black area to the right of your emitter stack.
</p><p>Note the difference in your Details Panel:
</p><p>Clicking on an emitter:
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:186px;"><a href="/File:7B_7.png" class="image"><img alt="7B 7.png" src="https://d26ilriwvtzlb.cloudfront.net/8/80/7B_7.png" width="184" height="201" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_7.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" /> 
</p><p>Clicking in the black area
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:184px;"><a href="/File:7B_8.png" class="image"><img alt="7B 8.png" src="https://d26ilriwvtzlb.cloudfront.net/f/f3/7B_8.png" width="182" height="247" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_8.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" /> 
</p><p>By clicking the empty space you are telling Cascade you wish to manage the properties of your particle system as a whole.  This is where we manage settings relevant to the entire particle system (a collection of emitters).
</p><p>Scroll down and look for the Bounds section.
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:402px;"><a href="/File:7B_9.png" class="image"><img alt="7B 9.png" src="https://d3ar1piqh1oeli.cloudfront.net/9/98/7B_9.png/400px-7B_9.png" width="400" height="122" class="thumbimage" srcset="https://d26ilriwvtzlb.cloudfront.net/9/98/7B_9.png 1.5x, https://d26ilriwvtzlb.cloudfront.net/9/98/7B_9.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_9.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" /> 
</p><p>You can see we currently have no fixed bounds.  If I check the box which says Use Fixed Relative Bounding Box, the bounding box will be entirely too small for my particles.  To illustrate how bounds work let’s go ahead and check the box and leave the bounds very small.
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:402px;"><a href="/File:7B_10.png" class="image"><img alt="7B 10.png" src="https://d3ar1piqh1oeli.cloudfront.net/e/e3/7B_10.png/400px-7B_10.png" width="400" height="118" class="thumbimage" srcset="https://d26ilriwvtzlb.cloudfront.net/e/e3/7B_10.png 1.5x, https://d26ilriwvtzlb.cloudfront.net/e/e3/7B_10.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_10.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" /> 
</p><p>Now let’s go to our initial size module and change the size of our sprites to 50 in X.
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:402px;"><a href="/File:7B_11.png" class="image"><img alt="7B 11.png" src="https://d3ar1piqh1oeli.cloudfront.net/6/6a/7B_11.png/400px-7B_11.png" width="400" height="136" class="thumbimage" srcset="https://d26ilriwvtzlb.cloudfront.net/6/6a/7B_11.png 1.5x, https://d26ilriwvtzlb.cloudfront.net/6/6a/7B_11.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_11.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" /> 
</p><p>Next, find your particle system in the content browser with the eyeglass and drag and drop your effect into the world.
</p><p>Place your camera so that your effect is right near the edge of the frame like this…
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:402px;"><a href="/File:7B_12.png" class="image"><img alt="7B 12.png" src="https://d3ar1piqh1oeli.cloudfront.net/4/46/7B_12.png/400px-7B_12.png" width="400" height="578" class="thumbimage" srcset="https://d26ilriwvtzlb.cloudfront.net/4/46/7B_12.png 1.5x, https://d26ilriwvtzlb.cloudfront.net/4/46/7B_12.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_12.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" /> 
</p><p>Then, pan your camera so the center of the system disappears out of frame.  Your particle system should pop -out of view, even though the emitterActor is still visible.
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:299px;"><a href="/File:7B_13.png" class="image"><img alt="7B 13.png" src="https://d26ilriwvtzlb.cloudfront.net/b/b4/7B_13.png" width="297" height="631" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_13.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" />  
</p><p>This can be very undesirable behavior because your sprites clip out before they reach the edge of your frame, resulting in a noticeable pop.  Particle bounds help the renderer know which elements are safe to render, and which to cull.  Bounds can be your first line of defense against slow frame rate, and tight, optimized bounds can help determine whether or not an effect is rendered.
 
Let’s look at the bounds of our effect in Cascade by clicking on the Bounds button.
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:402px;"><a href="/File:7B_14.png" class="image"><img alt="7B 14.png" src="https://d3ar1piqh1oeli.cloudfront.net/0/0b/7B_14.png/400px-7B_14.png" width="400" height="428" class="thumbimage" srcset="https://d26ilriwvtzlb.cloudfront.net/0/0b/7B_14.png 1.5x, https://d26ilriwvtzlb.cloudfront.net/0/0b/7B_14.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_14.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" />  
</p><p>It may not be immediately apparent but the tiny blue box in the viewport represents the bounds of our effect.  Once this box is out of view, UE4 will stop rendering the effect.  There are two ways to change the bounds of your effect.  If you are only using particles in your effect, you can choose the drop-down arrow of the Bounds button and choose Set Fixed Bounds.
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:304px;"><a href="/File:7B_15.png" class="image"><img alt="7B 15.png" src="https://d26ilriwvtzlb.cloudfront.net/9/98/7B_15.png" width="302" height="222" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_15.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" />  
</p><p>This will calculate the bounds for you and set them to an appropriate size.
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:402px;"><a href="/File:7B_16.png" class="image"><img alt="7B 16.png" src="https://d3ar1piqh1oeli.cloudfront.net/2/2e/7B_16.png/400px-7B_16.png" width="400" height="413" class="thumbimage" srcset="https://d26ilriwvtzlb.cloudfront.net/2/2e/7B_16.png 1.5x, https://d26ilriwvtzlb.cloudfront.net/2/2e/7B_16.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_16.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" /> 
</p><p>Depending on your game, you may or may not need bounds this large.  Typically, for performance optimizations we constrict our bounds as much as possible to the most important elements of an effect.  If you have small, high-frequency detail which is not 100% necessary for your effect, you might consider constricting your bounds and allowing those elements to fly outside of them.
Constricting Bounds has two effects:
</p><p>1&gt;	You reduce the number of sprites simulated and rendered.
2&gt;	You reduce visual noise which may not be relevant to gameplay at hand and might enter the frame from far off screen.
</p><p>This is a choice you make per effect based on the relevance of that effect to gameplay.  Environment effects especially can make use of tightly managed bounds.
</p><p>Next up…
</p><p>GPU Particles lack one powerful functionality that you may be accustomed to using with CPU particles; a Dynamic Parameter module.  But, don’t fret, as there is still a way to manipulate material parameters, but we have to give up some color control.
</p><p>Let’s start by duplicating our Material and renaming it so that we know it is specifically for GPU particle usage.
</p><p>I’ll name mine M_Trans_Unlit_DepthFade_GPU.  This name lets me know even before it's opened that I intend to use this with GPU particles.
</p><p>When we look at the Material we are multiplying the output of the RGB of our emissive texture by the RBG output of our Particle color, meaning I have direct control over all 3 Floats as a Vector.
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:402px;"><a href="/File:7B_17.png" class="image"><img alt="7B 17.png" src="https://d3ar1piqh1oeli.cloudfront.net/2/21/7B_17.png/400px-7B_17.png" width="400" height="255" class="thumbimage" srcset="https://d3ar1piqh1oeli.cloudfront.net/2/21/7B_17.png/600px-7B_17.png 1.5x, https://d3ar1piqh1oeli.cloudfront.net/2/21/7B_17.png/800px-7B_17.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_17.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" />  
</p><p>But I can break these out into individual floats as denoted by the pins on the Particle Color Expression.
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:180px;"><a href="/File:7B_18.png" class="image"><img alt="7B 18.png" src="https://d26ilriwvtzlb.cloudfront.net/6/6a/7B_18.png" width="178" height="216" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_18.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" />  
</p><p>Start by multiplying our texture by a Vector we will name EmissiveColor.  Hold the V key and click in the grid space of the Material editor to create a 4 Vector Color Parameter which you can rename EmissiveColor.  Plug your output of the Multiply into the same Multiply that your EmissiveTexture was previously plugged into.
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:402px;"><a href="/File:7B_19.png" class="image"><img alt="7B 19.png" src="https://d3ar1piqh1oeli.cloudfront.net/b/bc/7B_19.png/400px-7B_19.png" width="400" height="424" class="thumbimage" srcset="https://d26ilriwvtzlb.cloudfront.net/b/bc/7B_19.png 1.5x, https://d26ilriwvtzlb.cloudfront.net/b/bc/7B_19.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_19.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" />  
 
I gave mine a value of 0,0,1 so I can easily see the result in the Material preview window.
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:402px;"><a href="/File:7B_20.png" class="image"><img alt="7B 20.png" src="https://d3ar1piqh1oeli.cloudfront.net/1/1f/7B_20.png/400px-7B_20.png" width="400" height="712" class="thumbimage" srcset="https://d26ilriwvtzlb.cloudfront.net/1/1f/7B_20.png 1.5x, https://d26ilriwvtzlb.cloudfront.net/1/1f/7B_20.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_20.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" />  
</p><p>Next, string up the R channel of the Particle Color expression to the multiply of our EmissiveTexture and EmissiveColor.
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:402px;"><a href="/File:7B_21.png" class="image"><img alt="7B 21.png" src="https://d3ar1piqh1oeli.cloudfront.net/d/d1/7B_21.png/400px-7B_21.png" width="400" height="491" class="thumbimage" srcset="https://d26ilriwvtzlb.cloudfront.net/d/d1/7B_21.png 1.5x, https://d26ilriwvtzlb.cloudfront.net/d/d1/7B_21.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_21.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" />  
</p><p>Our Red Channel will now act as a scalar to the EmissiveColor. We will have to define our Color in the material, but we can still manipulate color scale.
</p><p>Next connect the Green of the Particle Color expression to the Fade Distance of our DepthFade expression
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:402px;"><a href="/File:7B_22.png" class="image"><img alt="7B 22.png" src="https://d3ar1piqh1oeli.cloudfront.net/8/85/7B_22.png/400px-7B_22.png" width="400" height="198" class="thumbimage" srcset="https://d3ar1piqh1oeli.cloudfront.net/8/85/7B_22.png/600px-7B_22.png 1.5x, https://d3ar1piqh1oeli.cloudfront.net/8/85/7B_22.png/800px-7B_22.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_22.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" /> 
 
This will allow us to explicitly control our PerParticle Fade Distance as we had previously with the Dynamic parameter.
Plug the output of the Particle Color Blue channel into our NearCameraFade Material Function.
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:402px;"><a href="/File:7B_23.png" class="image"><img alt="7B 23.png" src="https://d3ar1piqh1oeli.cloudfront.net/3/32/7B_23.png/400px-7B_23.png" width="400" height="263" class="thumbimage" srcset="https://d26ilriwvtzlb.cloudfront.net/3/32/7B_23.png 1.5x, https://d26ilriwvtzlb.cloudfront.net/3/32/7B_23.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_23.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" /> 
</p><p>Again, we lose the ability to control direct color over the life of our particle, but we maintain the ability to Scale color, manipulate Depth Fade Distance, and the Near Camera Fade distance.  Arguably this is more powerful than simply changing color over life, but it all really depends on your usage case.
Let’s compile our material and map that material to our sprites in Cascade.
You should now have Blue particles emitting in your viewport.
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:339px;"><a href="/File:7B_24.png" class="image"><img alt="7B 24.png" src="https://d26ilriwvtzlb.cloudfront.net/6/61/7B_24.png" width="337" height="364" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_24.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" />
</p><p>If you want a different color Particle, return to the Content Browser and right-click your Material and choose Create Material Instance.
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:402px;"><a href="/File:7B_25.png" class="image"><img alt="7B 25.png" src="https://d3ar1piqh1oeli.cloudfront.net/0/0f/7B_25.png/400px-7B_25.png" width="400" height="143" class="thumbimage" srcset="https://d3ar1piqh1oeli.cloudfront.net/0/0f/7B_25.png/600px-7B_25.png 1.5x, https://d26ilriwvtzlb.cloudfront.net/0/0f/7B_25.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_25.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" /> 
 
Open your MIC and check the EmissiveColor box and change the color with the color picker., I chose a lovely lavender, as well as a change to my texture to help show the feature.
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:402px;"><a href="/File:7B_26.png" class="image"><img alt="7B 26.png" src="https://d3ar1piqh1oeli.cloudfront.net/d/dd/7B_26.png/400px-7B_26.png" width="400" height="150" class="thumbimage" srcset="https://d26ilriwvtzlb.cloudfront.net/d/dd/7B_26.png 1.5x, https://d26ilriwvtzlb.cloudfront.net/d/dd/7B_26.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_26.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" /> 
 
Return to Cascade and map your MIC to the Required module.
This might be a good time to save all of your work 
Now that we are managing more than just our color with Particle Color, the workflow tricks I showed you with the Initial Color module in the previous lessons are really going to come in handy, allowing us to use discreet ScaleColor/Life modules to control material parameters.  But first, let’s start by setting our baseline settings.
 
Click the Initial Color module and note that if you change the R channel your effect gets brighter.
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:402px;"><a href="/File:7B_27.png" class="image"><img alt="7B 27.png" src="https://d3ar1piqh1oeli.cloudfront.net/b/b0/7B_27.png/400px-7B_27.png" width="400" height="546" class="thumbimage" srcset="https://d26ilriwvtzlb.cloudfront.net/b/b0/7B_27.png 1.5x, https://d26ilriwvtzlb.cloudfront.net/b/b0/7B_27.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_27.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" /> 
</p>
<pre> 
</pre>
<p>Place your effect in the level to see the changes your G channel creates, if you start with 0.00 you should have a hard edge, and if you change it to 500 you’ll get a nice soft fade.
</p><p>G=0.00
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:214px;"><a href="/File:7B_28.png" class="image"><img alt="7B 28.png" src="https://d26ilriwvtzlb.cloudfront.net/4/4f/7B_28.png" width="212" height="249" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_28.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" /> 
 
G=500
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:194px;"><a href="/File:7B_29.png" class="image"><img alt="7B 29.png" src="https://d26ilriwvtzlb.cloudfront.net/4/4a/7B_29.png" width="192" height="248" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_29.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" /> 
 
Next I am going to set my B channel to 300, which will be my baseline for CameraFade Distance which I will probably never animate.
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:402px;"><a href="/File:7B_30.png" class="image"><img alt="7B 30.png" src="https://d3ar1piqh1oeli.cloudfront.net/2/28/7B_30.png/400px-7B_30.png" width="400" height="366" class="thumbimage" srcset="https://d3ar1piqh1oeli.cloudfront.net/2/28/7B_30.png/600px-7B_30.png 1.5x, https://d26ilriwvtzlb.cloudfront.net/2/28/7B_30.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_30.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" /> 
  
To control my Color Scale and my Depth Fade over life, I will add two ScaleColor/Life modules - one explicitly mapped to my R channel, and one explicitly mapped to my G channel -and I will stack them so that R is the top, and G is the bottom since I am accustomed to R,G,B in material language.
Depending on what you are doing, you may not need to setup two colorScale/Life modules, but I choose to do this so I can control timing separately.  As an optimization, Cascade will always plot a point along all channels of a module's curve timeline, so if you add a point to R, you will manipulate G.
</p><p>I manipulated the R color curve of my ScaleColor/Life module so that my particles start scaling the R by 12 when spawned, and quickly scale down to .1 of my initial color value through the lifespan of the sprite.
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:402px;"><a href="/File:7B_31.png" class="image"><img alt="7B 31.png" src="https://d3ar1piqh1oeli.cloudfront.net/3/33/7B_31.png/400px-7B_31.png" width="400" height="454" class="thumbimage" srcset="https://d26ilriwvtzlb.cloudfront.net/3/33/7B_31.png 1.5x, https://d26ilriwvtzlb.cloudfront.net/3/33/7B_31.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_31.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" /> 
</p><p>Make sure to leave your Y,Z values at 1, or you will multiply by whatever value you enter and scale Depth Fade, and Camera Depth values accidentally.
</p><p>This yields a color scaled result like this.…
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:293px;"><a href="/File:7B_32.png" class="image"><img alt="7B 32.png" src="https://d26ilriwvtzlb.cloudfront.net/0/03/7B_32.png" width="291" height="431" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_32.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" /> 
</p><p>I will do the same for my Depth Fade setting so that my particles start off with a hard edge and fade over time. I changed my velocity to move along X to illustrate this better.
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:402px;"><a href="/File:7B_33.png" class="image"><img alt="7B 33.png" src="https://d3ar1piqh1oeli.cloudfront.net/6/6f/7B_33.png/400px-7B_33.png" width="400" height="455" class="thumbimage" srcset="https://d26ilriwvtzlb.cloudfront.net/6/6f/7B_33.png 1.5x, https://d26ilriwvtzlb.cloudfront.net/6/6f/7B_33.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_33.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" /> 
 
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:402px;"><a href="/File:7B_34.png" class="image"><img alt="7B 34.png" src="https://d3ar1piqh1oeli.cloudfront.net/3/32/7B_34.png/400px-7B_34.png" width="400" height="97" class="thumbimage" srcset="https://d3ar1piqh1oeli.cloudfront.net/3/32/7B_34.png/600px-7B_34.png 1.5x, https://d26ilriwvtzlb.cloudfront.net/3/32/7B_34.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:7B_34.png" class="internal" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div></div></div></div>
<p><br clear="all" /> 
</p><p>I hope this setup helps further illustrate the power behind separating Initial Color and ScaleColor/Life, rather than using a Color Over Life Module in Cascade.
</p><p><br /> 
That is the basic setup of just about any GPU particle system, including a bit more advanced techniques using Particle Color to control Material parameters.  
From here you can expand your system by using Vector Fields and the Scene Depth Collision module which I will cover in the next tutorial.
</p><p>For more information on Vector Fields reference this already existing tutorial.
</p><p><a rel="nofollow" class="external free" href="https://wiki.unrealengine.com/Creating_Vector_Fields_(Tutorial)">https://wiki.unrealengine.com/Creating_Vector_Fields_(Tutorial)</a>
</p>
<ul>
<li><a href="/Visual_Effects:_Lesson_07A:_Using_GPU_Particle_Simulations" title="Visual Effects: Lesson 07A: Using GPU Particle Simulations">Go back to Lesson 07 part A</a>
</li>
<li><a href="/Visual_Effects:_Lesson_08:_Using_Depth_Buffer_Collisions_with_GPU_Particles" title="Visual Effects: Lesson 08: Using Depth Buffer Collisions with GPU Particles">Continue to Lesson 08</a>
</li>
</ul>

<!-- 
NewPP limit report
CPU time usage: 0.229 seconds
Real time usage: 1.044 seconds
Preprocessor visited node count: 37/1000000
Preprocessor generated node count: 76/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key my_wiki:pcache:idhash:2884-0!*!0!*!*!2!* and timestamp 20150919145914
 -->
</div>												<div class="printfooter">
				Retrieved from "<a href="https://wiki.unrealengine.com/index.php?title=Visual_Effects:_Lesson_07B:_Creating_and_Using_GPU_Particle_Simulations&amp;oldid=14666">https://wiki.unrealengine.com/index.php?title=Visual_Effects:_Lesson_07B:_Creating_and_Using_GPU_Particle_Simulations&amp;oldid=14666</a>"				</div>
												<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="/Category:Tutorials" title="Category:Tutorials">Tutorials</a></li><li><a href="/Category:Particle" title="Category:Particle">Particle</a></li><li><a href="/Category:Epic_Created_Content" title="Category:Epic Created Content">Epic Created Content</a></li></ul></div></div>												<div class="visualClear"></div>
							</div>
		</div>
		</div>
		</div>
		
		<div id="footer">
			<div id="brand">

			</div>
			<div id="legal">
				<div id="copyright">
					&copy; 2004-2015, Epic Games, Inc. All rights reserved. Unreal and its logo are Epic's trademarks or registered trademarks in the US and elsewhere.
				</div>
				<div id="terms">
					<a target="_blank" href="http://epicgames.com/tou">TERMS OF USE</a> | <a target="_blank" href="http://epicgames.com/privacynotice">PRIVACY POLICY</a>
				</div>
			</div>
		</div>
	</div>
		<!--<div id="footer" role="contentinfo">
										<ul id="footer-icons" class="noprint">
					<li id="footer-copyrightico">
						<div name="copyright">&#169; 2004-2014, Epic Games, Inc. All rights reserved. Epic Games, Unreal, Unreal Engine, Unreal Tournament, and their respective logos are Epic's trademarks or registered trademarks in the US and elsewhere.</div>
					</li>
					<li id="footer-termsofuseico">
						<div name="termsofuse"><a href="http://epicgames.com/tou" target="_blank">Terms of Use</a></div>
					</li>
					<li id="footer-privacynoticeico">
						<div name="privacynotice"><a href="http://epicgames.com/privacynotice" target="_blank">Privacy Policy</a></div>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>-->
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.collapsibleNav"],null,true);
}</script>
<script src="/extensions/EpicSearchSystem/Javascript/Search.js?303"></script>
<script src="https://wiki.unrealengine.com/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=epic&amp;*"></script>
<!-- Served in 1.100 secs. -->		<img src="https://tracking.unrealengine.com/track.png" width="1" height="1">
		<!--<script type="text/javascript">
			setTimeout(function () {
				var a = document.createElement("script");
				var b = document.getElementsByTagName("script")[0];
				a.src = document.location.protocol + "//script.crazyegg.com/pages/scripts/0028/4572.js?" + Math.floor(new Date().getTime() / 3600000);
				a.async = true; a.type = "text/javascript"; b.parentNode.insertBefore(a, b)
			}, 1);
		</script>-->
	</body>
</html>

		