<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>wiki.unrealengine.com</title>
    <meta name="description" content="A static site pulled from the internet archive">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/wiki.unrealengine.com/assets/css/0.styles.b0e83839.css" as="style"><link rel="preload" href="/wiki.unrealengine.com/assets/js/app.aaf63946.js" as="script"><link rel="preload" href="/wiki.unrealengine.com/assets/js/2.4f53495e.js" as="script"><link rel="preload" href="/wiki.unrealengine.com/assets/js/569.4ebca3b6.js" as="script">
    <link rel="stylesheet" href="/wiki.unrealengine.com/assets/css/0.styles.b0e83839.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wiki.unrealengine.com/" class="home-link router-link-active"><!----> <span class="site-name">wiki.unrealengine.com</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><p>How To Create Custom Blueprint Pin - Epic Wiki</p> <h1 id="how-to-create-custom-blueprint-pin"><a href="#how-to-create-custom-blueprint-pin" class="header-anchor">#</a> How To Create Custom Blueprint Pin</h1> <h2 id="about"><a href="#about" class="header-anchor">#</a> About</h2> <p>In this tutorial I will show you how to create custom Pins, which can be displayed in blueprint functions or nodes. If you ever used GameplayTags, I'm sure you noticed that some nodes have drop down tag list, you can select, instead of typing tags manually, and in this tutorial I will show you how to do it.</p> <h2 id="setting-up"><a href="#setting-up" class="header-anchor">#</a> Setting up</h2> <p>First you will need Editor module in your plugin/game project. You can find information how to add it here:</p> <p><a href="https://answers.unrealengine.com/questions/41509/extending-editor-engine.html" target="_blank" rel="noopener noreferrer">https://answers.unrealengine.com/questions/41509/extending-editor-engine.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>Once you have you module working, loading and compiling, you will need edit, editor module *.Build.cs file. So you public or private dependency modules will look like this:</p> <div class="language- extra-class"><pre><code>		PublicDependencyModuleNames.AddRange(
			new string\[\]
			{
				&quot;Core&quot;,
                &quot;Engine&quot;,
                &quot;CoreUObject&quot;,
                &quot;GameAttributes&quot;,
                &quot;UnrealEd&quot;,
                &quot;BlueprintGraph&quot;,
                &quot;GraphEditor&quot;,
                &quot;PropertyEditor&quot;,
                &quot;SlateCore&quot;,
                &quot;Slate&quot;,
                &quot;EditorStyle&quot;,
                &quot;Kismet&quot;,
                &quot;KismetCompiler&quot;
				// ... add other public dependencies that you statically link with here ...
			}
			);
</code></pre></div><p>GameAttributes is my custom module, you should add here you custom modules, to which you want have dependencies.</p> <p>You will also need struct to customize your pin. I'm pretty sure you can do it against any type (including default Unreal Types), but I strongly advise to not do it. Since you end up with customizing everything, in every node, which might not need itÂ ðŸ˜‰.</p> <p>Create new header file in your runtime module (or add to any existing file) new USTRUCT()</p> <p>USTRUCT(BlueprintType)
struct FGAAttribute
{
GENERATED_USTRUCT_BODY()
public:
//It's important to mark property as UPROPERTY(), it doesn't need to have any specifiers though.
UPROPERTY(BlueprintReadOnly)
FName AttributeName;
};</p> <h2 id="implementation"><a href="#implementation" class="header-anchor">#</a> Implementation</h2> <p>Now we need to add several new files to project. First let's add actual pin customization class. Call it however you want, but good practice is to end it with Pin. Header:</p> <p>#pragma once
#include &quot;SlateBasics.h&quot;
#include &quot;SGraphPin.h&quot;
Â 
Â 
class SGAAttributePin : public SGraphPin
{
public:
SLATE_BEGIN_ARGS(SGAAttributePin) {}
SLATE_END_ARGS()
Â 
public:
void Construct(const FArguments&amp; InArgs, UEdGraphPin* InGraphPinObj);
//this override is used to display slate widget used forcustomization.
virtual TSharedRef&lt;SWidget&gt;	GetDefaultValueWidget() override;
void OnAttributeSelected(TSharedPtr&lt;FString&gt; ItemSelected, ESelectInfo::Type SelectInfo);
private:
TArray&lt;TSharedPtr&lt;FString&gt;&gt; AttributesList;
};</p> <p>Implementation:</p> <p>#include &quot;GameAttributesEditor.h&quot;
Â 
#include &quot;KismetEditorUtilities.h&quot;
Â 
#include &quot;STextComboBox.h&quot;
#include &quot;EdGraph/EdGraphPin.h&quot;
#include &quot;EdGraph/EdGraphSchema.h&quot;
#include &quot;GAGlobalTypes.h&quot;
#include &quot;GAAttributesBase.h&quot;
#include &quot;GAAttributePin.h&quot;
Â 
void SGAAttributePin::Construct(const FArguments&amp; InArgs, UEdGraphPin* InGraphPinObj)
{
AttributesList.Empty();
Â 
SGraphPin::Construct(SGraphPin::FArguments(), InGraphPinObj);
}
TSharedRef&lt;SWidget&gt;	SGAAttributePin::GetDefaultValueWidget()
{
//AttributesList.Empty();
return	SNew(STextComboBox) //note you can display any widget here
.OptionsSource(&amp;AttributesList)
.OnSelectionChanged(this, &amp;SGAAttributePin::OnAttributeSelected);
Â 
}
void SGAAttributePin::OnAttributeSelected(TSharedPtr&lt;FString&gt; ItemSelected, ESelectInfo::Type SelectInfo)
{
//FString CurrentValue = GraphPinObj-&gt;GetDefaultAsString();
FString CurrentDefaultValue = GraphPinObj-&gt;GetDefaultAsString();
FString attribute = *ItemSelected;
if (CurrentDefaultValue.IsEmpty())
{
CurrentDefaultValue = FString(TEXT(&quot;()&quot;));
}
//here we construct, setter for value in struct.
//open it with (
FString AttributeString = TEXT(&quot;(&quot;);
if (!attribute.IsEmpty())
{<br>
//now set here proerty name from USTRUCT(), \&quot; - will add opening &quot;
// so it will look like AttributeName=&quot;
AttributeString += TEXT(&quot;AttributeName=\&quot;&quot;);
//add value you want to set to your property&quot;
AttributeString += attribute;
//close with &quot;
AttributeString += TEXT(&quot;\&quot;&quot;);
}
//and at last add ) so it will look like (AttributeName=&quot;Value&quot;);
AttributeString += TEXT(&quot;)&quot;);
//and here we set our value to parameter if it different than last one.
if (!CurrentDefaultValue.Equals(AttributeString))
{
GraphPinObj-&gt;GetSchema()-&gt;TrySetDefaultValue(*GraphPinObj, AttributeString);
}
Â 
//if ()
}</p> <p>Voila! We have our simple custom widget done.</p> <p>Now we need Pin factory for our custom pin. Create new class and name it, in the way you will know it's pin factorÂ ðŸ˜‰.</p> <p>#pragma once
#include &quot;SlateBasics.h&quot;
#include &quot;GAGlobalTypes.h&quot;
#include &quot;EdGraph/EdGraphPin.h&quot;
#include &quot;EdGraph/EdGraphSchema.h&quot;
#include &quot;EdGraphSchema_K2.h&quot;
#include &quot;GAAttributePanelGraphPinFactory.h&quot;
#include &quot;GAAttributePin.h&quot;
#include &quot;EdGraphUtilities.h&quot;
Â 
class FGAAttributePanelGraphPinFactory : public FGraphPanelPinFactory
{
virtual TSharedPtr&lt;class SGraphPin&gt; CreatePin(class UEdGraphPin* InPin) const override
{
const UEdGraphSchema_K2* K2Schema = GetDefault&lt;UEdGraphSchema_K2&gt;();
/*
Check if pin is struct, and then check if that pin is of struct type we want customize
*/
if (InPin-&gt;PinType.PinCategory == K2Schema-&gt;PC_Struct
&amp;&amp; InPin-&gt;PinType.PinSubCategoryObject == FGAAttribute::StaticStruct())
{
return SNew(SGAAttributePin, InPin); //and return our customized pin widgetÂ ðŸ˜‰.
}
return nullptr;
}
};</p> <p>That's all! For factory.</p> <p>Last step is to register our pin factory, so it will know, when to replace pins.</p> <p>To your module implementation (YouModuleName.cpp), you will need this code, so it might end up looking like that:</p> <p>#pragma once
#include &quot;../Public/GameAttributesEditor.h&quot;
#include &quot;GAAttributePin.h&quot;
#include &quot;GAGlobalTypes.h&quot;
#include &quot;GAAttributePanelGraphPinFactory.h&quot;
Â 
Â 
#include &quot;GameAttributesEditorPrivatePCH.h&quot;
Â 
Â 
class FGameAttributesEditor : public IGameAttributesEditor
{
/** IModuleInterface implementation */
virtual void StartupModule() override
{
//create your factory and shared pointer to it.
TSharedPtr&lt;FGAAttributePanelGraphPinFactory&gt; GAAttributePanelGraphPinFactory = MakeShareable(new FGAAttributePanelGraphPinFactory());
//and now register it.
FEdGraphUtilities::RegisterVisualPinFactory(GAAttributePanelGraphPinFactory);
}
virtual void ShutdownModule() override
{
Â 
}
};
Â 
IMPLEMENT_MODULE(FGameAttributesEditor, GameAttributesEditor)</p> <p>And that's it! You now should have working pin customization. Assuming your pin widget is workingÂ ðŸ˜‰.</p> <p><a href="/index.php?title=User:Iniside&amp;action=edit&amp;redlink=1" title="User:Iniside (page does not exist)">iniside</a> (<a href="/index.php?title=User_talk:Iniside&amp;action=edit&amp;redlink=1" title="User talk:Iniside (page does not exist)">talk</a>)</p> <p>Retrieved from &quot;<a href="https://wiki.unrealengine.com/index.php?title=How_To_Create_Custom_Blueprint_Pin&amp;oldid=10747" target="_blank" rel="noopener noreferrer">https://wiki.unrealengine.com/index.php?title=How_To_Create_Custom_Blueprint_Pin&amp;oldid=10747<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>&quot;</p> <p><a href="/Special:Categories" title="Special:Categories">Category</a>:</p> <ul><li><a href="/Category:Code" title="Category:Code">Code</a></li></ul> <p><img src="https://tracking.unrealengine.com/track.png" alt=""></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/wiki.unrealengine.com/assets/js/app.aaf63946.js" defer></script><script src="/wiki.unrealengine.com/assets/js/2.4f53495e.js" defer></script><script src="/wiki.unrealengine.com/assets/js/569.4ebca3b6.js" defer></script>
  </body>
</html>
