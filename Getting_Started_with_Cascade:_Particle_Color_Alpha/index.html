<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>wiki.unrealengine.com</title>
    <meta name="description" content="A static site pulled from the internet archive">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/wiki.unrealengine.com/assets/css/0.styles.b0e83839.css" as="style"><link rel="preload" href="/wiki.unrealengine.com/assets/js/app.aaf63946.js" as="script"><link rel="preload" href="/wiki.unrealengine.com/assets/js/2.4f53495e.js" as="script"><link rel="preload" href="/wiki.unrealengine.com/assets/js/541.6a13f74a.js" as="script">
    <link rel="stylesheet" href="/wiki.unrealengine.com/assets/css/0.styles.b0e83839.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wiki.unrealengine.com/" class="home-link router-link-active"><!----> <span class="site-name">wiki.unrealengine.com</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><p>Visual Effects: Lesson 01: Material Particle Color - Epic Wiki</p> <h1 id="visual-effects-lesson-01-material-particle-color"><a href="#visual-effects-lesson-01-material-particle-color" class="header-anchor">#</a> Visual Effects: Lesson 01: Material Particle Color</h1> <p>(Redirected from <a href="/index.php?title=Getting_Started_with_Cascade:_Particle_Color_Alpha&amp;redirect=no" title="Getting Started with Cascade: Particle Color Alpha">Getting Started with Cascade: Particle Color Alpha</a>)</p> <h2 id="creating-materials-for-use-in-particle-effects-in-unreal-engine-4-0"><a href="#creating-materials-for-use-in-particle-effects-in-unreal-engine-4-0" class="header-anchor">#</a> Creating Materials for use in Particle Effects in Unreal Engine 4.0</h2> <p><strong>Beginner Level</strong></p> <p>Setting up your Material with Particle Color for use in Cascade.</p> <p>This quick lesson covers some very basic concepts of material setup for use with particle systems in Unreal Engine 4, and is intended for new users, or those wishing to get an update on new methods used in UE4.</p> <p>For this lesson we will use an unlit translucent material, and properly setup color and alpha blending.</p> <p>First we will start by creating our material by right clicking in the Content Browser and choosing Basic Assets&gt;Material.</p> <p>Name your material <em>M_Particle_ColorAlpha_Trans_Unlit</em>.</p> <p>Sometimes I like to label my materials with the blend mode so it is easy for me to see at a glance what the materials blending/lighting is. It is always possible to get this information by holding your mouse over the material icon as well. You can make your names longer or shorter at your own discretion. It can be valuable to use keywords in your naming which are easily searchable by team members etc.</p> <p>Open the material by double clicking on it in the Content Browser.</p> <p>In the Material Editor select your material output node.</p> <p><a href="/File:M_ParticleColorAlpha_Output.png"><img src="https://d26ilriwvtzlb.cloudfront.net/a/a3/M_ParticleColorAlpha_Output.png" alt="M ParticleColorAlpha Output.png"></a></p> <p><a href="/File:M_ParticleColorAlpha_Output.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>In the details panel set your Blend Mode to <strong>Translucent</strong>, and Lighting Model to <strong>Unlit</strong></p> <p><a href="/File:Blend_Mode_To_Translucent.png"><img src="https://d26ilriwvtzlb.cloudfront.net/f/f7/Blend_Mode_To_Translucent.png" alt="Blend Mode To Translucent.png"></a></p> <p><a href="/File:Blend_Mode_To_Translucent.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>Leave the lighting settings to the defaults as we will not be using them for this example.</p> <p>In the grid area of the Material Editor, add a Texture Sample by holding down T and left clicking in the space.</p> <p><strong>TIP!</strong> If you have your texture selected in the Content Browser it will automatically assign the texture when you add the node.</p> <p><a href="/File:TextureSample_ParticleColor.png"><img src="https://d26ilriwvtzlb.cloudfront.net/7/72/TextureSample_ParticleColor.png" alt="TextureSample ParticleColor.png"></a></p> <p><a href="/File:TextureSample_ParticleColor.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>Now drag off of the color output of the Texture Sample expression, let go of the mouse and begin typing &quot;<strong>multiply</strong>&quot;. This will filter the list for you; click the multiply text in the drop down to add a multiply node.</p> <p><strong>TIP!</strong> You can also press M and left click in the space to quickly drop a multiply node on the graph.</p> <p><a href="/File:TextureSample_ParticleColorMultiply.png"><img src="https://d26ilriwvtzlb.cloudfront.net/6/65/TextureSample_ParticleColorMultiply.png" alt="TextureSample ParticleColorMultiply.png"></a></p> <p><a href="/File:TextureSample_ParticleColorMultiply.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>In order for Particle Color to properly blend using the color control modules in Cascade we need to multiply our texture’s RGB color output by <strong>Particle Color</strong>. This essentially tells UE4 we are intending to modify this color in Cascade. Without this expression, you will be unable to modify your color in Cascade.</p> <p>To add the Particle Color expression drag off of your multiply input and type particlecolor.</p> <p><a href="/File:TextureMultiplyParticleColor.png"><img src="https://d26ilriwvtzlb.cloudfront.net/a/ab/TextureMultiplyParticleColor.png" alt="TextureMultiplyParticleColor.png"></a></p> <p><a href="/File:TextureMultiplyParticleColor.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>Next, plug the output of your multiply expression into the <strong>Emissive Color</strong> input of your material. Note your material preview window has updated. You can press the plane button to see the material as it will be visible on a sprite in Cascade. If the plane disappears try rotating around the Z axis in the preview window.</p> <p><a href="/File:TextureMultiplyParticleColorAttached.png"><img src="https://d26ilriwvtzlb.cloudfront.net/3/37/TextureMultiplyParticleColorAttached.png" alt="TextureMultiplyParticleColorAttached.png"></a></p> <p><a href="/File:TextureMultiplyParticleColorAttached.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p><a href="/File:MaterialViewportParticleColor.png"><img src="https://d26ilriwvtzlb.cloudfront.net/0/0d/MaterialViewportParticleColor.png" alt="MaterialViewportParticleColor.png"></a></p> <p><a href="/File:MaterialViewportParticleColor.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>Compile your material using the green apply check icon.</p> <p>Now, in your Content Browser create a new particle system by right clicking and choosing “particle system” from the list. Name it P_ColorAlpha_Blend_Test (something similar to your material name will help you find the asset again if you use this for reference later on).</p> <p>Open the effect by double clicking the Particle System in the Content Browser.</p> <p>Click the required module (yellow) and assign your material in the material field, leave the rest of the options at the defaults for this example.</p> <p><a href="/File:MaterialParticleColorsDetails.png"><img src="https://d26ilriwvtzlb.cloudfront.net/f/fa/MaterialParticleColorsDetails.png" alt="MaterialParticleColorsDetails.png"></a></p> <p><a href="/File:MaterialParticleColorsDetails.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>You will notice now, the sprites in your viewport have changed to match the new material assignment.</p> <p>To make this example easier to view, lets change some settings in the particle system. First delete the initial velocity module and set your spawn rate to 1, to make it easier to visualize the changes we are going to setup.</p> <p><a href="/File:MaterialParticleColorsDetails.png"><img src="https://d26ilriwvtzlb.cloudfront.net/f/fa/MaterialParticleColorsDetails.png" alt="MaterialParticleColorsDetails.png"></a></p> <p><a href="/File:MaterialParticleColorsDetails.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p><a href="/File:ParticleEmitterWithMaterial.png"><img src="https://d26ilriwvtzlb.cloudfront.net/c/c4/ParticleEmitterWithMaterial.png" alt="ParticleEmitterWithMaterial.png"></a></p> <p><a href="/File:ParticleEmitterWithMaterial.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>You will notice right now there isn’t much happening visually; to see a change we need to modify our Color Over Life module. Click the module and open up the color section by clicking the arrows in the Color Over Life section. Keep on clicking and open up all of the sub sections so we can see all of the curve controls.</p> <p><a href="/File:ParticleColorDetails.png"><img src="https://d26ilriwvtzlb.cloudfront.net/d/d6/ParticleColorDetails.png" alt="ParticleColorDetails.png"></a></p> <p><a href="/File:ParticleColorDetails.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>This curve can be visualized by mapping it to the timeline with the icon on the ColorOverLife module.</p> <p><a href="/File:ColorOverLifeModule.png"><img src="https://d26ilriwvtzlb.cloudfront.net/c/c4/ColorOverLifeModule.png" alt="ColorOverLifeModule.png"></a></p> <p><a href="/File:ColorOverLifeModule.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>Map the curve to the Curve Editor view, and press the <strong>All</strong> icon.</p> <p><a href="/File:CurveEditorAll.png"><img src="https://d26ilriwvtzlb.cloudfront.net/e/e2/CurveEditorAll.png" alt="CurveEditorAll.png"></a></p> <p><a href="/File:CurveEditorAll.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>This will map your curve to the entire graph so it is easy to visualize.</p> <p>In your Details panel, change the OutValue of the 0 point on your curve to 0,1,0. This will make your particle turn green, and fade to the original textures RGB color values over the lifespan of the particle.</p> <p><a href="/File:ParticleColorGreen.png"><img src="https://d26ilriwvtzlb.cloudfront.net/3/3e/ParticleColorGreen.png" alt="ParticleColorGreen.png"></a></p> <p><a href="/File:ParticleColorGreen.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>Note that your curve in the Curve Editor has changed to reflect the color settings.</p> <p><a href="/File:ColorCurve.png"><img src="https://d3ar1piqh1oeli.cloudfront.net/f/f4/ColorCurve.png/920px-ColorCurve.png" alt="ColorCurve.png"></a></p> <p><a href="/File:ColorCurve.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>Now that we have our color working, let’s setup the alpha, so our sprite fades in and out nicely.</p> <p>Go back to your material using the tabs along the top of your workspace.</p> <p><a href="/File:ParticleMaterialTab.png"><img src="https://d26ilriwvtzlb.cloudfront.net/2/22/ParticleMaterialTab.png" alt="ParticleMaterialTab.png"></a></p> <p><a href="/File:ParticleMaterialTab.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>This time, try holding down M in the graph area of the Material Editor and left click to place a multiply node. Note that this does not automatically hook up the expression to your alpha input. Drag off of the input of the multiply and connect it to the alpha of your texture sample.</p> <p>The Material Editor will display a small green check box icon when you are over a pin to which you can connect. This makes it much easier to manipulate materials later on when you have complex graphs with the view zoomed out.</p> <p><a href="/File:MaterialAlphaMultiply.png"><img src="https://d26ilriwvtzlb.cloudfront.net/3/3c/MaterialAlphaMultiply.png" alt="MaterialAlphaMultiply.png"></a></p> <p><a href="/File:MaterialAlphaMultiply.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>Connect the input of your multiply to the output of your particle color alpha, and connect the output of the multiply to the Opacity of your Material input.</p> <p><a href="/File:MaterialAlphaMultiplyConnected.png"><img src="https://d26ilriwvtzlb.cloudfront.net/8/80/MaterialAlphaMultiplyConnected.png" alt="MaterialAlphaMultiplyConnected.png"></a></p> <p><a href="/File:MaterialAlphaMultiplyConnected.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>Note in the material preview view port, the background grey color has disappeared.</p> <p><a href="/File:MaterialWithAppliedAlpha.png"><img src="https://d26ilriwvtzlb.cloudfront.net/c/cc/MaterialWithAppliedAlpha.png" alt="MaterialWithAppliedAlpha.png"></a></p> <p><a href="/File:MaterialWithAppliedAlpha.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>This is because the Alpha channel of this texture masks out the grey areas, leaving only the X,Y colored elements.</p> <p><a href="/File:MaterialAlphaMask.png"><img src="https://d26ilriwvtzlb.cloudfront.net/1/12/MaterialAlphaMask.png" alt="MaterialAlphaMask.png"></a></p> <p><a href="/File:MaterialAlphaMask.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>Return to Cascade, using the Tab on the top of your workspace. You can see now, with the default settings on the <strong>Color Over Life</strong> module, your particle is fading out over the life of the sprite. But for this example we want it to fade in and out.</p> <p><a href="/File:AlphaParticleColorDark.png"><img src="https://d26ilriwvtzlb.cloudfront.net/9/99/AlphaParticleColorDark.png" alt="AlphaParticleColorDark.png"></a></p> <p><a href="/File:AlphaParticleColorDark.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>Click the Color Over Life module and open up the alpha section.</p> <p>Note that we only have 2 points plotted along this curve and to fade this in and out we are going to need at least three.</p> <p><a href="/File:ParticleAlphaDetails.png"><img src="https://d26ilriwvtzlb.cloudfront.net/f/f6/ParticleAlphaDetails.png" alt="ParticleAlphaDetails.png"></a></p> <p><a href="/File:ParticleAlphaDetails.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>Click the small arrow all the way to the right of the 1 in the detail panel. Choose “insert”; this will add a point to the array, between 0 and 1.</p> <p><a href="/File:InsertAlphaPoint.png"><img src="https://d26ilriwvtzlb.cloudfront.net/b/bd/InsertAlphaPoint.png" alt="InsertAlphaPoint.png"></a></p> <p><a href="/File:InsertAlphaPoint.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>Set the In Val of this point to .5 and the Out Val to 1; note the changes to your alpha curve in the Curve Editor.</p> <p><a href="/File:ParticleAlphaDetails3Elements.png"><img src="https://d26ilriwvtzlb.cloudfront.net/6/63/ParticleAlphaDetails3Elements.png" alt="ParticleAlphaDetails3Elements.png"></a></p> <p><a href="/File:ParticleAlphaDetails3Elements.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>Now set the Out Val of the 0 point to 0, and your particle will linearly fade in and out over 1 second, because the lifespan of your particle is set to 1. It is important to note that this curve does exactly what the module name implies; it controls the color over the lifespan of each particle emitted by the emitter.</p> <p>Fading in and out looks better, but it is a harsh linear fade in and out. Let’s set this particle fade in and out in a nicer fashion. Or as we may say at Epic, ease it in and out.</p> <p>In the Curve Editor, you can see your <strong>ColorOverLife</strong> and <strong>AlphaOverLife</strong> both highlighted yellow. This is because you should currently have the <strong>ColorOverLifeModule</strong> selected. If you don’t, go ahead and select it now, and note the change in the Curve Editor.</p> <p><a href="/File:OverLifeCurveEditor.png"><img src="https://d26ilriwvtzlb.cloudfront.net/a/ab/OverLifeCurveEditor.png" alt="OverLifeCurveEditor.png"></a></p> <p><a href="/File:OverLifeCurveEditor.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>The view is a bit cluttered, because we have both color and alpha in view; let’s go ahead and filter this down to alpha only, by clicking the small yellow box to the right of the ColorOverLife selection.</p> <p><a href="/File:OverLifeCurveEditorDisableColor.png"><img src="https://d26ilriwvtzlb.cloudfront.net/d/d4/OverLifeCurveEditorDisableColor.png" alt="OverLifeCurveEditorDisableColor.png"></a></p> <p><a href="/File:OverLifeCurveEditorDisableColor.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>Note that the only curve we see now is the Alpha curve. To ease this in and out we can hold down Ctrl+Alt and create a marquee selection in the curve editor, grabbing all 3 points on the curve.</p> <p><a href="/File:LinearAlphaCurve.png"><img src="https://d3ar1piqh1oeli.cloudfront.net/c/c3/LinearAlphaCurve.png/920px-LinearAlphaCurve.png" alt="LinearAlphaCurve.png"></a></p> <p><a href="/File:LinearAlphaCurve.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>With all three points selected, we can smooth out the points along the curve by pressing the Auto/Clamped button.</p> <p><a href="/File:LinearAlphaCurveAutoClamped.png"><img src="https://d26ilriwvtzlb.cloudfront.net/6/65/LinearAlphaCurveAutoClamped.png" alt="LinearAlphaCurveAutoClamped.png"></a></p> <p><a href="/File:LinearAlphaCurveAutoClamped.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>This yields a much smoother fade in and fade out over the particle’s lifespan, making the effects feel more natural.</p> <p><a href="/File:LinearAlphaCurvedAuto.png"><img src="https://d3ar1piqh1oeli.cloudfront.net/9/92/LinearAlphaCurvedAuto.png/920px-LinearAlphaCurvedAuto.png" alt="LinearAlphaCurvedAuto.png"></a></p> <p><a href="/File:LinearAlphaCurvedAuto.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>Try playing with the lifespan of your particles and try moving the points along the curve to different positions. Adjusting timing and alpha settings can mean the difference between an effect which feels like it has great force and power, and one which feels slightly sluggish and lazy.</p> <p>I hope that gets you more comfortable with controlling color and alpha in Cascade. Feel free to post any questions regarding this topic in the forums!</p> <ul><li><a href="/Visual_Effects:_Lesson_02:_Using_Depth_Fade" title="Visual Effects: Lesson 02: Using Depth Fade">Continue to part 2</a></li></ul> <p>Retrieved from &quot;<a href="https://wiki.unrealengine.com/index.php?title=Visual_Effects:_Lesson_01:_Material_Particle_Color&amp;oldid=6495" target="_blank" rel="noopener noreferrer">https://wiki.unrealengine.com/index.php?title=Visual_Effects:_Lesson_01:_Material_Particle_Color&amp;oldid=6495<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>&quot;</p> <p><a href="/Special:Categories" title="Special:Categories">Categories</a>:</p> <ul><li><a href="/Category:Tutorials" title="Category:Tutorials">Tutorials</a></li> <li><a href="/Category:Particle" title="Category:Particle">Particle</a></li> <li><a href="/Category:Epic_Created_Content" title="Category:Epic Created Content">Epic Created Content</a></li></ul> <p><img src="https://tracking.unrealengine.com/track.png" alt=""></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/wiki.unrealengine.com/assets/js/app.aaf63946.js" defer></script><script src="/wiki.unrealengine.com/assets/js/2.4f53495e.js" defer></script><script src="/wiki.unrealengine.com/assets/js/541.6a13f74a.js" defer></script>
  </body>
</html>
