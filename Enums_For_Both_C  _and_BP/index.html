<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>wiki.unrealengine.com</title>
    <meta name="description" content="A static site pulled from the internet archive">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/wiki.unrealengine.com/assets/css/0.styles.b0e83839.css" as="style"><link rel="preload" href="/wiki.unrealengine.com/assets/js/app.aaf63946.js" as="script"><link rel="preload" href="/wiki.unrealengine.com/assets/js/2.4f53495e.js" as="script"><link rel="preload" href="/wiki.unrealengine.com/assets/js/489.ec6d53ac.js" as="script">
    <link rel="stylesheet" href="/wiki.unrealengine.com/assets/css/0.styles.b0e83839.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wiki.unrealengine.com/" class="home-link router-link-active"><!----> <span class="site-name">wiki.unrealengine.com</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><p>Enums For Both C++ and BP - Epic Wiki</p> <h1 id="enums-for-both-c-and-bp"><a href="#enums-for-both-c-and-bp" class="header-anchor">#</a> Enums For Both C++ and BP</h1> <p>From Epic Wiki</p> <p>Jump to: <a href="#mw-head">navigation</a>, <a href="#p-search">search</a></p> <h2 id="contents"><a href="#contents" class="header-anchor">#</a> Contents</h2> <ul><li><a href="#Overview">1 Overview</a></li> <li><a href="#BP_Graphs:_Switch_on_Enum">2 BP Graphs: Switch on Enum</a></li> <li><a href="#C.2B.2B_.h_File">3 C++ .h File</a></li> <li><a href="#Testing_the_Value_in_the_C.2B.2B">4 Testing the Value in the C++</a></li> <li><a href="#Get_Name_of_Enum_as_String">5 Get Name of Enum as String</a> <ul><li><a href="#Templatized_Version">5.1 Templatized Version</a></li></ul></li> <li><a href="#GetEnumFromString">6 GetEnumFromString</a></li> <li><a href="#Summary">7 Summary</a></li></ul> <h2 id="overview"><a href="#overview" class="header-anchor">#</a> Overview</h2> <p>Dear Community,</p> <p>Here's how you can create your own Enums that can be used with C++ and BP graphs!</p> <p>Enums basically give you ability to define a series of related types with long human-readible names, using a low-cost data type.</p> <p>These could be AI states, object types, ammo types, weapon types, tree types, or anything reallyÂ ðŸ˜ƒ</p> <p><a href="/index.php?title=File:Enumgraph.jpg"><img src="https://d3ar1piqh1oeli.cloudfront.net/e/e3/Enumgraph.jpg/800px-Enumgraph.jpg" alt="Enumgraph.jpg"></a></p> <h2 id="bp-graphs-switch-on-enum"><a href="#bp-graphs-switch-on-enum" class="header-anchor">#</a> BP Graphs: Switch on Enum</h2> <p>For BP Graphs, one of the most wonderful things about ENUMS is the ability to use Switch on Enum() instead of having to do a series of branches and testing one value many times</p> <h2 id="c-h-file"><a href="#c-h-file" class="header-anchor">#</a> C++ .h File</h2> <p>You need to add the UENUM definition above your class and then actually create a member variable in your class that you want to have be an instance of this enum.</p> <p>If you want an enum to be used in many different classes (instances of this enum in many classes) you can define the enum in some class that holds all your other important definitions like USTRUCTS().</p> <p><syntaxhighlight lang="cpp"> UENUM(BlueprintType) //&quot;BlueprintType&quot; is essential to include enum class EVictoryEnumÂ : uint8 {</syntaxhighlight></p> <div class="language- extra-class"><pre><code>   VE\_Dance 	UMETA(DisplayName=&quot;Dance&quot;),
   VE\_Rain 	UMETA(DisplayName=&quot;Rain&quot;),
</code></pre></div><p>VE_Song UMETA(DisplayName=&quot;Song&quot;) };</p> <p>UCLASS() class YourClassÂ : public YourSuperClass { GENERATED_UCLASS_BODY()</p> <p>UPROPERTY(EditAnywhere, BlueprintReadWrite, Category=Enum) EVictoryEnum VictoryEnum;</p> <p>//Rest of Class Code }; </p> <h2 id="testing-the-value-in-the-c"><a href="#testing-the-value-in-the-c" class="header-anchor">#</a> Testing the Value in the C++</h2> <p><syntaxhighlight lang="cpp"> //YourClass.CPP if(VictoryEnum == EVictoryEnum::VE_Dance) { VictoryEnum = EVictoryEnum::VE_Song; } else { VictoryEnum = EVictoryEnum::VE_Rain; } </syntaxhighlight></p> <h2 id="get-name-of-enum-as-string"><a href="#get-name-of-enum-as-string" class="header-anchor">#</a> Get Name of Enum as String</h2> <syntaxhighlight lang="cpp"><p>FString GetVictoryEnumAsString(EVictoryEnum::Type EnumValue) {</p> <p>const UEnum* EnumPtr = FindObject<UEnum>(ANY_PACKAGE, TEXT(&quot;EVictoryEnum&quot;), true);
if(!EnumPtr) return FString(&quot;Invalid&quot;);</UEnum></p> <p>return EnumPtr-&gt;GetNameByValue((int64)EnumValue); // for EnumValue == VE_Dance returns &quot;VE_Dance&quot;</p> <p>} </p></syntaxhighlight><p></p> <h3 id="templatized-version"><a href="#templatized-version" class="header-anchor">#</a> Templatized Version</h3> <p><syntaxhighlight lang="cpp"> template<typename TEnum=""> static FORCEINLINE FString GetEnumValueAsString(const FString&amp; Name, TEnum Value) {</typename></syntaxhighlight></p> <p>const UEnum* enumPtr = FindObject<UEnum>(ANY_PACKAGE, *Name, true);
if (!enumPtr)</UEnum></p> <p>{ return FString(&quot;Invalid&quot;); }</p> <p>return enumPtr-&gt;GetNameByValue((int64)Value).ToString();</p> <p>}</p> <p>// Example usage GetEnumValueAsString<EVictoryEnum>(&quot;EVictoryEnum&quot;, VictoryEnum))); </EVictoryEnum></p> <p>Also, if you want to avoid retyping the enum class name as a string on every call to GetEnumValueAsString, you can also define a c++ macro in the .h file where the function is defined.</p> <p>For example, if you have defined GetEnumValueAsString in a class UTextUtil in TextUtil.h, you would have this macro</p> <syntaxhighlight lang="cpp"><ol><li>define EnumToString(EnumClassName, ValueOfEnum) UTextUtil::GetEnumValueAsString<EnumClassName>(FString(TEXT(#EnumClassName)), (ValueOfEnum))</EnumClassName></li></ol></syntaxhighlight> <p>This way in any other file where you want a FString from an enum value, you would doÂ : <syntaxhighlight lang="cpp"> FString EnumString = EnumToString(EVictoryEnum, EVictoryEnum::VE_Dance); </syntaxhighlight></p> <h2 id="getenumfromstring"><a href="#getenumfromstring" class="header-anchor">#</a> GetEnumFromString</h2> <p>If you want to retrieve an Enum value after storing the Enum as a string, here is how! â™¥ Rama</p> <p><syntaxhighlight lang="cpp"> template <typename EnumType=""> static FORCEINLINE EnumType GetEnumValueFromString(const FString&amp; EnumName, const FString&amp; String) { UEnum* Enum = FindObject<UEnum>(ANY_PACKAGE, *EnumName, true); if(!Enum)</UEnum></typename></syntaxhighlight></p> <div class="language- extra-class"><pre><code>   { 
     return EnumType(0);
   }		
</code></pre></div><p>return (EnumType)Enum-&gt;FindEnumIndex(FName(*String)); }</p> <p>//Sample Usage FString ParseLine = GetEnumValueAsString<EChallenge>(&quot;EChallenge&quot;, VictoryEnumValue))); //To String EChallenge Challenge = GetEnumValueFromString<EChallenge>(&quot;EChallenge&quot;, ParseLine); //Back From String! </EChallenge></EChallenge></p> <h2 id="summary"><a href="#summary" class="header-anchor">#</a> Summary</h2> <p>Now you know how to make enums that are project specific, that can be used in both C++ and Blueprints!</p> <p>Enjoy!</p> <p><a href="/index.php?title=User:Rama" title="User:Rama">Rama</a> (<a href="/index.php?title=User_talk:Rama" title="User talk:Rama">talk</a>)</p> <p>Retrieved from &quot;<a href="https://wiki.unrealengine.com/index.php?title=Enums_For_Both_C%2B%2B_and_BP&amp;oldid=35" target="_blank" rel="noopener noreferrer">https://wiki.unrealengine.com/index.php?title=Enums_For_Both_C%2B%2B_and_BP&amp;oldid=35<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>&quot;</p> <p><a href="/index.php?title=Special:Categories" title="Special:Categories">Category</a>:</p> <ul><li><a href="/index.php?title=Category:Code" title="Category:Code">Code</a></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/wiki.unrealengine.com/assets/js/app.aaf63946.js" defer></script><script src="/wiki.unrealengine.com/assets/js/2.4f53495e.js" defer></script><script src="/wiki.unrealengine.com/assets/js/489.ec6d53ac.js" defer></script>
  </body>
</html>
