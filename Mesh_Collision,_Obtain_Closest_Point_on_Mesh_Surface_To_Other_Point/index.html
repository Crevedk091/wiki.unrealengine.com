<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>wiki.unrealengine.com</title>
    <meta name="description" content="A static site pulled from the internet archive">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/wiki.unrealengine.com/assets/css/0.styles.b0e83839.css" as="style"><link rel="preload" href="/wiki.unrealengine.com/assets/js/app.aaf63946.js" as="script"><link rel="preload" href="/wiki.unrealengine.com/assets/js/2.4f53495e.js" as="script"><link rel="preload" href="/wiki.unrealengine.com/assets/js/845.727ded3d.js" as="script">
    <link rel="stylesheet" href="/wiki.unrealengine.com/assets/css/0.styles.b0e83839.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wiki.unrealengine.com/" class="home-link router-link-active"><!----> <span class="site-name">wiki.unrealengine.com</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><p>Mesh Collision, Obtain Closest Point on Mesh Surface To Other Point - Epic Wiki</p> <h1 id="mesh-collision-obtain-closest-point-on-mesh-surface-to-other-point"><a href="#mesh-collision-obtain-closest-point-on-mesh-surface-to-other-point" class="header-anchor">#</a> Mesh Collision, Obtain Closest Point on Mesh Surface To Other Point</h1> <p>From Epic Wiki</p> <p>Jump to: <a href="#mw-head">navigation</a>, <a href="#p-search">search</a></p> <h2 id="contents"><a href="#contents" class="header-anchor">#</a> Contents</h2> <ul><li><a href="#Overview">1 Overview</a></li> <li><a href="#Using_With_Base_Static_Mesh_Actor_Class">2 Using With Base Static Mesh Actor Class</a></li> <li><a href="#Using_With_Custom_SMA_Class">3 Using With Custom SMA Class</a></li> <li><a href="#Two_Function_Return_Values">4 Two Function Return Values</a></li> <li><a href="#Simple_Collision">5 Simple Collision</a></li> <li><a href="#Summary">6 Summary</a></li></ul> <h2 id="overview"><a href="#overview" class="header-anchor">#</a> Overview</h2> <p>Dear Community,</p> <p>Use this function to determine what point on a static mesh component is closest to a given point, in this case I use the location of an Actor.</p> <p>This exact function tells you the closest point on an SMA to an Actor, returning the distance between the two.</p> <p><strong>The power of this function is that it is returning the point on the actual Mesh Collision Surface!</strong></p> <p>This is very precise and can lead to some great game effects!</p> <h2 id="using-with-base-static-mesh-actor-class"><a href="#using-with-base-static-mesh-actor-class" class="header-anchor">#</a> Using With Base Static Mesh Actor Class</h2> <p>You could test a Static Mesh Actor base class by using</p> <p><syntaxhighlight lang="cpp"> TheSMA-&gt;StaticMeshComponent-&gt;GetDistanceToCollision(PointToTest, OutFVector); //see below for more info </syntaxhighlight></p> <h2 id="using-with-custom-sma-class"><a href="#using-with-custom-sma-class" class="header-anchor">#</a> Using With Custom SMA Class</h2> <p><syntaxhighlight lang="cpp"> float AYourSMAClass::DistanceOfActorToThisMeshSurface(AActor* TestActor, FVector&amp; ClosestSurfacePoint) const { if (!TestActor) return;</syntaxhighlight></p> <div class="language- extra-class"><pre><code>   if (!TestActor-&gt;IsValidLowLevel()) return;
</code></pre></div><p>//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</p> <p>//Dist of Actor to Surface, retrieve closest Surface Point to Actor return StaticMeshComponent-&gt;GetDistanceToCollision(</p> <div class="language- extra-class"><pre><code>          TestActor-&gt;GetActorLocation(), ClosestSurfacePoint
   );
</code></pre></div><p>}</p> <h2 id="two-function-return-values"><a href="#two-function-return-values" class="header-anchor">#</a> Two Function Return Values</h2> <p>The <strong>float returned</strong> is the distance from your chosen test point to the closest point on the Mesh Collision Surface.</p> <p>The <strong>FVector returned by reference</strong> is the actual point on the Mesh Collision Surface!</p> <h2 id="simple-collision"><a href="#simple-collision" class="header-anchor">#</a> Simple Collision</h2> <p>If you are having issues getting this function to work properly, make sure the static mesh for the SMA you are testing with has actual simple collision primitives! (not using complex as simple)</p> <h2 id="summary"><a href="#summary" class="header-anchor">#</a> Summary</h2> <p>Enjoy!</p> <p><a href="/index.php?title=User:Rama" title="User:Rama">Rama</a> (<a href="/index.php?title=User_talk:Rama" title="User talk:Rama">talk</a>)</p> <p>Retrieved from &quot;<a href="https://wiki.unrealengine.com/index.php?title=Mesh_Collision,_Obtain_Closest_Point_on_Mesh_Surface_To_Other_Point&amp;oldid=863" target="_blank" rel="noopener noreferrer">https://wiki.unrealengine.com/index.php?title=Mesh_Collision,_Obtain_Closest_Point_on_Mesh_Surface_To_Other_Point&amp;oldid=863<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>&quot;</p> <p><a href="/index.php?title=Special:Categories" title="Special:Categories">Category</a>:</p> <ul><li><a href="/index.php?title=Category:Code" title="Category:Code">Code</a></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/wiki.unrealengine.com/assets/js/app.aaf63946.js" defer></script><script src="/wiki.unrealengine.com/assets/js/2.4f53495e.js" defer></script><script src="/wiki.unrealengine.com/assets/js/845.727ded3d.js" defer></script>
  </body>
</html>
