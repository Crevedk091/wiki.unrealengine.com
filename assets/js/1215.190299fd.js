(window.webpackJsonp=window.webpackJsonp||[]).push([[1215],{505:function(e,t,s){"use strict";s.r(t);var a=s(28),i=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("p",[e._v("Visual Effects: Lesson 05: Techniques for using Particle Effects - Epic Wiki")]),e._v(" "),s("h1",{attrs:{id:"visual-effects-lesson-05-techniques-for-using-particle-effects"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#visual-effects-lesson-05-techniques-for-using-particle-effects"}},[e._v("#")]),e._v(" Visual Effects: Lesson 05: Techniques for using Particle Effects")]),e._v(" "),s("h2",{attrs:{id:"techniques-for-using-particle-effects-in-unreal-engine-4-0"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#techniques-for-using-particle-effects-in-unreal-engine-4-0"}},[e._v("#")]),e._v(" Techniques for using Particle Effects in Unreal Engine 4.0")]),e._v(" "),s("p",[s("strong",[e._v("Beginner Level")])]),e._v(" "),s("p",[e._v("-Setting up your FX with Initial Color and Scale Color modules, for quicker edits.")]),e._v(" "),s("p",[e._v("In addition to the particle color module we used in the first lesson, there are many ways to go about setting the color of your effects, depending on the usage case. For instance, you can set material parameters and drive the color through a Material Instance Constant. Or you can set material parameters and drive a color scalar through the use of a dynamic parameter.")]),e._v(" "),s("p",[e._v("Regardless of how you drive your color, it is always helpful to retain a high level of flexibility for making edits. This lesson might be one of the most basic of techniques, but I have found it to be a massive time saver over the years, and it is not one which is immediately obvious in Cascade.")]),e._v(" "),s("p",[e._v("Let’s get started.")]),e._v(" "),s("p",[e._v("For this lesson you will want to use an image with some grayscale values so it is easier to see your color changes.")]),e._v(" "),s("p",[e._v("I am using a texture like this with some contrasting areas and a gradient pattern.")]),e._v(" "),s("p",[s("a",{attrs:{href:"/File:VisualEffects_Lesson_05pic1.png"}},[s("img",{attrs:{src:"https://d26ilriwvtzlb.cloudfront.net/9/95/VisualEffects_Lesson_05pic1.png",alt:"VisualEffects Lesson 05pic1.png"}})])]),e._v(" "),s("p",[e._v("You can feel free to create any texture you need, or use something from the free sample content in the Marketplace.")]),e._v(" "),s("p",[e._v("Let’s go ahead and find your texture in the content browser, and then open up your "),s("em",[e._v("M_Trans_Unlit_DepthFadeDynamic")]),e._v(" Material from the previous tutorial. If you don’t have that material, go ahead and create a material which makes use of the particle color expression discussed in the first lesson of this series.")]),e._v(" "),s("p",[e._v("The first thing we do is set up our Material so that we can make use of the Material Instance Constant (MIC) system within UE4. A MIC allows us to make changes to the parent material, in this case our DepthFade material, and have those changes trickle down the hierarchy to our MICs. So, if you add new functionality to your parent material, the MICs will automatically receive that functionality as well.")]),e._v(" "),s("p",[e._v("Click on your TextureSample expression, right-click it and choose "),s("strong",[e._v("Convert to Parameter")]),e._v(".")]),e._v(" "),s("p",[s("a",{attrs:{href:"/File:VisualEffects_Lesson_05pic2.png"}},[s("img",{attrs:{src:"https://d26ilriwvtzlb.cloudfront.net/d/d6/VisualEffects_Lesson_05pic2.png",alt:"VisualEffects Lesson 05pic2.png"}})])]),e._v(" "),s("p",[e._v("By making this Texture Sample a parameter, we are exposing this texture to the Material system, and making it available for edit in a MIC.")]),e._v(" "),s("p",[e._v('Name the parameter "Emissive Texture." Compile and save your material, then return to the Content Browser.')]),e._v(" "),s("p",[e._v("Right-click on your "),s("strong",[e._v("Parent Material")]),e._v(" and choose "),s("strong",[e._v("Create Material Instance")]),e._v(".")]),e._v(" "),s("p",[s("a",{attrs:{href:"/File:VisualEffects_Lesson_05pic3.png"}},[s("img",{attrs:{src:"https://d26ilriwvtzlb.cloudfront.net/c/c6/VisualEffects_Lesson_05pic3.png",alt:"VisualEffects Lesson 05pic3.png"}})])]),e._v(" "),s("p",[e._v('I prefer to allow the editor to name my new MIC with the suffix " _Inst" and retain the original name from the parent material.')]),e._v(" "),s("p",[s("a",{attrs:{href:"/File:VisualEffects_Lesson_05pic4.png"}},[s("img",{attrs:{src:"https://d26ilriwvtzlb.cloudfront.net/3/31/VisualEffects_Lesson_05pic4.png",alt:"VisualEffects Lesson 05pic4.png"}})])]),e._v(" "),s("p",[e._v("This makes it easy to quickly identify the parent from the Content Browser. Next open the MIC by double clicking on it.")]),e._v(" "),s("p",[e._v("You will notice the MIC editor looks a bit different from the Material Editor. The material network is absent, and instead we are limited to the set of parameters which are editable. In this case, we only have our Emissive Texture available. Go ahead and check the box for "),s("strong",[e._v("Emissive Texture")]),e._v(".")]),e._v(" "),s("p",[s("a",{attrs:{href:"/File:VisualEffects_Lesson_05pic5.png"}},[s("img",{attrs:{src:"https://d26ilriwvtzlb.cloudfront.net/3/3e/VisualEffects_Lesson_05pic5.png",alt:"VisualEffects Lesson 05pic5.png"}})])]),e._v(" "),s("p",[e._v("This enables you to edit the reference to the emissive texture in your project. Next, click the magnifying glass to find your texture in the Content Browser.")]),e._v(" "),s("p",[s("a",{attrs:{href:"/File:VisualEffects_Lesson_05pic6.png"}},[s("img",{attrs:{src:"https://d26ilriwvtzlb.cloudfront.net/e/e5/VisualEffects_Lesson_05pic6.png",alt:"VisualEffects Lesson 05pic6.png"}})])]),e._v(" "),s("p",[e._v("Select your texture in the content browser and press the Arrow in the MIC editor to assign the new texture.")]),e._v(" "),s("p",[s("strong",[e._v("TIP")]),e._v(": If you are in the MIC editor and you aren’t sure which material is your parent material, just look above your parameter list. You can always browse to the parent from here.")]),e._v(" "),s("p",[s("a",{attrs:{href:"/File:VisualEffects_Lesson_05pic7.png"}},[s("img",{attrs:{src:"https://d26ilriwvtzlb.cloudfront.net/5/5a/VisualEffects_Lesson_05pic7.png",alt:"VisualEffects Lesson 05pic7.png"}})])]),e._v(" "),s("p",[e._v("Next, return to the content Browser and "),s("strong",[e._v("create a new particle system")]),e._v(' and name it "'),s("em",[e._v("P_InitColor")]),e._v('." Please create a new system from scratch so that I can illustrate something for you.')]),e._v(" "),s("p",[s("a",{attrs:{href:"/File:VisualEffects_Lesson_05pic8.png"}},[s("img",{attrs:{src:"https://d26ilriwvtzlb.cloudfront.net/7/77/VisualEffects_Lesson_05pic8.png",alt:"VisualEffects Lesson 05pic8.png"}})])]),e._v(" "),s("p",[e._v("Take note that every time you create a new emitter in Cascade, these are the default modules present. There is nothing necessarily WRONG with this setup, but we are going to modify it and create a color control setup which gives us more direct control.")]),e._v(" "),s("p",[e._v("By default, the Color Over Life module is used. Several FX guys here at Epic use it on a daily basis, but my personal preference is to use a combination of modules.")]),e._v(" "),s("p",[e._v("Go ahead and assign your new MIC as the particle material in the Required module.")]),e._v(" "),s("p",[e._v("For now, let’s delete the Color/Life module, and add an "),s("strong",[e._v("Initial Color")]),e._v(" and "),s("strong",[e._v("Scale Color/Life")]),e._v(" module by right-clicking in the area beneath the emitter stack and choosing them from the color section of the drop down.")]),e._v(" "),s("p",[s("a",{attrs:{href:"/File:VisualEffects_Lesson_05pic9.png"}},[s("img",{attrs:{src:"https://d26ilriwvtzlb.cloudfront.net/c/c2/VisualEffects_Lesson_05pic9.png",alt:"VisualEffects Lesson 05pic9.png"}})])]),e._v(" "),s("p",[s("a",{attrs:{href:"/File:VisualEffects_Lesson_05pic10.png"}},[s("img",{attrs:{src:"https://d26ilriwvtzlb.cloudfront.net/e/eb/VisualEffects_Lesson_05pic10.png",alt:"VisualEffects Lesson 05pic10.png"}})])]),e._v(" "),s("p",[e._v("At first sight this may seem like I am telling to you create a setup which requires more maintenance. “Two modules vs. one?” you may ask, but I will show you that this setup will actually offer you a higher degree of control, which will require less tweaking in the long run.")]),e._v(" "),s("p",[e._v("What’s happening is that we will be using the Initial Color module to define our particle color when the particle is spawned. This is critical to understand, because the Initial Color module will only execute at particle creation time. This difference is important when it comes to modifying particle attributes at run-time, which I will cover later on.")]),e._v(" "),s("p",[e._v("The ScaleColor/Life module does exactly what the name implies, it scales color and alpha, over the lifetime of the particle. This is very freeing, because it means we can de-couple our color and alpha lifetime curves, from our initial particle color settings. To illustrate this, let’s go into the "),s("strong",[e._v("Scale Color/Life")]),e._v(" module and setup an ease-in, ease-out alpha curve as we did in the first lesson.")]),e._v(" "),s("p",[s("a",{attrs:{href:"/File:VisualEffects_Lesson_05pic11.png"}},[s("img",{attrs:{src:"https://d26ilriwvtzlb.cloudfront.net/3/36/VisualEffects_Lesson_05pic11.png",alt:"VisualEffects Lesson 05pic11.png"}})])]),e._v(" "),s("p",[e._v("Next lower your spawn rate to a "),s("strong",[e._v("Constant")]),e._v(", 1.")]),e._v(" "),s("p",[s("a",{attrs:{href:"/File:VisualEffects_Lesson_05pic12.png"}},[s("img",{attrs:{src:"https://d26ilriwvtzlb.cloudfront.net/6/6b/VisualEffects_Lesson_05pic12.png",alt:"VisualEffects Lesson 05pic12.png"}})])]),e._v(" "),s("p",[e._v("Increase the particle size to a "),s("strong",[e._v("Constant")]),e._v(" Vector, X 50.")]),e._v(" "),s("p",[s("a",{attrs:{href:"/File:VisualEffects_Lesson_05pic13.png"}},[s("img",{attrs:{src:"https://d26ilriwvtzlb.cloudfront.net/3/34/VisualEffects_Lesson_05pic13.png",alt:"VisualEffects Lesson 05pic13.png"}})])]),e._v(" "),s("p",[e._v("Remember, because my screen alignment is set to square, the Y, Z, vectors are ignored. If I were to change my alignment to Rectangle, with these settings all of my particles would disappear. Because of this, I am in the habit of setting all my vectors to 50 for convenience.")]),e._v(" "),s("p",[s("a",{attrs:{href:"/File:VisualEffects_Lesson_05pic14.png"}},[s("img",{attrs:{src:"https://d26ilriwvtzlb.cloudfront.net/2/20/VisualEffects_Lesson_05pic14.png",alt:"VisualEffects Lesson 05pic14.png"}})])]),e._v(" "),s("p",[e._v("This is not necessary, it’s just a workflow I have adapted so my particles do not disappear on me when I change screen alignments. This tricked me up on many occasions when I first started using Unreal Engine.")]),e._v(" "),s("p",[e._v("Place your effect in your level, and your particle should be greyscale and fading in and out over 1 second.")]),e._v(" "),s("p",[s("a",{attrs:{href:"/File:VisualEffects_Lesson_05pic15.png"}},[s("img",{attrs:{src:"https://d26ilriwvtzlb.cloudfront.net/a/ad/VisualEffects_Lesson_05pic15.png",alt:"VisualEffects Lesson 05pic15.png"}})])]),e._v(" "),s("p",[e._v("Let’s go ahead and edit our "),s("strong",[e._v("initial color")]),e._v(" now. I like blue, so let’s set the value to 0,0,1.")]),e._v(" "),s("p",[s("a",{attrs:{href:"/File:VisualEffects_Lesson_05pic16.png"}},[s("img",{attrs:{src:"https://d26ilriwvtzlb.cloudfront.net/1/19/VisualEffects_Lesson_05pic16.png",alt:"VisualEffects Lesson 05pic16.png"}})])]),e._v(" "),s("p",[e._v("Now your particle should be blue, and fading in and out, but I don’t want my particle to become 100% opaque, ever.")]),e._v(" "),s("p",[e._v("With the Color Over Life module, I would be forced to go in and edit my alpha curve, but with the Initial Color module, I never have to touch my alpha curve again. I can just edit the alpha values in my initial color, and leave my curve that I painstakingly constructed alone. Go into the "),s("strong",[e._v("Initial Color")]),e._v(" module and set the "),s("strong",[e._v("alpha value")]),e._v(" to .5")]),e._v(" "),s("p",[s("a",{attrs:{href:"/File:VisualEffects_Lesson_05pic17.png"}},[s("img",{attrs:{src:"https://d26ilriwvtzlb.cloudfront.net/2/2c/VisualEffects_Lesson_05pic17.png",alt:"VisualEffects Lesson 05pic17.png"}})])]),e._v(" "),s("p",[e._v("If it hasn’t already become apparent to you, the flexibility in this setup lies in the fact that I can modify my base color/alpha settings separately from my scaleAlpha and scaleColor curves. I spend considerable time (possibly more than I would like to admit) tweaking colorScale values and getting my curves just right to make my particles !POP! and fade softly, or to get my fire to lick out with the right intensity.")]),e._v(" "),s("p",[e._v("Let’s go in and change our "),s("strong",[e._v("Color Scale")]),e._v(" settings. Click the Scale Color/Life module and open up the color section, and make certain you have a "),s("strong",[e._v("constant curve distribution")]),e._v(".")]),e._v(" "),s("p",[s("a",{attrs:{href:"/File:VisualEffects_Lesson_05pic18.png"}},[s("img",{attrs:{src:"https://d26ilriwvtzlb.cloudfront.net/6/67/VisualEffects_Lesson_05pic18.png",alt:"VisualEffects Lesson 05pic18.png"}})])]),e._v(" "),s("p",[e._v("At the start of your curve, scale the values by 12 in the 0 position.")]),e._v(" "),s("p",[s("a",{attrs:{href:"/File:VisualEffects_Lesson_05pic19.png"}},[s("img",{attrs:{src:"https://d26ilriwvtzlb.cloudfront.net/c/c9/VisualEffects_Lesson_05pic19.png",alt:"VisualEffects Lesson 05pic19.png"}})])]),e._v(" "),s("p",[e._v("Now your sprite will start off very bright, and dim over its lifespan. Because we are easing in our alpha, we are missing the brightest section of our color curve, so you may want to play with your values to get something interesting. It’s always important to be mindful of the relationship between your curves.")]),e._v(" "),s("p",[s("a",{attrs:{href:"/File:VisualEffects_Lesson_05pic20.png"}},[s("img",{attrs:{src:"https://d26ilriwvtzlb.cloudfront.net/6/63/VisualEffects_Lesson_05pic20.png",alt:"VisualEffects Lesson 05pic20.png"}})])]),e._v(" "),s("p",[e._v("Because UE4 uses floating point math, we can scale our values above 1, to over-brighten FX. This is a great way to BLAST out color. You might, for instance, use this for an explosion followed by a sharp decline to lower values.")]),e._v(" "),s("p",[e._v("At this point, I hope you see the value in this setup from a content management setup. Perhaps, six months from now your production manager will stop by and say, “Hey, we met with the publisher and they are really not big fans of the color red for our health bar and VFX. Can you change all of your VFX to green please?” You think to yourself, there are 22 separate heal FX…this could take all day.")]),e._v(" "),s("p",[e._v("With the system outlined above, you just go in, change your Initial Color to Green, and you are done.")]),e._v(" "),s("p",[e._v("With the Color Over Life module, not only would you need to change the color of every FX, but you would also need to find the color scale equivalents for any tweaks made to color values and their timings, which can be incredibly time consuming.")]),e._v(" "),s("p",[e._v("Beyond workflow simplification, the Initial Color Module allows us to introduce color variation with an option flag, which the Color Over Life module lacks.")]),e._v(" "),s("p",[e._v("Let’s go back to the Initial Color Module and open up the color section, change the distribution to "),s("strong",[e._v("Uniform")]),e._v(", and set values of 0,0,1, and 1,0,0.")]),e._v(" "),s("p",[s("a",{attrs:{href:"/File:VisualEffects_Lesson_05pic21.png"}},[s("img",{attrs:{src:"https://d26ilriwvtzlb.cloudfront.net/4/45/VisualEffects_Lesson_05pic21.png",alt:"VisualEffects Lesson 05pic21.png"}})])]),e._v(" "),s("p",[s("a",{attrs:{href:"/File:VisualEffects_Lesson_05pic22.png"}},[s("img",{attrs:{src:"https://d26ilriwvtzlb.cloudfront.net/2/2f/VisualEffects_Lesson_05pic22.png",alt:"VisualEffects Lesson 05pic22.png"}})])]),e._v(" "),s("p",[e._v("This yields a very interesting result in which the particles have a chance to get the color blue, the color red, or any of the values in-between those hues. If the hues you want are close enough together this can add some really great variation to your effects. Let’s change that to 1,0,0 and 1,.1,0 to see the difference.")]),e._v(" "),s("p",[s("a",{attrs:{href:"/File:VisualEffects_Lesson_05pic23.png"}},[s("img",{attrs:{src:"https://d26ilriwvtzlb.cloudfront.net/d/d5/VisualEffects_Lesson_05pic23.png",alt:"VisualEffects Lesson 05pic23.png"}})])]),e._v(" "),s("p",[e._v("Now we have a really nice saturated orange, which is slightly different each time the particle spawns, occasionally going to red.")]),e._v(" "),s("p",[s("a",{attrs:{href:"/File:VisualEffects_Lesson_05pic24.png"}},[s("img",{attrs:{src:"https://d26ilriwvtzlb.cloudfront.net/f/f2/VisualEffects_Lesson_05pic24.png",alt:"VisualEffects Lesson 05pic24.png"}})])]),e._v(" "),s("p",[e._v("But, let’s say my Art Director really wants to see a mix of complimentary colors, so I absolutely need blue and orange. No problem. Cascade can handle that for you, in one emitter.")]),e._v(" "),s("p",[e._v("Let’s go in and change our values to 0,0,1 and 1,.25,0, but this time, look for the check box below the uniform vector distribution that says "),s("strong",[e._v("Use Extremes")]),e._v(".")]),e._v(" "),s("p",[s("a",{attrs:{href:"/File:VisualEffects_Lesson_05pic25.png"}},[s("img",{attrs:{src:"https://d26ilriwvtzlb.cloudfront.net/0/0a/VisualEffects_Lesson_05pic25.png",alt:"VisualEffects Lesson 05pic25.png"}})])]),e._v(" "),s("p",[e._v("Check that box, and your particles will only spawn in as Blue or Orange - nothing in-between! Try changing your Spawn Rate to 10 and see the random color assignment!")]),e._v(" "),s("p",[s("a",{attrs:{href:"/File:VisualEffects_Lesson_05pic26.png"}},[s("img",{attrs:{src:"https://d26ilriwvtzlb.cloudfront.net/f/ff/VisualEffects_Lesson_05pic26.png",alt:"VisualEffects Lesson 05pic26.png"}})])]),e._v(" "),s("p",[e._v("So, the Initial Color module, combined with the Scale Color/Life module gives us two features we would not have with the Color Over Life module.")]),e._v(" "),s("p",[e._v("ONE: Our color settings are no longer directly associated with time, decoupling them gives us the ability to easily Scale color values in a range that you can also pre-determine/calculate if necessary. You can always ensure that your hue is correct and scaling by values you define directly.")]),e._v(" "),s("p",[e._v("TWO: By using a Uniform distribution we can add more variation to the color in our FX with one emitter, which reduces draw call expense and reduces the odds of potential sorting issues.")]),e._v(" "),s("p",[e._v("The power of decoupling these attributes will become even clearer later on when I get into modifying values with a particle parameter and a Blueprint at runtime.")]),e._v(" "),s("p",[e._v("I hope that helps you as much as it has helped me!")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"/Visual_Effects:_Lesson_04:_Driving_the_Fade_Distance_and_Depth_Fade_Settings_with_a_Dynamic_Parameter",title:"Visual Effects: Lesson 04: Driving the Fade Distance and Depth Fade Settings with a Dynamic Parameter"}},[e._v("Go back to Lesson 04")])]),e._v(" "),s("li",[s("a",{attrs:{href:"/Visual_Effects:_Lesson_06:_Techniques_for_use_in_Particle_Effects",title:"Visual Effects: Lesson 06: Techniques for use in Particle Effects"}},[e._v("Continue to Lesson 06")])])]),e._v(" "),s("p",[e._v('Retrieved from "'),s("a",{attrs:{href:"https://wiki.unrealengine.com/index.php?title=Visual_Effects:_Lesson_05:_Techniques_for_using_Particle_Effects&oldid=10326",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://wiki.unrealengine.com/index.php?title=Visual_Effects:_Lesson_05:_Techniques_for_using_Particle_Effects&oldid=10326"),s("OutboundLink")],1),e._v('"')]),e._v(" "),s("p",[s("a",{attrs:{href:"/Special:Categories",title:"Special:Categories"}},[e._v("Categories")]),e._v(":")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"/Category:Tutorials",title:"Category:Tutorials"}},[e._v("Tutorials")])]),e._v(" "),s("li",[s("a",{attrs:{href:"/Category:Particle",title:"Category:Particle"}},[e._v("Particle")])]),e._v(" "),s("li",[s("a",{attrs:{href:"/Category:Epic_Created_Content",title:"Category:Epic Created Content"}},[e._v("Epic Created Content")])])]),e._v(" "),s("p",[s("img",{attrs:{src:"https://tracking.unrealengine.com/track.png",alt:""}})])])}),[],!1,null,null,null);t.default=i.exports}}]);