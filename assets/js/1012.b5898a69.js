(window.webpackJsonp=window.webpackJsonp||[]).push([[1012],{1434:function(e,t,a){"use strict";a.r(t);var r=a(28),i=Object(r.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p",[e._v("Standalone Dedicated Server - Epic Wiki")]),e._v(" "),a("h1",{attrs:{id:"standalone-dedicated-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#standalone-dedicated-server"}},[e._v("#")]),e._v(" Standalone Dedicated Server")]),e._v(" "),a("p",[e._v("From Epic Wiki")]),e._v(" "),a("p",[e._v("Jump to: "),a("a",{attrs:{href:"#mw-head"}},[e._v("navigation")]),e._v(", "),a("a",{attrs:{href:"#p-search"}},[e._v("search")])]),e._v(" "),a("p",[e._v("This guide shows you how to package and compile your game as a standalone dedicated server for both Windows and Linux.")]),e._v(" "),a("p",[a("em",[e._v("This is currently only possible using an engine compiled from source. It is not possible through an engine installed via the Epic Launcher. This was deemed necessary due to the increase in size that would occur if the required files were included in the installed version of the engine.")])]),e._v(" "),a("h2",{attrs:{id:"contents"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#contents"}},[e._v("#")]),e._v(" Contents")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#Packaging_the_Content"}},[e._v("1 Packaging the Content")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#Compiling_the_Server"}},[e._v("2 Compiling the Server")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#Linux_Compiler_Toolchain"}},[e._v("2.1 Linux Compiler Toolchain")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#Compilation"}},[e._v("2.2 Compilation")])])])]),e._v(" "),a("li",[a("a",{attrs:{href:"#Platform_Specifics"}},[e._v("3 Platform Specifics")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#Windows"}},[e._v("3.1 Windows")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#Linux"}},[e._v("3.2 Linux")])])])])]),e._v(" "),a("h2",{attrs:{id:"packaging-the-content"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#packaging-the-content"}},[e._v("#")]),e._v(" Packaging the Content")]),e._v(" "),a("p",[e._v("The dedicated server needs packaged content. Go to File -> Package Project -> Packaging Settings. Here you have a few options:")]),e._v(" "),a("ul",[a("li",[e._v("Use Pak File: Pack all the assets into one .pak file - disable if you want to have the regular content structure (e.g. for incremental uploads)")]),e._v(" "),a("li",[e._v("Full Rebuild: You might want to disable this to lower packaging times")])]),e._v(" "),a("p",[e._v("Then go to File -> Package Project -> Package Windows/Linux and select an output directory. The engine will now package the content and compile the standalone client code - this may take some time in case of a full rebuild.")]),e._v(" "),a("h2",{attrs:{id:"compiling-the-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#compiling-the-server"}},[e._v("#")]),e._v(" Compiling the Server")]),e._v(" "),a("h3",{attrs:{id:"linux-compiler-toolchain"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux-compiler-toolchain"}},[e._v("#")]),e._v(" Linux Compiler Toolchain")]),e._v(" "),a("p",[e._v("Linux compilation is currently only supported on Windows using a cross-compilation toolchain based on "),a("a",{attrs:{href:"http://en.wikipedia.org/wiki/Clang",target:"_blank",rel:"noopener noreferrer"}},[e._v("Clang"),a("OutboundLink")],1),e._v(". A precompiled toolchain from Epic is available here: "),a("a",{attrs:{href:"https://github.com/EpicGames/UnrealEngine/releases/tag/4.1.0-release",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/EpicGames/UnrealEngine/releases/tag/4.1.0-release"),a("OutboundLink")],1),e._v("."),a("br"),e._v("\nAfter you unzipped the toolchain, make sure to add the environment variable LINUX_ROOT and set it to the location of the toolchain (see README.md for details).")]),e._v(" "),a("h3",{attrs:{id:"compilation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#compilation"}},[e._v("#")]),e._v(" Compilation")]),e._v(" "),a("p",[e._v("The next step is to compile the server code using Visual Studio. First, you need to set up a special server target for UnrealBuildTool.")]),e._v(" "),a("p",[e._v("You can use the following template:")]),e._v(" "),a("p",[e._v("// Copyright 1998-2014 Epic Games, Inc. All Rights Reserved.")]),e._v(" "),a("p",[e._v("using UnrealBuildTool;\nusing System.Collections.Generic;")]),e._v(" "),a("p",[e._v("public class GameServerTarget : TargetRules\n{\npublic GameServerTarget(TargetInfo Target)\n{\nType = TargetType.Server;\n}")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v('//\n// TargetRules interface.\n//\npublic override void SetupBinaries(\n    TargetInfo Target,\n    ref List<UEBuildBinaryConfiguration\\> OutBuildBinaryConfigurations,\n    ref List<string\\> OutExtraModuleNames\n    )\n{\n    base.SetupBinaries(Target, ref OutBuildBinaryConfigurations, ref OutExtraModuleNames);\n    OutExtraModuleNames.Add("Game");\n}\n\npublic override bool GetSupportedPlatforms(ref List<UnrealTargetPlatform\\> OutPlatforms)\n{\n    // It is valid for only server platforms\n    return UnrealBuildTool.UnrealBuildTool.GetAllServerPlatforms(ref OutPlatforms, false);\n}\n\npublic override List<UnrealTargetPlatform\\> GUBP\\_GetPlatforms\\_MonolithicOnly(UnrealTargetPlatform HostPlatform)\n{\n    if (HostPlatform \\== UnrealTargetPlatform.Mac)\n    {\n        return new List<UnrealTargetPlatform\\>();\n    }\n    return new List<UnrealTargetPlatform\\> { HostPlatform, UnrealTargetPlatform.Win32, UnrealTargetPlatform.Linux };\n}\n\npublic override List<UnrealTargetConfiguration\\> GUBP\\_GetConfigs\\_MonolithicOnly(UnrealTargetPlatform HostPlatform, UnrealTargetPlatform Platform)\n{\n    return new List<UnrealTargetConfiguration\\> { UnrealTargetConfiguration.Development };\n}\n')])])]),a("p",[e._v("}")]),e._v(" "),a("p",[e._v('Just replace all instances of "Game" with the name of your game project.')]),e._v(" "),a("p",[e._v("Its possible that there are no functions to override by the overrides so it will not build. Throw these out aswell if there are problems.")]),e._v(" "),a("p",[e._v("Save it as "),a("Game",[e._v("Server.Target.cs next to the other target files and regenerate the project files.")])],1),e._v(" "),a("p",[e._v("Open Visual Studio, set the configuration to *Server and select the platform target accordingly.")]),e._v(" "),a("p",[e._v("Now it's time to build your game project. Using the above UBT target, the executable will end up in "),a("game",[e._v("/Binaries/"),a("platform",[e._v("/"),a("Game",[e._v("Server. Move the executable over to "),a("cooked",[e._v("/"),a("platform",[e._v("/"),a("game",[e._v("/binaries/"),a("platform",[e._v(".")])],1)],1)],1)],1)],1)],1)],1),e._v(" "),a("h2",{attrs:{id:"platform-specifics"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#platform-specifics"}},[e._v("#")]),e._v(" Platform Specifics")]),e._v(" "),a("h3",{attrs:{id:"windows"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#windows"}},[e._v("#")]),e._v(" Windows")]),e._v(" "),a("p",[e._v("Simply execute "),a("Game",[e._v("Server.exe. If you want a log window, start with -log.")])],1),e._v(" "),a("h3",{attrs:{id:"linux"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux"}},[e._v("#")]),e._v(" Linux")]),e._v(" "),a("p",[e._v("The server will listen for UDP packets on port 7777 by default, so make sure to open this port in your firewall.")]),e._v(" "),a("p",[e._v("With some Unreal Engine releases (4.2 and below) you can run into this message if you don't pass -pak:")]),e._v(" "),a("p",[e._v('Could not adjust number of file handles, consider changing "nofile" in /etc/security/limits.conf and relogin.')]),e._v(" "),a("p",[e._v("The solution is to pass -pak on the command line when starting the server.")]),e._v(" "),a("p",[e._v('Retrieved from "'),a("a",{attrs:{href:"https://wiki.unrealengine.com/index.php?title=Standalone_Dedicated_Server&oldid=155",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://wiki.unrealengine.com/index.php?title=Standalone_Dedicated_Server&oldid=155"),a("OutboundLink")],1),e._v('"')]),e._v(" "),a("p",[a("a",{attrs:{href:"/index.php?title=Special:Categories",title:"Special:Categories"}},[e._v("Categories")]),e._v(":")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"/index.php?title=Category:Tutorials&action=edit&redlink=1",title:"Category:Tutorials (page does not exist)"}},[e._v("Tutorials")])]),e._v(" "),a("li",[a("a",{attrs:{href:"/index.php?title=Category:Epic_Created_Content",title:"Category:Epic Created Content"}},[e._v("Epic Created Content")])])])])}),[],!1,null,null,null);t.default=i.exports}}]);