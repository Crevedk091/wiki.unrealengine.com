(window.webpackJsonp=window.webpackJsonp||[]).push([[490],{887:function(t,e,a){"use strict";a.r(e);var n=a(28),r=Object(n.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("Enums For Both C++ and BP - Epic Wiki")]),t._v(" "),a("h1",{attrs:{id:"enums-for-both-c-and-bp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enums-for-both-c-and-bp"}},[t._v("#")]),t._v(" Enums For Both C++ and BP")]),t._v(" "),a("p",[t._v("From Epic Wiki")]),t._v(" "),a("p",[t._v("Jump to: "),a("a",{attrs:{href:"#mw-head"}},[t._v("navigation")]),t._v(", "),a("a",{attrs:{href:"#p-search"}},[t._v("search")])]),t._v(" "),a("h2",{attrs:{id:"contents"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#contents"}},[t._v("#")]),t._v(" Contents")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#Overview"}},[t._v("1 Overview")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#BP_Graphs:_Switch_on_Enum"}},[t._v("2 BP Graphs: Switch on Enum")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#C.2B.2B_.h_File"}},[t._v("3 C++ .h File")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#Testing_the_Value_in_the_C.2B.2B"}},[t._v("4 Testing the Value in the C++")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#Get_Name_of_Enum_as_String"}},[t._v("5 Get Name of Enum as String")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#Templatized_Version"}},[t._v("5.1 Templatized Version")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#GetEnumFromString"}},[t._v("6 GetEnumFromString")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#Summary"}},[t._v("7 Summary")])])]),t._v(" "),a("h2",{attrs:{id:"overview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[t._v("#")]),t._v(" Overview")]),t._v(" "),a("p",[t._v("Dear Community,")]),t._v(" "),a("p",[t._v("Here's how you can create your own Enums that can be used with C++ and BP graphs!")]),t._v(" "),a("p",[t._v("Enums basically give you ability to define a series of related types with long human-readible names, using a low-cost data type.")]),t._v(" "),a("p",[t._v("These could be AI states, object types, ammo types, weapon types, tree types, or anything reallyÂ ðŸ˜ƒ")]),t._v(" "),a("p",[a("a",{attrs:{href:"/index.php?title=File:Enumgraph.jpg"}},[a("img",{attrs:{src:"https://d3ar1piqh1oeli.cloudfront.net/e/e3/Enumgraph.jpg/800px-Enumgraph.jpg",alt:"Enumgraph.jpg"}})])]),t._v(" "),a("h2",{attrs:{id:"bp-graphs-switch-on-enum"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bp-graphs-switch-on-enum"}},[t._v("#")]),t._v(" BP Graphs: Switch on Enum")]),t._v(" "),a("p",[t._v("For BP Graphs, one of the most wonderful things about ENUMS is the ability to use Switch on Enum() instead of having to do a series of branches and testing one value many times")]),t._v(" "),a("h2",{attrs:{id:"c-h-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c-h-file"}},[t._v("#")]),t._v(" C++ .h File")]),t._v(" "),a("p",[t._v("You need to add the UENUM definition above your class and then actually create a member variable in your class that you want to have be an instance of this enum.")]),t._v(" "),a("p",[t._v("If you want an enum to be used in many different classes (instances of this enum in many classes) you can define the enum in some class that holds all your other important definitions like USTRUCTS().")]),t._v(" "),a("p",[a("syntaxhighlight",{attrs:{lang:"cpp"}},[t._v(' UENUM(BlueprintType) //"BlueprintType" is essential to include enum class EVictoryEnumÂ : uint8 {')])],1),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v('   VE\\_Dance \tUMETA(DisplayName="Dance"),\n   VE\\_Rain \tUMETA(DisplayName="Rain"),\n')])])]),a("p",[t._v('VE_Song UMETA(DisplayName="Song") };')]),t._v(" "),a("p",[t._v("UCLASS() class YourClassÂ : public YourSuperClass { GENERATED_UCLASS_BODY()")]),t._v(" "),a("p",[t._v("UPROPERTY(EditAnywhere, BlueprintReadWrite, Category=Enum) EVictoryEnum VictoryEnum;")]),t._v(" "),a("p",[t._v("//Rest of Class Code }; ")]),t._v(" "),a("h2",{attrs:{id:"testing-the-value-in-the-c"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#testing-the-value-in-the-c"}},[t._v("#")]),t._v(" Testing the Value in the C++")]),t._v(" "),a("p",[a("syntaxhighlight",{attrs:{lang:"cpp"}},[t._v(" //YourClass.CPP if(VictoryEnum == EVictoryEnum::VE_Dance) { VictoryEnum = EVictoryEnum::VE_Song; } else { VictoryEnum = EVictoryEnum::VE_Rain; } ")])],1),t._v(" "),a("h2",{attrs:{id:"get-name-of-enum-as-string"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-name-of-enum-as-string"}},[t._v("#")]),t._v(" Get Name of Enum as String")]),t._v(" "),a("syntaxhighlight",{attrs:{lang:"cpp"}},[a("p",[t._v("FString GetVictoryEnumAsString(EVictoryEnum::Type EnumValue) {")]),t._v(" "),a("p",[t._v("const UEnum* EnumPtr = FindObject"),a("UEnum",[t._v('(ANY_PACKAGE, TEXT("EVictoryEnum"), true);\nif(!EnumPtr) return FString("Invalid");')])],1),t._v(" "),a("p",[t._v('return EnumPtr->GetNameByValue((int64)EnumValue); // for EnumValue == VE_Dance returns "VE_Dance"')]),t._v(" "),a("p",[t._v("} ")])]),a("p"),t._v(" "),a("h3",{attrs:{id:"templatized-version"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#templatized-version"}},[t._v("#")]),t._v(" Templatized Version")]),t._v(" "),a("p",[a("syntaxhighlight",{attrs:{lang:"cpp"}},[t._v(" template"),a("typename",{attrs:{TEnum:""}},[t._v(" static FORCEINLINE FString GetEnumValueAsString(const FString& Name, TEnum Value) {")])],1)],1),t._v(" "),a("p",[t._v("const UEnum* enumPtr = FindObject"),a("UEnum",[t._v("(ANY_PACKAGE, *Name, true);\nif (!enumPtr)")])],1),t._v(" "),a("p",[t._v('{ return FString("Invalid"); }')]),t._v(" "),a("p",[t._v("return enumPtr->GetNameByValue((int64)Value).ToString();")]),t._v(" "),a("p",[t._v("}")]),t._v(" "),a("p",[t._v("// Example usage GetEnumValueAsString"),a("EVictoryEnum",[t._v('("EVictoryEnum", VictoryEnum))); ')])],1),t._v(" "),a("p",[t._v("Also, if you want to avoid retyping the enum class name as a string on every call to GetEnumValueAsString, you can also define a c++ macro in the .h file where the function is defined.")]),t._v(" "),a("p",[t._v("For example, if you have defined GetEnumValueAsString in a class UTextUtil in TextUtil.h, you would have this macro")]),t._v(" "),a("syntaxhighlight",{attrs:{lang:"cpp"}},[a("ol",[a("li",[t._v("define EnumToString(EnumClassName, ValueOfEnum) UTextUtil::GetEnumValueAsString"),a("EnumClassName",[t._v("(FString(TEXT(#EnumClassName)), (ValueOfEnum))")])],1)])]),t._v(" "),a("p",[t._v("This way in any other file where you want a FString from an enum value, you would doÂ : "),a("syntaxhighlight",{attrs:{lang:"cpp"}},[t._v(" FString EnumString = EnumToString(EVictoryEnum, EVictoryEnum::VE_Dance); ")])],1),t._v(" "),a("h2",{attrs:{id:"getenumfromstring"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getenumfromstring"}},[t._v("#")]),t._v(" GetEnumFromString")]),t._v(" "),a("p",[t._v("If you want to retrieve an Enum value after storing the Enum as a string, here is how! â™¥ Rama")]),t._v(" "),a("p",[a("syntaxhighlight",{attrs:{lang:"cpp"}},[t._v(" template "),a("typename",{attrs:{EnumType:""}},[t._v(" static FORCEINLINE EnumType GetEnumValueFromString(const FString& EnumName, const FString& String) { UEnum* Enum = FindObject"),a("UEnum",[t._v("(ANY_PACKAGE, *EnumName, true); if(!Enum)")])],1)],1)],1),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("   { \n     return EnumType(0);\n   }\t\t\n")])])]),a("p",[t._v("return (EnumType)Enum->FindEnumIndex(FName(*String)); }")]),t._v(" "),a("p",[t._v("//Sample Usage FString ParseLine = GetEnumValueAsString"),a("EChallenge",[t._v('("EChallenge", VictoryEnumValue))); //To String EChallenge Challenge = GetEnumValueFromString'),a("EChallenge",[t._v('("EChallenge", ParseLine); //Back From String! ')])],1)],1),t._v(" "),a("h2",{attrs:{id:"summary"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#summary"}},[t._v("#")]),t._v(" Summary")]),t._v(" "),a("p",[t._v("Now you know how to make enums that are project specific, that can be used in both C++ and Blueprints!")]),t._v(" "),a("p",[t._v("Enjoy!")]),t._v(" "),a("p",[a("a",{attrs:{href:"/index.php?title=User:Rama",title:"User:Rama"}},[t._v("Rama")]),t._v(" ("),a("a",{attrs:{href:"/index.php?title=User_talk:Rama",title:"User talk:Rama"}},[t._v("talk")]),t._v(")")]),t._v(" "),a("p",[t._v('Retrieved from "'),a("a",{attrs:{href:"https://wiki.unrealengine.com/index.php?title=Enums_For_Both_C%2B%2B_and_BP&oldid=35",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://wiki.unrealengine.com/index.php?title=Enums_For_Both_C%2B%2B_and_BP&oldid=35"),a("OutboundLink")],1),t._v('"')]),t._v(" "),a("p",[a("a",{attrs:{href:"/index.php?title=Special:Categories",title:"Special:Categories"}},[t._v("Category")]),t._v(":")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"/index.php?title=Category:Code",title:"Category:Code"}},[t._v("Code")])])])],1)}),[],!1,null,null,null);e.default=r.exports}}]);