(window.webpackJsonp=window.webpackJsonp||[]).push([[283],{855:function(e,t,i){"use strict";i.r(t);var n=i(28),r=Object(n.a)({},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[i("p",[e._v("Building On Linux - Epic Wiki")]),e._v(" "),i("h1",{attrs:{id:"building-on-linux"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#building-on-linux"}},[e._v("#")]),e._v(" Building On Linux")]),e._v(" "),i("p",[e._v("From Epic Wiki")]),e._v(" "),i("p",[e._v("(Redirected from "),i("a",{attrs:{href:"/index.php?title=BuildingOnLinux&redirect=no",title:"BuildingOnLinux"}},[e._v("BuildingOnLinux")]),e._v(")")]),e._v(" "),i("p",[e._v("Jump to: "),i("a",{attrs:{href:"#mw-navigation"}},[e._v("navigation")]),e._v(", "),i("a",{attrs:{href:"#p-search"}},[e._v("search")])]),e._v(" "),i("p",[i("strong",[e._v("Rate this Article:")])]),e._v(" "),i("p",[e._v("5.00")]),e._v(" "),i("p",[i("img",{attrs:{src:"/extensions/VoteNY/images/star_on.gif",alt:""}}),i("img",{attrs:{src:"/extensions/VoteNY/images/star_on.gif",alt:""}}),i("img",{attrs:{src:"/extensions/VoteNY/images/star_on.gif",alt:""}}),i("img",{attrs:{src:"/extensions/VoteNY/images/star_on.gif",alt:""}}),i("img",{attrs:{src:"/extensions/VoteNY/images/star_on.gif",alt:""}}),e._v(" (one vote)")]),e._v(" "),i("p",[e._v("Approved for Versions:(please verify)")]),e._v(" "),i("p",[e._v("This page contains information about the effort to build UE4 natively on a linux host. If you are looking for information about targeting Linux using the existing Mac or Windows tools please see "),i("a",{attrs:{href:"/Compiling_For_Linux",title:"Compiling For Linux"}},[e._v("Compiling For Linux")]),e._v(". The main page is "),i("a",{attrs:{href:"/Linux_Support",title:"Linux Support"}},[e._v("Linux support")]),e._v(".")]),e._v(" "),i("h2",{attrs:{id:"contents"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#contents"}},[e._v("#")]),e._v(" Contents")]),e._v(" "),i("ul",[i("li",[i("a",{attrs:{href:"#Current_State"}},[e._v("1 Current State")])]),e._v(" "),i("li",[i("a",{attrs:{href:"#Getting_Started"}},[e._v("2 Getting Started")]),e._v(" "),i("ul",[i("li",[i("a",{attrs:{href:"#Prerequisites"}},[e._v("2.1 Prerequisites")])])])]),e._v(" "),i("li",[i("a",{attrs:{href:"#Building"}},[e._v("3 Building")]),e._v(" "),i("ul",[i("li",[i("a",{attrs:{href:"#Docker_Builds"}},[e._v("3.1 Docker Builds")])]),e._v(" "),i("li",[i("a",{attrs:{href:"#Manual_Builds"}},[e._v("3.2 Manual Builds")]),e._v(" "),i("ul",[i("li",[i("a",{attrs:{href:"#Controlling_the_Build_Environment"}},[e._v("3.2.1 Controlling the Build Environment")])]),e._v(" "),i("li",[i("a",{attrs:{href:"#Enhancing_the_Makefile"}},[e._v("3.2.2 Enhancing the Makefile")])])])])])]),e._v(" "),i("li",[i("a",{attrs:{href:"#The_Editor"}},[e._v("4 The Editor")])]),e._v(" "),i("li",[i("a",{attrs:{href:"#Miscellaneous"}},[e._v("5 Miscellaneous")]),e._v(" "),i("ul",[i("li",[i("a",{attrs:{href:"#Building_with_a_VM"}},[e._v("5.1 Building with a VM")])]),e._v(" "),i("li",[i("a",{attrs:{href:"#Arch_Linux"}},[e._v("5.2 Arch Linux")]),e._v(" "),i("ul",[i("li",[i("a",{attrs:{href:"#Clang_3.3"}},[e._v("5.2.1 Clang 3.3")])])])]),e._v(" "),i("li",[i("a",{attrs:{href:"#Recent_Mono_versions"}},[e._v("5.3 Recent Mono versions")])])])])]),e._v(" "),i("h2",{attrs:{id:"current-state"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#current-state"}},[e._v("#")]),e._v(" Current State")]),e._v(" "),i("p",[e._v("We've been discussing it mostly on the IRC at "),i("a",{attrs:{href:"irc://irc.freenode.net/UE4Linux"}},[e._v("irc://irc.freenode.net/UE4Linux")]),e._v(", but you can also find a few forum threads about it. If you'd like see a working native Linux port, please jump in an join us. To catch up on our IRC conversations, you can access channel logs at "),i("a",{attrs:{href:"http://www.teemperor.de/ue4-logs/ue4linux/",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://www.teemperor.de/ue4-logs/ue4linux/"),i("OutboundLink")],1),e._v(".")]),e._v(" "),i("p",[e._v("Current state is stored in several github forks:")]),e._v(" "),i("ul",[i("li",[i("a",{attrs:{href:"https://github.com/3dluvr/UnrealEngine",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/3dluvr/UnrealEngine"),i("OutboundLink")],1),e._v(" - 4.4-linux currently builds and runs the Editor and other applications.")]),e._v(" "),i("li",[i("a",{attrs:{href:"https://github.com/wshearn/UnrealEngine/tree/4.3_linux",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/wshearn/UnrealEngine/tree/4.3_linux"),i("OutboundLink")],1),e._v(" - TBD,")]),e._v(" "),i("li",[i("a",{attrs:{href:"https://github.com/sbc100/UnrealEngine/tree/master_linux",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/sbc100/UnrealEngine/tree/master_linux"),i("OutboundLink")],1),e._v(" - builds but does not run Editor yet")])]),e._v(" "),i("p",[e._v("Builds and Runs (3dluvr repo):")]),e._v(" "),i("ul",[i("li",[e._v("UnrealHeaderTool")]),e._v(" "),i("li",[e._v("BlankProgram")]),e._v(" "),i("li",[e._v("SlateViewer")]),e._v(" "),i("li",[e._v("UE4Editor")]),e._v(" "),i("li",[e._v("ShaderCompileWorker")])]),e._v(" "),i("p",[e._v("Builds - Mostly Untested:")]),e._v(" "),i("ul",[i("li",[e._v("UE4EditorServices")]),e._v(" "),i("li",[e._v("UnrealLightmass")]),e._v(" "),i("li",[e._v("UnrealPak")]),e._v(" "),i("li",[e._v("UnrealFileServer")]),e._v(" "),i("li",[e._v("UnrealVersionSelector")]),e._v(" "),i("li",[e._v("UnrealFrontend")]),e._v(" "),i("li",[e._v("UE4Client")]),e._v(" "),i("li",[e._v("UE4Game")]),e._v(" "),i("li",[e._v("UE4Server")]),e._v(" "),i("li",[e._v("CrashReportClient")])]),e._v(" "),i("p",[e._v("Not appropiate on linux:")]),e._v(" "),i("ul",[i("li",[e._v("MinidumpDiagnostics")]),e._v(" "),i("li",[e._v("UnrealLaunchDaemon")]),e._v(" "),i("li",[e._v("SymbolDebugger")]),e._v(" "),i("li",[e._v("UnrealSync")])]),e._v(" "),i("h2",{attrs:{id:"getting-started"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#getting-started"}},[e._v("#")]),e._v(" Getting Started")]),e._v(" "),i("p",[e._v("The following instructions are copied from "),i("a",{attrs:{href:"https://github.com/3dluvr/UnrealEngine/blob/master_linux/Engine/Build/BatchFiles/Linux/README.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("Engine/Build/BatchFiles/Linux/README.md"),i("OutboundLink")],1),e._v(". The most up-to-date instructions will always be in git itself.")]),e._v(" "),i("h3",{attrs:{id:"prerequisites"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites"}},[e._v("#")]),e._v(" Prerequisites")]),e._v(" "),i("p",[e._v("You will need mono + gmcs installed in order to build:")]),e._v(" "),i("p",[e._v("$ sudo apt-get install mono-gmcs mono-xbuild mono-dmcs libmono-corlib4.0-cil libmono-system-data-datasetextensions4.0-cil libmono-system-web-extensions4.0-cil libmono-system-management4.0-cil libmono-system-xml-linq4.0-cil")]),e._v(" "),i("p",[e._v("You also need autoconf, git, curl, bison, flex, libz, glew, dos2unix, clang-3.3 and cmake 2.8.8+ so:")]),e._v(" "),i("p",[e._v("$ sudo apt-get install autoconf git curl bison flex zlib1g-dev libglew1.6-dev dos2unix clang-3.3 cmake")]),e._v(" "),i("p",[i("strong",[e._v("Depending whether you wish to use Qt or GTK for your dialogs, libqt4-dev or libqt5-dev or gtk2 or gtk3 will be needed.")])]),e._v(" "),i("h2",{attrs:{id:"building"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#building"}},[e._v("#")]),e._v(" Building")]),e._v(" "),i("h3",{attrs:{id:"docker-builds"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#docker-builds"}},[e._v("#")]),e._v(" Docker Builds")]),e._v(" "),i("p",[e._v("See "),i("a",{attrs:{href:"https://registry.hub.docker.com/u/wshearn/ue4editor/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://registry.hub.docker.com/u/wshearn/ue4editor/"),i("OutboundLink")],1)]),e._v(" "),i("h3",{attrs:{id:"manual-builds"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#manual-builds"}},[e._v("#")]),e._v(" Manual Builds")]),e._v(" "),i("p",[e._v("1. Download the additional archives Required_Linux_4.4.tar.bz2 and Required_Generic_4.4.tar.bz2 from 3dluvr's GitHub releases page at "),i("a",{attrs:{href:"https://github.com/3dluvr/UnrealEngine/releases/tag/4.4.0-release",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/3dluvr/UnrealEngine/releases/tag/4.4.0-release"),i("OutboundLink")],1),e._v(" and put them in your $HOME/Downloads")]),e._v(" "),i("p",[e._v("2. Download v130a of the Steamworks SDK and put it in $HOME/Downloads as well")]),e._v(" "),i("p",[e._v("3. Open a Terminal and clone the master branch from 3dluvr's GitHub:")]),e._v(" "),i("p",[e._v("$ git clone git@github.com:3dluvr/UnrealEngine.git (this will clone 4.4-linux)")]),e._v(" "),i("p",[e._v("4. After a 200MB+ download, switch to the newly cloned branch:")]),e._v(" "),i("p",[e._v("$ cd UnrealEngine")]),e._v(" "),i("p",[e._v("5. Next, change directory to where Linux scripts are:")]),e._v(" "),i("p",[e._v("$ cd Engine/Build/BatchFiles/Linux/")]),e._v(" "),i("p",[e._v("6. Install the downloaded dependencies with:")]),e._v(" "),i("p",[e._v("$ ./UpdateDeps.sh")]),e._v(" "),i("p",[e._v("7. Build third party libraries:")]),e._v(" "),i("p",[e._v("$ ./BuildThirdParty.sh")]),e._v(" "),i("p",[e._v("8. Build UnrealBuildTool (UBT) and generate top level Makefile:")]),e._v(" "),i("p",[e._v("$ ./GenerateProjectFiles.sh")]),e._v(" "),i("p",[e._v("9. Now go back to the Engine root folder:")]),e._v(" "),i("p",[e._v("$ cd -")]),e._v(" "),i("p",[e._v("10. Build your targets using the top-level Makefile. e.g:")]),e._v(" "),i("p",[e._v("$ make SlateViewer")]),e._v(" "),i("p",[e._v("Or by running `Build.sh` directly:")]),e._v(" "),i("p",[e._v("$ Engine/Build/BatchFiles/Linux/Build.sh SlateViewer Linux Development")]),e._v(" "),i("p",[e._v("To enable a more verbose output, append '-verbose' to the end of the Build.sh command (or ARGS=-verbose the make commandline):")]),e._v(" "),i("p",[e._v("$ Engine/Build/BatchFiles/Linux/Build.sh SlateViewer Linux Development -verbose")]),e._v(" "),i("h4",{attrs:{id:"controlling-the-build-environment"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#controlling-the-build-environment"}},[e._v("#")]),e._v(" Controlling the Build Environment")]),e._v(" "),i("p",[e._v("UnrealBuildTool (UBT) can be configured further by editing:")]),e._v(" "),i("p",[e._v("Engine/Saved/UnrealBuildTool/BuildConfiguration.xml")]),e._v(" "),i("p",[e._v("See the default file for a list of possible keys:")]),e._v(" "),i("p",[e._v("Engine/Programs/UnrealBuildTool/BuildConfiguration.xml")]),e._v(" "),i("h4",{attrs:{id:"enhancing-the-makefile"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#enhancing-the-makefile"}},[e._v("#")]),e._v(" Enhancing the Makefile")]),e._v(" "),i("p",[e._v("Makefile does not contain a "),i("strong",[e._v("clean")]),e._v(" method. You can edit the Makefile in the engine's root and add the following to it before "),i("strong",[e._v(".PHONY:")]),e._v(" statement at the bottom:")]),e._v(" "),i("p",[e._v("shaders-clean:\nrm -rf Engine/Intermediate/Shaders Engine/Saved Engine/DerivedDataCache Engine/Intermediate/CachedAssetRegistry.bin")]),e._v(" "),i("p",[e._v("editor-clean:\nrm -rf Engine/Intermediate/Build/Linux/x86_64-unknown-linux-gnu/UE4Editor Engine/Binaries/Linux/libUE4Editor-* Engine/Binaries/Linux/UE4Editor")]),e._v(" "),i("p",[e._v("clean:\nrm -f Engine/Binaries/Linux/Unreal* Engine/Binaries/Linux/UE* \\\nEngine/Binaries/Linux/libUnreal* Engine/Binaries/Linux/libUE* Engine/Binaries/Linux/libSh* \\\nEngine/Binaries/Linux/ShaderCompileWorker* Engine/Binaries/Linux/SlateViewer* Engine/Binaries/Linux/CrashReportClient*\nrm -rf Engine/Intermediate/Build Engine/Binaries/Linux/HTML5 Engine/Binaries/Linux/Linux")]),e._v(" "),i("p",[e._v("Make sure that the indented sections are not made out of spaces, but a single tab.")]),e._v(" "),i("h2",{attrs:{id:"the-editor"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#the-editor"}},[e._v("#")]),e._v(" The Editor")]),e._v(" "),i("p",[e._v("You really want the UE4Editor, so why wait any longer - build the Editor:")]),e._v(" "),i("p",[e._v("$ make ShaderCompileWorker UnrealLightmass UnrealPak UE4Editor")]),e._v(" "),i("p",[e._v("You are ready to test it now.")]),e._v(" "),i("p",[e._v("$ cd Engine/Binaries/Linux && ./UE4Editor")]),e._v(" "),i("p",[e._v("Fingers crossed all goes well, no crashes or other funny things. If they do, try running through gdb to see where it happens. Sometimes the issues are when running Open Source graphics drivers, so switch to the Binary Release, then try running again.")]),e._v(" "),i("p",[e._v("Otherwise, the Editor should present you with a Project Browser Window. Hooray. First time run will be longer because shaders need to convert/compile, so sit tight and if you don't have a Dual Xeon 12-Core workstation, process will take > 5 mins (even > 1 hour on 2-Core systems).")]),e._v(" "),i("p",[e._v("You are on your own now, create a new project and play with the Editor but don't run it in production, yet. 😉")]),e._v(" "),i("p",[i("strong",[e._v("Arch Linux users should try building the Editor using the Debug profile")]),e._v(":")]),e._v(" "),i("p",[e._v("$ make UE4Editor-Linux-Debug")]),e._v(" "),i("p",[e._v('This seems to work better not causing threading crashes seen when building standard "Development" profile. More investigation is needed at this point.')]),e._v(" "),i("h2",{attrs:{id:"miscellaneous"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#miscellaneous"}},[e._v("#")]),e._v(" Miscellaneous")]),e._v(" "),i("h3",{attrs:{id:"building-with-a-vm"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#building-with-a-vm"}},[e._v("#")]),e._v(" Building with a VM")]),e._v(" "),i("p",[e._v("Distributions of Linux that are not officially supported (i.e. Arch Linux) may have difficulty compiling and/or running the engine. You can build with the supported Linux distribution (Ubuntu 14.04 LTS at the time of this writing) like so:")]),e._v(" "),i("ul",[i("li",[e._v("set up a virtual machine with this OS")]),e._v(" "),i("li",[e._v("create a shared folder between the guest and host OS")]),e._v(" "),i("li",[e._v("place the Unreal Engine code in this folder")]),e._v(" "),i("li",[e._v("build Unreal Engine inside the VM")]),e._v(" "),i("li",[e._v("run the compiled executable on the host machine")])]),e._v(" "),i("h3",{attrs:{id:"arch-linux"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#arch-linux"}},[e._v("#")]),e._v(" Arch Linux")]),e._v(" "),i("p",[e._v("Arch users will have to either recompile their Clang or get a compiled package that does not use ld.gold, because ld.gold causes linking problems yet has been hard coded into Clang.")]),e._v(" "),i("p",[e._v("Optionally you could go through the following steps for a work around (faster and easier):")]),e._v(" "),i("p",[e._v("1. Open up a terminal.")]),e._v(" "),i("p",[e._v("2. Execute the following command:")]),e._v(" "),i("p",[e._v("$ mkdir ~/bin/ && cd ~/bin/ && ln -s /bin/ld.bfd ./ld.gold")]),e._v(" "),i("p",[e._v("3. Add the following line to your .bashrc (or .zshrc if you use zsh) usually found in the home folder (hidden).")]),e._v(" "),i("p",[e._v("export PATH=$HOME/bin:$PATH")]),e._v(" "),i("p",[e._v("4. Close all your terminals to apply the changes.")]),e._v(" "),i("h4",{attrs:{id:"clang-3-3"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#clang-3-3"}},[e._v("#")]),e._v(" Clang 3.3")]),e._v(" "),i("p",[e._v("It also appears there are issues with Clang 3.4, so using 3.3 is preferable. One of the websites with precompiled binaries of Clang 3.3 is "),i("a",{attrs:{href:"http://gaming.jhu.edu/mirror/archlinux/extra/os/x86_64/",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://gaming.jhu.edu/mirror/archlinux/extra/os/x86_64/"),i("OutboundLink")],1),e._v(", you will need clang-3.3, llvm-3.3 and, llvm-libs-3.3")]),e._v(" "),i("h3",{attrs:{id:"recent-mono-versions"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#recent-mono-versions"}},[e._v("#")]),e._v(" Recent Mono versions")]),e._v(" "),i("p",[e._v("If you are getting an error like this:")]),e._v(" "),i("p",[i("snip",[e._v("Engine/Engine/Source/Programs/AutomationTool/Linux/Linux.Automation.csproj:  warning : Project has unknown ToolsVersion '11.0'. Using the default tools version '2.0' instead.\n/usr/lib/mono/2.0/Microsoft.Common.targets:  warning : TargetFrameworkVersion 'v4.0' not supported by this toolset (ToolsVersion: 2.0).\n/usr/lib/mono/2.0/Microsoft.CSharp.targets: error : Error executing task Csc: Argument cannot be null.")])],1),e._v(" "),i("p",[e._v("Edit the following files:")]),e._v(" "),i("ul",[i("li",[i("p",[e._v("Engine/Source/Programs/AutomationTool/Linux/Linux.Automation.csproj")])]),e._v(" "),i("li",[i("p",[e._v("Engine/Source/Programs/AutomationTool/Android/Android.Automation.csproj")])]),e._v(" "),i("li",[i("p",[e._v("Engine/Source/Programs/AutomationTool/HTML5/HTML5.Automation.csproj")])])]),e._v(" "),i("p",[e._v("And change")]),e._v(" "),i("p",[e._v('ToolsVersion="11.0"')]),e._v(" "),i("p",[e._v("to")]),e._v(" "),i("p",[e._v('ToolsVersion="4.0"')]),e._v(" "),i("p",[e._v("usually found on the second or third line.")]),e._v(" "),i("p",[e._v("This can be automated with:")]),e._v(" "),i("p",[e._v('$ find Engine/Source/Programs/AutomationTool -name "*Automation.csproj" -exec sed -i "s/ToolsVersion=\\"11.0\\"/ToolsVersion=\\"4.0\\"/g" "{}" \\;')]),e._v(" "),i("p",[e._v("<-- Back to the main "),i("a",{attrs:{href:"/Linux_Support",title:"Linux Support"}},[e._v("Linux Support")]),e._v(" page.")]),e._v(" "),i("p",[e._v('Retrieved from "'),i("a",{attrs:{href:"https://wiki.unrealengine.com/index.php?title=Building_On_Linux&oldid=8610",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://wiki.unrealengine.com/index.php?title=Building_On_Linux&oldid=8610"),i("OutboundLink")],1),e._v('"')]),e._v(" "),i("p",[i("a",{attrs:{href:"/Special:Categories",title:"Special:Categories"}},[e._v("Categories")]),e._v(":")]),e._v(" "),i("ul",[i("li",[i("a",{attrs:{href:"/Category:Tutorials",title:"Category:Tutorials"}},[e._v("Tutorials")])]),e._v(" "),i("li",[i("a",{attrs:{href:"/Category:Code",title:"Category:Code"}},[e._v("Code")])]),e._v(" "),i("li",[i("a",{attrs:{href:"/Category:Community_Created_Content",title:"Category:Community Created Content"}},[e._v("Community Created Content")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);