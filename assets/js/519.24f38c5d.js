(window.webpackJsonp=window.webpackJsonp||[]).push([[519],{925:function(e,t,a){"use strict";a.r(t);var n=a(28),i=Object(n.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p",[e._v("Function Pointers - Epic Wiki")]),e._v(" "),a("h1",{attrs:{id:"function-pointers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#function-pointers"}},[e._v("#")]),e._v(" Function Pointers")]),e._v(" "),a("p",[e._v("From Epic Wiki")]),e._v(" "),a("p",[e._v("(Redirected from "),a("a",{attrs:{href:"/index.php?title=Function_Pointers_in_UE4_C%2B%2B&redirect=no",title:"Function Pointers in UE4 C++"}},[e._v("Function Pointers in UE4 C++")]),e._v(")")]),e._v(" "),a("p",[e._v("Jump to: "),a("a",{attrs:{href:"#mw-navigation"}},[e._v("navigation")]),e._v(", "),a("a",{attrs:{href:"#p-search"}},[e._v("search")])]),e._v(" "),a("h2",{attrs:{id:"contents"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#contents"}},[e._v("#")]),e._v(" Contents")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#Overview"}},[e._v("1 Overview")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#My_Example:_30_Behavior_Functions"}},[e._v("2 My Example: 30 Behavior Functions")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#Special_Thanks_and_C.2B.2B_Note"}},[e._v("3 Special Thanks and C++ Note")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#C.2B.2B_Code_for_UCLASS.28.29_Function_Pointers"}},[e._v("4 C++ Code for UCLASS() Function Pointers")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#.h"}},[e._v("4.1 .h")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#.cpp"}},[e._v("4.2 .cpp")])])])]),e._v(" "),a("li",[a("a",{attrs:{href:"#Syntax_Complexity_Comparison"}},[e._v("5 Syntax Complexity Comparison")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#Summary"}},[e._v("6 Summary")])])]),e._v(" "),a("h2",{attrs:{id:"overview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),a("p",[a("em",[e._v("Original Author:")]),e._v(" "),a("a",{attrs:{href:"/User:Rama",title:"User:Rama"}},[e._v("Rama")]),e._v(" ("),a("a",{attrs:{href:"/User_talk:Rama",title:"User talk:Rama"}},[e._v("talk")]),e._v(")")]),e._v(" "),a("p",[e._v("Dear Community,")]),e._v(" "),a("p",[e._v("When you have a whole bunch of functions that you want to call, that are all related in some way,")]),e._v(" "),a("p",[e._v("you can make a function pointer array to quickly access and call a specific function by index!")]),e._v(" "),a("h2",{attrs:{id:"my-example-30-behavior-functions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#my-example-30-behavior-functions"}},[e._v("#")]),e._v(" My Example: 30 Behavior Functions")]),e._v(" "),a("p",[e._v("In my example, I have 30 behaviors that are all virtual functions as part of an AI system.")]),e._v(" "),a("p",[e._v("Each creature needs to implement the behavior in its own way, so the functions are virtual.")]),e._v(" "),a("p",[e._v('But in the AI class, I need to be able to say "run this behavior function" quickly and easily.')]),e._v(" "),a("p",[e._v("That's what function pointers enable you to do!")]),e._v(" "),a("h2",{attrs:{id:"special-thanks-and-c-note"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#special-thanks-and-c-note"}},[e._v("#")]),e._v(" Special Thanks and C++ Note")]),e._v(" "),a("p",[e._v("You can easily find info on function pointers on the internet, but in UE4 classes you need to also specify the namespace, and I was having trouble with that part")]),e._v(" "),a("p",[e._v("Special thanks go to Steve Allison and other Epic Devs for offering the correct syntax!")]),e._v(" "),a("h2",{attrs:{id:"c-code-for-uclass-function-pointers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c-code-for-uclass-function-pointers"}},[e._v("#")]),e._v(" C++ Code for UCLASS() Function Pointers")]),e._v(" "),a("h3",{attrs:{id:"h"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#h"}},[e._v("#")]),e._v(" .h")]),e._v(" "),a("p",[e._v('#include "YourClass.generated.h"\n \n#define BEHAVIORS_MAX 30\n \nUCLASS()\nclass AYourClass : AActor //or any other class setup\n{\nGENERATED_UCLASS_BODY()\n \npublic:\n \n//The Function Pointer Variable Type\n//Functions take in 0 parameters and return void\ntypedef void (AYourClass::*FunctionPtrType)(void);\n \n//A static array of 30 Function Pointers\nFunctionPtrType BehaviorFunctions[BEHAVIORS_MAX];\n \n//Play a Behavior from the Function Pointer Array\n//\timplementation does not vary in subclasses, so not virtual\nvoid PlayBehavior(int32 BehaviorIndex );\n \n//Initialize the array\nvoid InitBehaviors();\n \n//The actual functions which are implemented in subclasses\n//or this class itself\nvirtual void PlayBehavior_Idle_LookLeftToRight();\nvirtual void PlayBehavior_Idle_LookFullCircle();\nvirtual void PlayBehavior_Idle_ScanUpDown();\n//...more functions')]),e._v(" "),a("h3",{attrs:{id:"cpp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cpp"}},[e._v("#")]),e._v(" .cpp")]),e._v(" "),a("p",[e._v("#define LOOK_FULL_CIRCLE 0\n \n#define SCAN_LEFT_TO_RIGHT 1\n \n#define SCAN_UP_DOWN\t  2\n//... more function index defines to 29\n \nvoid AYourClass::InitBehaviors()\n{\nBehaviorFunctions[LOOK_FULL_CIRCLE] = &AYourClass::PlayBehavior_Idle_LookFullCircle;\nBehaviorFunctions[SCAN_LEFT_TO_RIGHT] = &AYourClass::PlayBehavior_Idle_LookLeftToRight;\nBehaviorFunctions[SCAN_UP_DOWN] = &AYourClass::PlayBehavior_Idle_ScanUpDown;\n//...more functions\n}\n \nvoid AYourClass::PlayBehavior_Idle_LookLeftToRight(){}\nvoid AYourClass::PlayBehavior_Idle_LookFullCircle(){}\nvoid AYourClass::PlayBehavior_Idle_ScanUpDown(){}\n//...rest of functions\n \n \nvoid AYourClass::PlayBehavior(int32 BehaviorIndex )\n{\n//valid range check\nif (BehaviorIndex >= BEHAVIORS_MAX || BehaviorIndex < 0) return;\n//~~\n \n//Special Thanks to Epic for this Syntax\n(this->* (BehaviorFunctions[BehaviorIndex]))();\n \n//the above line plays the appropriate function based on the passed in index!\n}")]),e._v(" "),a("h2",{attrs:{id:"syntax-complexity-comparison"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#syntax-complexity-comparison"}},[e._v("#")]),e._v(" Syntax Complexity Comparison")]),e._v(" "),a("p",[e._v("this same sort of setup, without function pointers, would either have been a switch statement, or a series of if elses.")]),e._v(" "),a("p",[e._v("Supposing there were actually 30 entries you can see why a function pointer array simplifies all this!")]),e._v(" "),a("p",[e._v("this")]),e._v(" "),a("p",[e._v("//Without function pointers\nif(BehaviorIndex == SCAN_LEFT_TO_RIGHT)\nPlayBehavior_Idle_LookLeftToRight();\n \nelse if (BehaviorIndex == LOOK_FULL_CIRCLE)\nPlayBehavior_Idle_LookFullCircle();\n \nelse if (BehaviorIndex == SCAN_UP_DOWN)\nPlayBehavior_Idle_ScanUpDown();\n//...\n//...\n//and much much more ...")]),e._v(" "),a("p",[e._v("becomes this!")]),e._v(" "),a("p",[e._v("//With Function Pointers\n//Special Thanks to Epic for this Syntax\n(this->* (BehaviorFunctions[BehaviorIndex]))();\n \n//that's it! nothing else!!!!")]),e._v(" "),a("h2",{attrs:{id:"summary"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#summary"}},[e._v("#")]),e._v(" Summary")]),e._v(" "),a("p",[e._v("Thanks to Epic I can now present to you the correct C++ syntax for using UCLASS-specific function pointers!")]),e._v(" "),a("p",[a("a",{attrs:{href:"/User:Rama",title:"User:Rama"}},[e._v("Rama")]),e._v(" ("),a("a",{attrs:{href:"/User_talk:Rama",title:"User talk:Rama"}},[e._v("talk")]),e._v(")")]),e._v(" "),a("p",[e._v('Retrieved from "'),a("a",{attrs:{href:"https://wiki.unrealengine.com/index.php?title=Function_Pointers&oldid=2325",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://wiki.unrealengine.com/index.php?title=Function_Pointers&oldid=2325"),a("OutboundLink")],1),e._v('"')]),e._v(" "),a("p",[a("a",{attrs:{href:"/Special:Categories",title:"Special:Categories"}},[e._v("Category")]),e._v(":")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"/Category:Code",title:"Category:Code"}},[e._v("Code")])])])])}),[],!1,null,null,null);t.default=i.exports}}]);