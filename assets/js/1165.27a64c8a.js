(window.webpackJsonp=window.webpackJsonp||[]).push([[1165],{1095:function(e,t,o){"use strict";o.r(t);var a=o(28),n=Object(a.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("p",[e._v("Unreal Engine AI Tutorial - 2 - Avoidance - Epic Wiki")]),e._v(" "),o("h1",{attrs:{id:"unreal-engine-ai-tutorial-2-avoidance"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#unreal-engine-ai-tutorial-2-avoidance"}},[e._v("#")]),e._v(" Unreal Engine AI Tutorial - 2 - Avoidance")]),e._v(" "),o("p",[e._v("Authored by: Mieszko Zielinski")]),e._v(" "),o("p",[e._v("In this super quick tutorial I'll show you how to make your AI avoid each other while following paths. There are two separate ways UE4 supports AI avoidance and both are very easy to set up but the one resulting in better results has some restrictions and caveats. Let's start with the easier one (the caveats-less one).")]),e._v(" "),o("h3",{attrs:{id:"ucharactermovementcomponent-s-rvo"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#ucharactermovementcomponent-s-rvo"}},[e._v("#")]),e._v(" UCharacterMovementComponent's RVO")]),e._v(" "),o("p",[e._v("UCharacterMovementComponent has an embedded implementation of a simple RVO algorithm ("),o("a",{attrs:{href:"https://en.wikipedia.org/wiki/Velocity_obstacle",target:"_blank",rel:"noopener noreferrer"}},[e._v("Reciprocal Velocity Obstacle"),o("OutboundLink")],1),e._v("). To enable it just set the "),o("strong",[e._v("UCharacterMovementComponent::bUseRVOAvoidance")]),e._v(" flag on your AI and that's it (you can even do it in Blueprint!).")]),e._v(" "),o("p",[e._v("One thing you need to be aware of when using this feature is that it's navigation-agnostic which in practice means it doesn't care about navmesh and its bounds which in turn means AI can end up being pushed outside of navmesh by RVO simulation (see the T02_Avoidance map for an example).")]),e._v(" "),o("h3",{attrs:{id:"detour-crowd"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#detour-crowd"}},[e._v("#")]),e._v(" Detour Crowd")]),e._v(" "),o("p",[e._v("UE4 has an integration of DetourCrowd, which is a natural thing to have since we use (modified) "),o("a",{attrs:{href:"http://github.com/memononen/recastnavigation",target:"_blank",rel:"noopener noreferrer"}},[e._v("Recast"),o("OutboundLink")],1),e._v(" for navmesh generation. It's a lot more sophisticated then the CharacterMovementComponent's RVO and as such more complex.")]),e._v(" "),o("p",[e._v("The easiest way to enable DetourCrowd for your AI is to have your AI use "),o("strong",[e._v("UCrowdFollowingComponent")]),e._v(" for your AIController's PathFollowingComponent. You just need to do something like this:")]),e._v(" "),o("p",[o("code",[e._v('AMyVeryOwnAIController::AMyVeryOwnAIController(const FPostConstructInitializeProperties& PCIP) Â : Super(PCIP.SetDefaultSubobjectClass<UCrowdFollowingComponent>(TEXT("PathFollowingComponent"))) { // ... }')])]),e._v(" "),o("p",[e._v("This is curently the only way to enable detour crowd for your project, unfortunately. It's the case since there's no way to override Actor's default subobjects in blueprints just yet. Alternatively we'll introduce an out of the box AIController that uses crowd pathfollowing. Stay tuned for more information on this topicÂ ðŸ˜‰")]),e._v(" "),o("h3",{attrs:{id:"these-don-t-cooperate"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#these-don-t-cooperate"}},[e._v("#")]),e._v(" These don't cooperate!")]),e._v(" "),o("p",[e._v("The two avoidance methods described here do not work together. I haven't tried enabling both on a single AI so I can only imagine what would happen exactly, but since RVO works on movement component level I'd guess it will override whatever DetourCrowd tries to do.")]),e._v(" "),o("h3",{attrs:{id:"summary"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#summary"}},[e._v("#")]),e._v(" Summary")]),e._v(" "),o("p",[e._v("There's a lot more to cover in terms of configuring or tweaking avoidance, especially DetourCrowd, bit I would prefer to introduce stuff in bite-sized chunks. The defaults work well enough to get anyone off the ground when setting up a project, and I'll cover avoidance tweaking in one of the future, more advanced tutorials.")]),e._v(" "),o("p",[e._v("As always there's some "),o("a",{attrs:{href:"http://github.com/MieszkoZ/AITutorialCPP/commit/51996b803b0f1681b6b90460f7e385cfc5e5d584",target:"_blank",rel:"noopener noreferrer"}},[e._v("github"),o("OutboundLink")],1),e._v(" goodies (not a lot this time around) and "),o("a",{attrs:{href:"http://unreal-ai-tutorial.info/repo/AITutorial02_Avoidance.zip",target:"_blank",rel:"noopener noreferrer"}},[e._v("content"),o("OutboundLink")],1),e._v(" (just a single map) that come along. Give them a try to see UE4 avoidance in action!")]),e._v(" "),o("p",[e._v("Don't hesitate to share your feedback!")]),e._v(" "),o("p",[o("a",{attrs:{href:"/Unreal_Engine_AI_Tutorial_-_1_-_Making_AI_Jump_as_a_Part_of_Path_Following",title:"Unreal Engine AI Tutorial - 1 - Making AI Jump as a Part of Path Following"}},[e._v("Previous Tutorial")])]),e._v(" "),o("p",[e._v('Retrieved from "'),o("a",{attrs:{href:"https://wiki.unrealengine.com/index.php?title=Unreal_Engine_AI_Tutorial_-_2_-_Avoidance&oldid=15983",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://wiki.unrealengine.com/index.php?title=Unreal_Engine_AI_Tutorial_-_2_-_Avoidance&oldid=15983"),o("OutboundLink")],1),e._v('"')]),e._v(" "),o("p",[o("a",{attrs:{href:"/Special:Categories",title:"Special:Categories"}},[e._v("Category")]),e._v(":")]),e._v(" "),o("ul",[o("li",[o("a",{attrs:{href:"/Category:Tutorials",title:"Category:Tutorials"}},[e._v("Tutorials")])])]),e._v(" "),o("p",[o("img",{attrs:{src:"https://tracking.unrealengine.com/track.png",alt:""}})])])}),[],!1,null,null,null);t.default=n.exports}}]);