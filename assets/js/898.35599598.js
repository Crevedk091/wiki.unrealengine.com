(window.webpackJsonp=window.webpackJsonp||[]).push([[898],{1417:function(e,t,n){"use strict";n.r(t);var r=n(28),a=Object(r.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("p",[e._v("Passing Arguments To Server During Connection - Epic Wiki")]),e._v(" "),n("h1",{attrs:{id:"passing-arguments-to-server-during-connection"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#passing-arguments-to-server-during-connection"}},[e._v("#")]),e._v(" Passing Arguments To Server During Connection")]),e._v(" "),n("p",[n("strong",[e._v("Rate this Article:")])]),e._v(" "),n("p",[e._v("4.00")]),e._v(" "),n("p",[n("img",{attrs:{src:"/extensions/VoteNY/images/star_on.gif",alt:""}}),n("img",{attrs:{src:"/extensions/VoteNY/images/star_on.gif",alt:""}}),n("img",{attrs:{src:"/extensions/VoteNY/images/star_on.gif",alt:""}}),n("img",{attrs:{src:"/extensions/VoteNY/images/star_on.gif",alt:""}}),n("img",{attrs:{src:"/extensions/VoteNY/images/star_off.gif",alt:""}}),e._v(" (one vote)")]),e._v(" "),n("p",[e._v("Approved for Versions:(please verify)")]),e._v(" "),n("p",[e._v("Just a quick tutorial from me today. It may be pretty self explanatory but maybe someone is trying to figure this out for themselves right now.")]),e._v(" "),n("p",[e._v("When working on our upcoming PC game in Unreal Engine 4 I found a need to pass information about the player from the client to the server, but without replication, and without an RPC once connected.")]),e._v(" "),n("p",[e._v("First let me explain some of the server side architecture. This game is going to have hosted dedicated servers that are created on demand on cloud machines. Players won't be hosting these themselves in order to keep the game fair and competitive. As a result I wanted to pass this information from my client while it was connecting to the dedicated server. It's incredibly easy to do this once you understand how connection to a server works in UE4.")]),e._v(" "),n("p",[e._v("Connection is handled through the "),n("a",{attrs:{href:"https://docs.unrealengine.com/latest/INT/API/Runtime/Engine/GameFramework/APlayerController/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("APlayerController"),n("OutboundLink")],1),e._v(" class inside the function "),n("a",{attrs:{href:"https://docs.unrealengine.com/latest/INT/API/Runtime/Engine/GameFramework/APlayerController/ClientTravel/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("ClientTravel"),n("OutboundLink")],1),e._v(". "),n("a",{attrs:{href:"https://docs.unrealengine.com/latest/INT/API/Runtime/Engine/GameFramework/APlayerController/ClientTravel/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("ClientTravel"),n("OutboundLink")],1),e._v(" takes two required arguments and two optional. The required arguments are an address (including port) and what type of travel it is. Most cases the travel will be absolute. The address is the important piece of information though.")]),e._v(" "),n("p",[e._v("Your typical address will look something like this.")]),e._v(" "),n("p",[e._v('FString Address = TEXT("127.0.0.1:7777");')]),e._v(" "),n("p",[e._v("So we have our address but how do we append our parameters to the address so that the server can read them when the client connects? Appending parameters is quite similar to a URL in a web browser.")]),e._v(" "),n("p",[e._v('FString Address = FString::Printf(TEXT("127.0.0.1:7777?Param1=%s?Param2=%s"), *Param1, *Param2);')]),e._v(" "),n("p",[e._v("That is all it takes. Now once the client connects the server will be able to access those parameters.")]),e._v(" "),n("p",[e._v("Inside the "),n("a",{attrs:{href:"https://docs.unrealengine.com/latest/INT/API/Runtime/Engine/GameFramework/AGameMode/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("AGameMode"),n("OutboundLink")],1),e._v("class there's a function named "),n("a",{attrs:{href:"https://docs.unrealengine.com/latest/INT/API/Runtime/Engine/GameFramework/AGameMode/InitNewPlayer/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("InitNewPlayer"),n("OutboundLink")],1),e._v(". This is called when a player connects and it takes in a "),n("a",{attrs:{href:"https://docs.unrealengine.com/latest/INT/API/Runtime/Engine/GameFramework/AController/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("AController"),n("OutboundLink")],1),e._v(", "),n("a",{attrs:{href:"https://docs.unrealengine.com/latest/INT/API/Runtime/OnlineSubsystem/FUniqueNetId/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("FUniqueNetId"),n("OutboundLink")],1),e._v(", FString. The FString named Options is what we're worried about here. By overriding the "),n("a",{attrs:{href:"https://docs.unrealengine.com/latest/INT/API/Runtime/Engine/GameFramework/AGameMode/InitNewPlayer/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("InitNewPlayer"),n("OutboundLink")],1),e._v(" function you can parse the additional parameters passed in by doing the following.")]),e._v(" "),n("p",[e._v('FString Param1 = ParseOption(Options, TEXT("Param1"));\nFString Param2 = ParseOption(Options, TEXT("Param2"));')]),e._v(" "),n("p",[e._v("Now you can do whatever it is you needed to with the information you've passed onto the server. Hope this helped!")]),e._v(" "),n("p",[e._v("Reposted from "),n("a",{attrs:{href:"http://www.osnapgames.com/2014/06/13/passing-and-reading-arguments-to-an-unreal-engine-4-server-upon-connection/",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://www.osnapgames.com/2014/06/13/passing-and-reading-arguments-to-an-unreal-engine-4-server-upon-connection/"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v('Retrieved from "'),n("a",{attrs:{href:"https://wiki.unrealengine.com/index.php?title=Passing_Arguments_To_Server_During_Connection&oldid=8295",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://wiki.unrealengine.com/index.php?title=Passing_Arguments_To_Server_During_Connection&oldid=8295"),n("OutboundLink")],1),e._v('"')]),e._v(" "),n("p",[n("a",{attrs:{href:"/Special:Categories",title:"Special:Categories"}},[e._v("Categories")]),e._v(":")]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"/Category:Tutorials",title:"Category:Tutorials"}},[e._v("Tutorials")])]),e._v(" "),n("li",[n("a",{attrs:{href:"/Category:Code",title:"Category:Code"}},[e._v("Code")])]),e._v(" "),n("li",[n("a",{attrs:{href:"/Category:Community_Created_Content",title:"Category:Community Created Content"}},[e._v("Community Created Content")])])]),e._v(" "),n("p",[e._v("Hidden category:")]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"/Category:Templates",title:"Category:Templates"}},[e._v("Templates")])])]),e._v(" "),n("p",[n("img",{attrs:{src:"https://tracking.unrealengine.com/track.png",alt:""}})])])}),[],!1,null,null,null);t.default=a.exports}}]);