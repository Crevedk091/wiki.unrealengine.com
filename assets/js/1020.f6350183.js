(window.webpackJsonp=window.webpackJsonp||[]).push([[1020],{622:function(e,t,a){"use strict";a.r(t);var i=a(28),r=Object(i.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p",[e._v("Steam, Using the Steam SDK During Development - Epic Wiki")]),e._v(" "),a("h1",{attrs:{id:"steam-using-the-steam-sdk-during-development"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#steam-using-the-steam-sdk-during-development"}},[e._v("#")]),e._v(" Steam, Using the Steam SDK During Development")]),e._v(" "),a("p",[e._v("From Epic Wiki")]),e._v(" "),a("p",[e._v("Jump to: "),a("a",{attrs:{href:"#mw-head"}},[e._v("navigation")]),e._v(", "),a("a",{attrs:{href:"#p-search"}},[e._v("search")])]),e._v(" "),a("h2",{attrs:{id:"contents"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#contents"}},[e._v("#")]),e._v(" Contents")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#Overview"}},[e._v("1 Overview")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#Steamworks_SDK"}},[e._v("2 Steamworks SDK")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#Github_Engine_Builds_vs_Retail_UE4_Builds"}},[e._v("3 Github Engine Builds vs Retail UE4 Builds")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#Retail_Builds_Skip_to_This_Step"}},[e._v("3.1 Retail Builds Skip to This Step")])])])]),e._v(" "),a("li",[a("a",{attrs:{href:"#Engine.2FSource.2FThirdParty.2FSteamworks"}},[e._v("4 Engine/Source/ThirdParty/Steamworks")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#Steam_Build_CS"}},[e._v("5 Steam Build CS")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#Engine.2FBinaries.2FThirdParty.2FSteamworks"}},[e._v("6 Engine/Binaries/ThirdParty/Steamworks")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#Dll_Files"}},[e._v("7 Dll Files")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#Win64"}},[e._v("7.1 Win64")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#Win32"}},[e._v("7.2 Win32")])])])]),e._v(" "),a("li",[a("a",{attrs:{href:"#Build.CS"}},[e._v("8 Build.CS")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#Target.cs"}},[e._v("9 Target.cs")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#Config.2FDefaultEngine.ini"}},[e._v("10 Config/DefaultEngine.ini")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#WinPlatform.Automation.cs"}},[e._v("11 WinPlatform.Automation.cs")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#OnlineSubsystemPlugin"}},[e._v("12 OnlineSubsystemPlugin")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#Some_Tips"}},[e._v("13 Some Tips")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#Epic_Tutorial"}},[e._v("14 Epic Tutorial")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#Packaging"}},[e._v("15 Packaging")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#Packaging_w.2F_Steam_for_Shipping_Builds"}},[e._v("16 Packaging w/ Steam for Shipping Builds")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#Running_Steam_on_Mac"}},[e._v("17 Running Steam on Mac")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#Conclusion"}},[e._v("18 Conclusion")])])]),e._v(" "),a("h2",{attrs:{id:"overview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),a("p",[a("em",[e._v("Original Author:")]),e._v(" Rama")]),e._v(" "),a("p",[e._v("Dear Community,")]),e._v(" "),a("p",[e._v("This is my guide to getting Steamworks running with your game!")]),e._v(" "),a("p",[e._v("You do not need to have been Greenlit to start using the Steam SDK during your game's development process.")]),e._v(" "),a("h2",{attrs:{id:"steamworks-sdk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#steamworks-sdk"}},[e._v("#")]),e._v(" Steamworks SDK")]),e._v(" "),a("p",[e._v("(in 4.7 and beyond you dont need to do this step, you will find the Steam binaries in Engine/Binaries/ThirdParty/Steamworks)")]),e._v(" "),a("p",[e._v("Download the steamworks SDK:")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://partner.steamgames.com/%7C",target:"_blank",rel:"noopener noreferrer"}},[e._v("Steamworks SDK"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v('Identify what the latest version is that you are downloading, such as "v129a"')]),e._v(" "),a("h2",{attrs:{id:"github-engine-builds-vs-retail-ue4-builds"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#github-engine-builds-vs-retail-ue4-builds"}},[e._v("#")]),e._v(" Github Engine Builds vs Retail UE4 Builds")]),e._v(" "),a("p",[e._v("Please note that recompiling the engine and modifying the Steamworks build cs is not required.")]),e._v(" "),a("p",[e._v("If you are not using your own locally built verison of the engine you should be able to simply download the Steam SDK and skip to this step:")]),e._v(" "),a("h3",{attrs:{id:"retail-builds-skip-to-this-step"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#retail-builds-skip-to-this-step"}},[e._v("#")]),e._v(" Retail Builds Skip to This Step")]),e._v(" "),a("p",[a("strong",[a("a",{attrs:{href:"#Engine.2FBinaries.2FThirdParty.2FSteamworks"}},[e._v("Binaries, DLL copying")])])]),e._v(" "),a("h2",{attrs:{id:"engine-source-thirdparty-steamworks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#engine-source-thirdparty-steamworks"}},[e._v("#")]),e._v(" Engine/Source/ThirdParty/Steamworks")]),e._v(" "),a("p",[e._v("Copy the entire contents of the downloaded SDK to")]),e._v(" "),a("p",[e._v("Engine/Source/ThirdParty/Steamworks/Steamv129a")]),e._v(" "),a("p",[e._v("or whatever your current version is!")]),e._v(" "),a("p",[e._v("So you will end up with folder structure like this")]),e._v(" "),a("p",[e._v("Engine/Source/ThirdParty/Steamworks/Steamv129a/sdk/")]),e._v(" "),a("h2",{attrs:{id:"steam-build-cs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#steam-build-cs"}},[e._v("#")]),e._v(" Steam Build CS")]),e._v(" "),a("p",[e._v("Open the Steam Build CS contained in the directory structure")]),e._v(" "),a("p",[e._v("Engine/Source/ThirdParty/Steamworks/")]),e._v(" "),a("p",[e._v("Make sure the version number there matches the version you downloaded as the Steam SDK!")]),e._v(" "),a("h2",{attrs:{id:"engine-binaries-thirdparty-steamworks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#engine-binaries-thirdparty-steamworks"}},[e._v("#")]),e._v(" Engine/Binaries/ThirdParty/Steamworks")]),e._v(" "),a("p",[e._v("Now in your UE4 engine's "),a("strong",[e._v("Binaries")]),e._v(" folder you must create this directory structure")]),e._v(" "),a("p",[e._v("Engine/Binaries/ThirdParty/Steamworks/Steamv129a/Win64\nEngine/Binaries/ThirdParty/Steamworks/Steamv129a/Win32")]),e._v(" "),a("p",[e._v("Remember to use your current steam version as shown in the SDK you downloaded!")]),e._v(" "),a("h2",{attrs:{id:"dll-files"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dll-files"}},[e._v("#")]),e._v(" Dll Files")]),e._v(" "),a("p",[e._v("Dlls marked with ("),a("em",[e._v("Steam Client Install Dir")]),e._v(") are found in your "),a("strong",[e._v("program files x86 / Steam")]),e._v(" directory (regular steam client)")]),e._v(" "),a("p",[e._v("The other 2 dlls are found in the SDK you downloaded in this directory structure")]),e._v(" "),a("p",[e._v("sdk/redistributable_bin")]),e._v(" "),a("h3",{attrs:{id:"win64"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#win64"}},[e._v("#")]),e._v(" Win64")]),e._v(" "),a("p",[e._v("steam_api64.dll\t(Downloaded SDK)\nsteamclient64.dll \t(Steam Client Install Dir)\ntier0_s64.dll\t\t(Steam Client Install Dir)\nvstdlib_s64.dll \t(Steam Client Install Dir)")]),e._v(" "),a("h3",{attrs:{id:"win32"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#win32"}},[e._v("#")]),e._v(" Win32")]),e._v(" "),a("p",[e._v("steam_api.dll\t\t(Downloaded SDK)\nsteamclient.dll \t(Steam Client Install Dir)\ntier0_s.dll  \t\t(Steam Client Install Dir)\nvstdlib_s.dll  \t(Steam Client Install Dir)")]),e._v(" "),a("h2",{attrs:{id:"build-cs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#build-cs"}},[e._v("#")]),e._v(" Build.CS")]),e._v(" "),a("p",[e._v("In your game's build.cs you need to include this:")]),e._v(" "),a("p",[e._v('PublicDependencyModuleNames.AddRange(new string[] {\n"OnlineSubsystem",\n"OnlineSubsystemUtils"\n});')]),e._v(" "),a("p",[e._v('DynamicallyLoadedModuleNames.Add("OnlineSubsystemSteam");')]),e._v(" "),a("h2",{attrs:{id:"target-cs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#target-cs"}},[e._v("#")]),e._v(" Target.cs")]),e._v(" "),a("p",[e._v("In your game's Target.cs, add "),a("strong",[e._v("bUsesSteam=true")]),e._v(" in the constructor. Here's an example:")]),e._v(" "),a("p",[a("syntaxhighlight",{attrs:{lang:"cpp"}},[e._v(" public class ShooterGameTargetÂ : TargetRules {")])],1),e._v(" "),a("p",[e._v("public ShooterGameTarget(TargetInfo Target)\n{\nType = TargetType.Game;\nbUsesSteam = true;\n}\n.....")]),e._v(" "),a("h2",{attrs:{id:"config-defaultengine-ini"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#config-defaultengine-ini"}},[e._v("#")]),e._v(" Config/DefaultEngine.ini")]),e._v(" "),a("p",[a("syntaxhighlight",{attrs:{lang:"cpp"}},[e._v(' [/Script/Engine.GameEngine] !NetDriverDefinitions=ClearArray +NetDriverDefinitions=(DefName="GameNetDriver",DriverClassName="/Script/OnlineSubsystemSteam.SteamNetDriver",DriverClassNameFallback="/Script/OnlineSubsystemUtils.IpNetDriver")')])],1),e._v(" "),a("p",[e._v("[OnlineSubsystem] DefaultPlatformService=Steam PollingIntervalInMs=20")]),e._v(" "),a("p",[e._v("[OnlineSubsystemSteam] bEnabled=true SteamDevAppId=480 GameServerQueryPort=27015 bRelaunchInSteam=false GameVersion=1.0.0.0 bVACEnabled=1 bAllowP2PPacketRelay=true P2PConnectionTimeout=90")]),e._v(" "),a("p",[e._v('[/Script/OnlineSubsystemSteam.SteamNetDriver] NetConnectionClassName="/Script/OnlineSubsystemSteam.SteamNetConnection" ')]),e._v(" "),a("h2",{attrs:{id:"winplatform-automation-cs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#winplatform-automation-cs"}},[e._v("#")]),e._v(" WinPlatform.Automation.cs")]),e._v(" "),a("p",[e._v("In Visual Studio, this file is in the folder "),a("strong",[e._v("Programs/Automation/Win.Automation/WinPlatform.Automation.cs")]),e._v(". Open it, and check that this string has your Steam API version:")]),e._v(" "),a("p",[e._v('string SteamVersion = "Steamv131";')]),e._v(" "),a("h2",{attrs:{id:"onlinesubsystemplugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#onlinesubsystemplugin"}},[e._v("#")]),e._v(" OnlineSubsystemPlugin")]),e._v(" "),a("p",[e._v(">Edit from Rumbleball 29.03.2018")]),e._v(" "),a("p",[e._v("This Wiki entry seems to be pretty old and there seems to be some changes to the engine. UE4.16+ (at least) you will need to enable the OnlinesubSystemSteam Plugin for your game. If you don't do that, you will get the following warnings in the output window of the editor: "),a("syntaxhighlight",{attrs:{lang:"cpp"}})],1),e._v(" "),a("p",[e._v("LogModuleManager:Warning: No filename provided for module OnlineSubsystemSteam\nLogModuleManager:Warning: ModuleManager: Unable to load module 'OnlineSubsystemSteam' because the file 'D:/Programs/Epic Games/4.13/Engine/Binaries/Win64/' was not found.")]),e._v(" "),a("p",[e._v(" To enable the plugin: Open the editor and go to Edit->Plugins->Online Platform and enable 'Online Subsystem Steam'")]),e._v(" "),a("h2",{attrs:{id:"some-tips"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#some-tips"}},[e._v("#")]),e._v(" Some Tips")]),e._v(" "),a("p",[e._v("1. There is an awesome program written by a community member named Garner. Check it out here:")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://forums.unrealengine.com/showthread.php?67565-Steam-Setup-Utility",target:"_blank",rel:"noopener noreferrer"}},[e._v("Steam Setup Utility by Garner"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v('2. Trying to run your game in PIE mode may give you a "Steam API disabled!" Error. Run your game in standalone mode to see if things get better.')]),e._v(" "),a("h2",{attrs:{id:"epic-tutorial"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#epic-tutorial"}},[e._v("#")]),e._v(" Epic Tutorial")]),e._v(" "),a("p",[e._v("Epic's tutorial on this subject is here:")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://docs.unrealengine.com/latest/INT/Programming/Online/Steam/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Online Subsystem Steam"),a("OutboundLink")],1)]),e._v(" "),a("h2",{attrs:{id:"packaging"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#packaging"}},[e._v("#")]),e._v(" Packaging")]),e._v(" "),a("p",[e._v("(This is not required in more recent engine builds, just check the ThirdParty folder to make sure Steam is there)")]),e._v(" "),a("p",[e._v("When packaging your game you must copy the Steam binaries from the engine ThirdParty to your packaged game Engine/ThirdParty")]),e._v(" "),a("p",[e._v("Engine/Binaries/ThirdParty/Steamworks")]),e._v(" "),a("h2",{attrs:{id:"packaging-w-steam-for-shipping-builds"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#packaging-w-steam-for-shipping-builds"}},[e._v("#")]),e._v(" Packaging w/ Steam for Shipping Builds")]),e._v(" "),a("p",[e._v("For shipping builds you must manually create a file called:")]),e._v(" "),a("p",[e._v("steam_appid.txt")]),e._v(" "),a("p",[e._v("and in that file put just your app id with no extra whitespaces (spaces or returns or anything like that)")]),e._v(" "),a("p",[e._v("to test you could create such a file and put just 480 in it.")]),e._v(" "),a("p",[e._v("â¥ Rama")]),e._v(" "),a("h2",{attrs:{id:"running-steam-on-mac"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#running-steam-on-mac"}},[e._v("#")]),e._v(" Running Steam on Mac")]),e._v(" "),a("p",[e._v("Quoting Epic tutorial:")]),e._v(" "),a("p",[e._v('Contrary to Windows, Steam Overlay on Mac requires game to be launched using Steam client. For this you first need to add the game to your library using "Add a Non-Steam Game to My Library" option from Steam\'s Games menu.'),a("a",{attrs:{href:"https://docs.unrealengine.com/latest/INT/Programming/Online/Steam/index.html#steamoverlayonmac",target:"_blank",rel:"noopener noreferrer"}},[e._v("[1]"),a("OutboundLink")],1)]),e._v(" "),a("h2",{attrs:{id:"conclusion"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#conclusion"}},[e._v("#")]),e._v(" Conclusion")]),e._v(" "),a("p",[e._v("If everything works you will see the steam pop up appear in the lower right and you can press SHIFT+TAB to see the Steam overlay!")]),e._v(" "),a("p",[e._v("If you see in your log that the .dlls can't be found, check two things")]),e._v(" "),a("p",[e._v("1. You put them in "),a("strong",[e._v("Binaries")]),e._v(" not Source")]),e._v(" "),a("p",[e._v("2. and you named the folder appropriately for your version number, ex:")]),e._v(" "),a("p",[e._v("Binaries/ThirdParty/Steamworks/Steamv129")]),e._v(" "),a("p",[e._v("Enjoy!")]),e._v(" "),a("p",[a("a",{attrs:{href:"/index.php?title=User:Rama",title:"User:Rama"}},[e._v("Rama")]),e._v(" ("),a("a",{attrs:{href:"/index.php?title=User_talk:Rama",title:"User talk:Rama"}},[e._v("talk")]),e._v(")")]),e._v(" "),a("p",[e._v('Retrieved from "'),a("a",{attrs:{href:"https://wiki.unrealengine.com/index.php?title=Steam,_Using_the_Steam_SDK_During_Development&oldid=59",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://wiki.unrealengine.com/index.php?title=Steam,_Using_the_Steam_SDK_During_Development&oldid=59"),a("OutboundLink")],1),e._v('"')]),e._v(" "),a("p",[a("a",{attrs:{href:"/index.php?title=Special:Categories",title:"Special:Categories"}},[e._v("Category")]),e._v(":")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"/index.php?title=Category:Code",title:"Category:Code"}},[e._v("Code")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);