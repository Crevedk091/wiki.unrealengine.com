(window.webpackJsonp=window.webpackJsonp||[]).push([[593],{1004:function(e,t,n){"use strict";n.r(t);var i=n(28),r=Object(i.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("p",[e._v("Html5 - Tidbits - Epic Wiki")]),e._v(" "),n("h1",{attrs:{id:"html5-tidbits"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#html5-tidbits"}},[e._v("#")]),e._v(" Html5 - Tidbits")]),e._v(" "),n("p",[e._v("This page is meant to serve as an archive for assorted information regarding HTML5 development.")]),e._v(" "),n("h4",{attrs:{id:"exporting-c-functions-to-javascript"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#exporting-c-functions-to-javascript"}},[e._v("#")]),e._v(" Exporting C functions to Javascript")]),e._v(" "),n("p",[n("img",{attrs:{src:"https://d26ilriwvtzlb.cloudfront.net/b/b3/Icon_template_warning1.png",alt:"Note"}})]),e._v(" "),n("p",[n("em",[e._v("Disclaimer: this is a living document based on current research and experience. This currently does not work.")])]),e._v(" "),n("p",[e._v("Somewhere in the project, define a global C function to be called by Javascript")]),e._v(" "),n("p",[e._v('extern "C"\n{\n#if PLATFORM_HTML5_BROWSER\nDEFINE_LOG_CATEGORY_STATIC(LogHTML5, Log, All);\n \nvoid my_func( const char* _string, int _number )\n{\n#ifdef __EMSCRIPTEN_TRACING__\n// Log to emscripten\nemscripten_log( EM_LOG_CONSOLE, TEXT("my_func( %s, %d )"), _string, _number );\n#endif\n \n// Log to UE console\nUE_LOG( LogHTML5, Verbose, TEXT("my_func( %s, %d )"), _string, _number );\n}\n \n#endif\n}')]),e._v(" "),n("p",[e._v("Append the C function name with a prefixed '_' to this EXPORTED_FUNCTIONS array")]),e._v(" "),n("p",[e._v("// File\n// "),n("Engine",[e._v("/Source/Programs/UnrealBuildTool/HTML5/HTML5ToolChain.cs(87)\n \nResult += \" -s EXPORTED_FUNCTIONS=\\\"['_main', '_resize_game', '_on_fatal', '_my_func']\\\" \";")])],1),e._v(" "),n("p",[e._v("The Javascript that handles the web interface gets pulled from a template during build, so any changes should be done to that.")]),e._v(" "),n("p",[e._v("// File\n// "),n("Engine",[e._v("/Build/HTML5/GameX.html.template(223+)\nvar UE4 = {\n...\nget my_func() {\nvar fn = Module.cwrap('my_func', null, ['string'],['number'] );\ndelete UE4[\"my_func\"];\nUE4.my_func = fn;\nreturn fn;\n},\n...\n};\n \n// Now anywhere inside Javascript, you can call\nUE4.my_func(\"mystring\", 1234);")])],1),e._v(" "),n("p",[e._v('Retrieved from "'),n("a",{attrs:{href:"https://wiki.unrealengine.com/index.php?title=Html5_-_Tidbits&oldid=17912",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://wiki.unrealengine.com/index.php?title=Html5_-_Tidbits&oldid=17912"),n("OutboundLink")],1),e._v('"')]),e._v(" "),n("p",[n("a",{attrs:{href:"/Special:Categories",title:"Special:Categories"}},[e._v("Category")]),e._v(":")]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"/Category:Templates",title:"Category:Templates"}},[e._v("Templates")])])]),e._v(" "),n("p",[n("img",{attrs:{src:"https://tracking.unrealengine.com/track.png",alt:""}})])])}),[],!1,null,null,null);t.default=r.exports}}]);