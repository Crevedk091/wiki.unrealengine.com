<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>wiki.unrealengine.com</title>
    <meta name="description" content="A static site pulled from the internet archive">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/wiki.unrealengine.com/assets/css/0.styles.b0e83839.css" as="style"><link rel="preload" href="/wiki.unrealengine.com/assets/js/app.aaf63946.js" as="script"><link rel="preload" href="/wiki.unrealengine.com/assets/js/2.4f53495e.js" as="script"><link rel="preload" href="/wiki.unrealengine.com/assets/js/509.854feaea.js" as="script">
    <link rel="stylesheet" href="/wiki.unrealengine.com/assets/css/0.styles.b0e83839.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wiki.unrealengine.com/" class="home-link router-link-active"><!----> <span class="site-name">wiki.unrealengine.com</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><p>Float as String With Precision - Epic Wiki</p> <h1 id="float-as-string-with-precision"><a href="#float-as-string-with-precision" class="header-anchor">#</a> Float as String With Precision</h1> <p>From Epic Wiki</p> <p>Jump to: <a href="#mw-head">navigation</a>, <a href="#p-search">search</a></p> <h2 id="contents"><a href="#contents" class="header-anchor">#</a> Contents</h2> <ul><li><a href="#Overview">1 Overview</a></li> <li><a href="#Thank_You_Epic">2 Thank You Epic</a></li> <li><a href="#Static">3 Static</a></li> <li><a href="#Code_For_You">4 Code For You</a></li> <li><a href="#Include_Leading_Zero">5 Include Leading Zero</a></li> <li><a href="#Example_Usage">6 Example Usage</a></li> <li><a href="#Output">7 Output</a></li> <li><a href="#More_Info_on_C.2B.2B_Static_Function_Libraries">8 More Info on C++ Static Function Libraries</a></li> <li><a href="#Summary">9 Summary</a></li></ul> <h2 id="overview"><a href="#overview" class="header-anchor">#</a> Overview</h2> <p><em>Author:</em> <a href="/index.php?title=User:Rama" title="User:Rama">Rama</a> (<a href="/index.php?title=User_talk:Rama" title="User talk:Rama">talk</a>)</p> <p>Here is my function for obtaining a float as a string, but limiting the number of decimal places.</p> <p>And including appropriate rounding!</p> <h2 id="thank-you-epic"><a href="#thank-you-epic" class="header-anchor">#</a> Thank You Epic</h2> <p>Please note I am leveraging all the hard work of Epic Engineers by using the conversion functions provided with the FText class.</p> <p>Thank You Epic!</p> <h2 id="static"><a href="#static" class="header-anchor">#</a> Static</h2> <p>I recommend making your own static library of functions to use anywhere in your code, if you are just wanting to test stuff just remove the word static and put this in any .h file of your choosing</p> <h2 id="code-for-you"><a href="#code-for-you" class="header-anchor">#</a> Code For You</h2> <p><syntaxhighlight lang="cpp"> //In YourFunctionLibrary.h</syntaxhighlight></p> <p>//Float as String With Precision! static FORCEINLINE FString GetFloatAsStringWithPrecision(float TheFloat, int32 Precision, bool IncludeLeadingZero=true) {</p> <div class="language- extra-class"><pre><code>   //Round to integral if have something like 1.9999 within precision
</code></pre></div><p>float Rounded = roundf(TheFloat); if(FMath::Abs(TheFloat - Rounded) &lt; FMath::Pow(10,-1 * Precision)) { TheFloat = Rounded; } FNumberFormattingOptions NumberFormat; //Text.h NumberFormat.MinimumIntegralDigits = (IncludeLeadingZero) ? 1 : 0; NumberFormat.MaximumIntegralDigits = 10000; NumberFormat.MinimumFractionalDigits = Precision; NumberFormat.MaximumFractionalDigits = Precision; return FText::AsNumber(TheFloat, &amp;NumberFormat).ToString(); }</p> <p>//Float as FText With Precision! static FORCEINLINE FText GetFloatAsTextWithPrecision(float TheFloat, int32 Precision, bool IncludeLeadingZero=true) {</p> <div class="language- extra-class"><pre><code>   //Round to integral if have something like 1.9999 within precision
</code></pre></div><p>float Rounded = roundf(TheFloat); if(FMath::Abs(TheFloat - Rounded) &lt; FMath::Pow(10,-1 * Precision)) { TheFloat = Rounded; } FNumberFormattingOptions NumberFormat; //Text.h NumberFormat.MinimumIntegralDigits = (IncludeLeadingZero) ? 1 : 0; NumberFormat.MaximumIntegralDigits = 10000; NumberFormat.MinimumFractionalDigits = Precision; NumberFormat.MaximumFractionalDigits = Precision; return FText::AsNumber(TheFloat, &amp;NumberFormat); } </p> <h2 id="include-leading-zero"><a href="#include-leading-zero" class="header-anchor">#</a> Include Leading Zero</h2> <p>Please note in my function you can opt to have a value of 0.5 display as</p> <p>.5</p> <p>or</p> <p>0.5</p> <p>Based on whether you want that leading zero or not!</p> <p>Yay!</p> <h2 id="example-usage"><a href="#example-usage" class="header-anchor">#</a> Example Usage</h2> <p><syntaxhighlight lang="cpp"> const float MyFloat = 16.16621111111111111111;</syntaxhighlight></p> <p>FString Str = &quot;My Float is &quot;; Str += UYourFunctionLibrary::GetFloatAsStringWithPrecision(MyFloat,2); ClientMessage(Str); </p> <h2 id="output"><a href="#output" class="header-anchor">#</a> Output</h2> <p>My Float is 16.17</p> <h2 id="more-info-on-c-static-function-libraries"><a href="#more-info-on-c-static-function-libraries" class="header-anchor">#</a> More Info on C++ Static Function Libraries</h2> <p><strong>My Wiki On Static Function Libraries</strong> <a href="https://wiki.unrealengine.com/Static_Function_Libraries,_Your_Own_Version_of_UE4_C%2B%2B,_No_Engine_Compile_Times" target="_blank" rel="noopener noreferrer">https://wiki.unrealengine.com/Static_Function_Libraries,_Your_Own_Version_of_UE4_C%2B%2B,_No_Engine_Compile_Times<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="summary"><a href="#summary" class="header-anchor">#</a> Summary</h2> <p>I hope you enjoy this function!</p> <p><a href="/index.php?title=User:Rama" title="User:Rama">Rama</a> (<a href="/index.php?title=User_talk:Rama" title="User talk:Rama">talk</a>)</p> <p>Retrieved from &quot;<a href="https://wiki.unrealengine.com/index.php?title=Float_as_String_With_Precision&amp;oldid=625" target="_blank" rel="noopener noreferrer">https://wiki.unrealengine.com/index.php?title=Float_as_String_With_Precision&amp;oldid=625<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>&quot;</p> <p><a href="/index.php?title=Special:Categories" title="Special:Categories">Category</a>:</p> <ul><li><a href="/index.php?title=Category:Code" title="Category:Code">Code</a></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/wiki.unrealengine.com/assets/js/app.aaf63946.js" defer></script><script src="/wiki.unrealengine.com/assets/js/2.4f53495e.js" defer></script><script src="/wiki.unrealengine.com/assets/js/509.854feaea.js" defer></script>
  </body>
</html>
