<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>wiki.unrealengine.com</title>
    <meta name="description" content="A static site pulled from the internet archive">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/wiki.unrealengine.com/assets/css/0.styles.b0e83839.css" as="style"><link rel="preload" href="/wiki.unrealengine.com/assets/js/app.aaf63946.js" as="script"><link rel="preload" href="/wiki.unrealengine.com/assets/js/2.4f53495e.js" as="script"><link rel="preload" href="/wiki.unrealengine.com/assets/js/1238.ee0bdf9b.js" as="script">
    <link rel="stylesheet" href="/wiki.unrealengine.com/assets/css/0.styles.b0e83839.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wiki.unrealengine.com/" class="home-link router-link-active"><!----> <span class="site-name">wiki.unrealengine.com</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><p>World Machine to UE4 using World Composition - Epic Wiki</p> <h1 id="world-machine-to-ue4-using-world-composition"><a href="#world-machine-to-ue4-using-world-composition" class="header-anchor">#</a> World Machine to UE4 using World Composition</h1> <p>From Epic Wiki</p> <p>Jump to: <a href="#mw-head">navigation</a>, <a href="#p-search">search</a></p> <p><a href="/index.php?title=Template:Rating&amp;action=edit&amp;redlink=1" title="Template:Rating (page does not exist)">Template:Rating</a></p> <h2 id="contents"><a href="#contents" class="header-anchor">#</a> Contents</h2> <ul><li><a href="#Overview">1 Overview</a></li> <li><a href="#Terrain_Creation_in_WM">2 Terrain Creation in WM</a> <ul><li><a href="#Generators">2.1 Generators</a></li> <li><a href="#Natural_Processes">2.2 Natural Processes</a></li></ul></li> <li><a href="#Terrain_Export_in_WM">3 Terrain Export in WM</a> <ul><li><a href="#Tiled_Build_Setup">3.1 Tiled Build Setup</a></li> <li><a href="#General_Setup">3.2 General Setup</a></li> <li><a href="#Height_Output_Setup">3.3 Height Output Setup</a></li> <li><a href="#Weightmaps_Setup">3.4 Weightmaps Setup</a></li> <li><a href="#Build">3.5 Build</a></li></ul></li> <li><a href="#Terrain_Material_Setup_in_UE4">4 Terrain Material Setup in UE4</a></li> <li><a href="#World_Composition_in_UE4">5 World Composition in UE4</a> <ul><li><a href="#Persistent_Level_Setup">5.1 Persistent Level Setup</a></li> <li><a href="#Tiled_Landscape_Import">5.2 Tiled Landscape Import</a></li></ul></li> <li><a href="#Terrain_in_UE4">6 Terrain in UE4</a></li></ul> <h2 id="overview"><a href="#overview" class="header-anchor">#</a> Overview</h2> <p><em>Author:</em> <a href="/index.php?title=User:Lyons_Den&amp;action=edit&amp;redlink=1" title="User:Lyons Den (page does not exist)">Lyons Den</a> (<a href="/index.php?title=User_talk:Lyons_Den&amp;action=edit&amp;redlink=1" title="User talk:Lyons Den (page does not exist)">talk</a>)</p> <div class="language- extra-class"><pre><code> Creating worlds can be a long and detailed process. The time it takes to create worlds can be lessened with the proper steps. The process covered below creates tiled terrains in World Machine, exports them in the correct format with weightmaps, and imports them into UE4 using the world composition tool. Feel free to edit any information that is inacurate or add new information that may be relevant.
</code></pre></div><h2 id="terrain-creation-in-wm"><a href="#terrain-creation-in-wm" class="header-anchor">#</a> Terrain Creation in WM</h2> <div class="language- extra-class"><pre><code> Terrains can be created in many different programs and can even be created in UE4 itself. For this tutorial we will be using World Machine to create every part of the terrain. Below is the process of creating a quick terrain with an 8km by 8km size when imported into UE4.
</code></pre></div><h3 id="generators"><a href="#generators" class="header-anchor">#</a> Generators</h3> <div class="language- extra-class"><pre><code> In world Machine there are multiple ways to create terrains. One way is a procedural way using perlin or any other kind of noise generators. Another way is to import a heightmap created in another program as a basis. For the purposes of this tutorial we will be using the noise generators. Follow the steps below to create a terrain using a generator.
</code></pre></div><ol><li>Clear the world area to start fresh.</li> <li>Drag an advanced perlin noise device into the world.</li> <li>Double click on the device and change the parameters around to get the terrain you want.</li></ol> <h3 id="natural-processes"><a href="#natural-processes" class="header-anchor">#</a> Natural Processes</h3> <div class="language- extra-class"><pre><code> One of the major features of World Machine is the natural processors. These include erosion, thermal weathering and more. These give your terrains that real world look. Follow the steps below to add erosion to the terrain.
</code></pre></div><ol><li>Drag an erosion device into the world.</li> <li>Connect the ouput of the advanced perlin noise device to the erosion input.</li> <li>Double click on the erosion device and edit the settings to get the look you want.</li></ol> <h2 id="terrain-export-in-wm"><a href="#terrain-export-in-wm" class="header-anchor">#</a> Terrain Export in WM</h2> <div class="language- extra-class"><pre><code>To export the terrain from World Machine follow below. The export process is ran once exporting multiple files used for weightmaps for textures as well as the main heightmaps.
</code></pre></div><h3 id="tiled-build-setup"><a href="#tiled-build-setup" class="header-anchor">#</a> Tiled Build Setup</h3> <div class="language- extra-class"><pre><code>Under &quot;World Extents and Resolution&quot; you will see a &quot;Tiled Build Options&quot; tab (This option is only available in World Machine Professional). Set the following options.
</code></pre></div><ol><li>Tile Resolution - Custom 2017 x 2017</li> <li>Tiles per Side - 4 x 4</li> <li>Blending Percentage - 100%</li> <li>Share edge vertices - tick</li> <li>Flip Y-axis orientation - tick</li></ol> <p><a href="/index.php?title=File:Tile_Build_Options.png"><img src="https://d3ar1piqh1oeli.cloudfront.net/8/84/Tile_Build_Options.png/400px-Tile_Build_Options.png" alt="Tile Build Options.png"></a></p> <h3 id="general-setup"><a href="#general-setup" class="header-anchor">#</a> General Setup</h3> <p>Under the &quot;General Setup&quot; tab make note of the maximum elevation used. You can change this to your needs but remember that number, it will be used when importing into UE4.</p> <p><a href="/index.php?title=File:World_Machine_General_Settings.png"><img src="https://d3ar1piqh1oeli.cloudfront.net/4/44/World_Machine_General_Settings.png/400px-World_Machine_General_Settings.png" alt="World Machine General Settings.png"></a></p> <h3 id="height-output-setup"><a href="#height-output-setup" class="header-anchor">#</a> Height Output Setup</h3> <div class="language- extra-class"><pre><code> Ensure the final height output is attached to a Height Output node. Ensure the settings follow the settings below:
</code></pre></div><ol><li>Filename - Filepath/Planet_Name</li> <li>Participate in tiled builds - tick</li> <li>High Precision - RAW16</li></ol> <p><a href="/index.php?title=File:Height_Output_Settings.png"><img src="https://d26ilriwvtzlb.cloudfront.net/c/c1/Height_Output_Settings.png" alt="Height Output Settings.png"></a></p> <h3 id="weightmaps-setup"><a href="#weightmaps-setup" class="header-anchor">#</a> Weightmaps Setup</h3> <div class="language- extra-class"><pre><code> Setup whatever weightmap selections you wish to use. Follow the steps below to setup weightmaps based off terrain angle.
</code></pre></div><ol><li>Create 3 Select Slope Nodes</li> <li>Attach the Primary Output node to each select slope input node.</li> <li>Set the angle selections for each select angle nodes.</li> <li>Attach the outputs from the select angle nodes to a height output node.</li> <li>Set a distinct name for each output and make sure it is tileable. Below are some screen shots for each step.</li></ol> <p><a href="/index.php?title=File:World_Machine_Node_Setup.png"><img src="https://d3ar1piqh1oeli.cloudfront.net/3/3c/World_Machine_Node_Setup.png/400px-World_Machine_Node_Setup.png" alt="World Machine Node Setup.png"></a> <a href="/index.php?title=File:Select_Angle_Node.png"><img src="https://d26ilriwvtzlb.cloudfront.net/e/e7/Select_Angle_Node.png" alt="Select Angle Node.png"></a> <a href="/index.php?title=File:Weightmap_Output_Settings.png"><img src="https://d26ilriwvtzlb.cloudfront.net/0/09/Weightmap_Output_Settings.png" alt="Weightmap Output Settings.png"></a></p> <h3 id="build"><a href="#build" class="header-anchor">#</a> Build</h3> <div class="language- extra-class"><pre><code>Now just click the tiled build option and let it run.
</code></pre></div><h2 id="terrain-material-setup-in-ue4"><a href="#terrain-material-setup-in-ue4" class="header-anchor">#</a> Terrain Material Setup in UE4</h2> <div class="language- extra-class"><pre><code> The material for the terrain should be setup first. Follow the steps below to setup a terrain ready to accept the weightmaps exported earlier.
</code></pre></div><ol><li>Create a new material in UE4.</li> <li>Create a Landscape Layer Weight node for each weightmap you exported from World Machine. In the example in the previous section we exported 3 weightmaps based of High, Mid, and low angles.</li> <li>Name the Layer Weights something you will remember and can associate with the weightmaps exported from World Machine.</li> <li>Connect the output of the layer you want on the bottom to the &quot;Base&quot; input of the layer you want in the middle.</li> <li>Connect the output of the layer you want in the middle to the &quot;Base&quot; input of the layer you want on top.</li> <li>Connect the output of the layer you want on top to the &quot;Base Color&quot; input on the material node.</li> <li>Drag the textures you want to use for each layer into the material editor.</li> <li>Connect the outputs of the textures to the associated &quot;Layer&quot; input on the landscape layer weight nodes.</li> <li>Add a Landscape Layer Coords and attach the output to the &quot;UVs&quot; input of each texture node.</li> <li>In the Landscape Layer Coords set the tiling to whatever you want. Start with 25 and go from there.</li> <li>If you wish to use Normal Maps for the textures duplicate the process above. Instead of connecting the output of the last layer weight node to the &quot;Base Color&quot; input, connect it to the &quot;Normal&quot; input on the material node.</li> <li>Below is an example node structure.</li></ol> <p><a href="/index.php?title=File:Landscape_Material.png"><img src="https://d3ar1piqh1oeli.cloudfront.net/9/91/Landscape_Material.png/400px-Landscape_Material.png" alt="Landscape Material.png"></a></p> <h2 id="world-composition-in-ue4"><a href="#world-composition-in-ue4" class="header-anchor">#</a> World Composition in UE4</h2> <div class="language- extra-class"><pre><code> World composition allows smaller chunks of the planet be loaded at runtime when the player is close enough to that chunk. Below are the steps to get the terrain into the world.
</code></pre></div><h3 id="persistent-level-setup"><a href="#persistent-level-setup" class="header-anchor">#</a> Persistent Level Setup</h3> <div class="language- extra-class"><pre><code>To setup the persistent level follow the steps below:
</code></pre></div><ol><li>Create a new level with a sky-box pre-built or not.</li> <li>Save the file with the Planet or location name.</li> <li>Open the world settings and check the box labeled &quot;Enable World Composition&quot;</li></ol> <p><a href="/index.php?title=File:UE4_World_Settings.png"><img src="https://d26ilriwvtzlb.cloudfront.net/f/fd/UE4_World_Settings.png" alt="UE4 World Settings.png"></a></p> <h3 id="tiled-landscape-import"><a href="#tiled-landscape-import" class="header-anchor">#</a> Tiled Landscape Import</h3> <div class="language- extra-class"><pre><code>To import a tiled landscape follow the steps below
</code></pre></div><ol><li>Open the levels window.</li> <li>Click the Levels drop down menu in the upper-left of the levels window.</li> <li>Select &quot;Import Tiled Landscape...&quot;</li> <li>Click the &quot;Select heightmap Tiles...&quot; button.</li> <li>Navigate to the folder where you saved the raw heightmap images from World Machine</li> <li>Select all the tiled files. (e.g. Planet_Name_x0_y0)</li> <li>Change the Z scale. Times the world height used from World Machine by 0.1953125 and enter that number in Z scale.</li> <li>Select the Material created earlier. Once selected it should give you the weightmaps option.</li> <li>Now click the &quot;Select Weightmap Tiles...&quot; button.</li> <li>Navigate to the folder where you saved the raw weightmap images from World Machine</li> <li>Select all the tiled files for each weightmap. (e.g. Planet_Name_HighAngle-x0_y0)</li> <li>Then click &quot;Import&quot;</li> <li>Select all the Planet_Name_x#_y# levels in the Levels window</li> <li>Right click and select load to see if the imported properly.</li> <li>Below are some images of the process.</li></ol> <p><a href="/index.php?title=File:UE4_Levels_Window.png"><img src="https://d26ilriwvtzlb.cloudfront.net/3/38/UE4_Levels_Window.png" alt="UE4 Levels Window.png"></a> <a href="/index.php?title=File:UE4_Tiled_Landscape_Import.png"><img src="https://d26ilriwvtzlb.cloudfront.net/c/c4/UE4_Tiled_Landscape_Import.png" alt="UE4 Tiled Landscape Import.png"></a> <a href="/index.php?title=File:UE4_Tiled_Landscape_Import_Final.png"><img src="https://d26ilriwvtzlb.cloudfront.net/e/e5/UE4_Tiled_Landscape_Import_Final.png" alt="UE4 Tiled Landscape Import Final.png"></a> <a href="/index.php?title=File:UE4_Levels_Window_Level_Load.png"><img src="https://d26ilriwvtzlb.cloudfront.net/c/ce/UE4_Levels_Window_Level_Load.png" alt="UE4 Levels Window Level Load.png"></a></p> <h2 id="terrain-in-ue4"><a href="#terrain-in-ue4" class="header-anchor">#</a> Terrain in UE4</h2> <div class="language- extra-class"><pre><code>Below are the images of the terrain fully loaded into UE4 using the process above.
</code></pre></div><p><a href="/index.php?title=File:UE4_Terrain_in_Engine_2.jpg"><img src="https://d3ar1piqh1oeli.cloudfront.net/2/2e/UE4_Terrain_in_Engine_2.jpg/400px-UE4_Terrain_in_Engine_2.jpg" alt="UE4 Terrain in Engine 2.jpg"></a> <a href="/index.php?title=File:UE4_Terrain_in_Engine.jpg"><img src="https://d3ar1piqh1oeli.cloudfront.net/4/47/UE4_Terrain_in_Engine.jpg/400px-UE4_Terrain_in_Engine.jpg" alt="UE4 Terrain in Engine.jpg"></a></p> <p>Retrieved from &quot;<a href="https://wiki.unrealengine.com/index.php?title=World_Machine_to_UE4_using_World_Composition&amp;oldid=91" target="_blank" rel="noopener noreferrer">https://wiki.unrealengine.com/index.php?title=World_Machine_to_UE4_using_World_Composition&amp;oldid=91<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>&quot;</p> <p><a href="/index.php?title=Special:Categories" title="Special:Categories">Categories</a>:</p> <ul><li><a href="/index.php?title=Category:Tutorials&amp;action=edit&amp;redlink=1" title="Category:Tutorials (page does not exist)">Tutorials</a></li> <li><a href="/index.php?title=Category:Landscape" title="Category:Landscape">Landscape</a></li> <li><a href="/index.php?title=Category:Community_Created_Content" title="Category:Community Created Content">Community Created Content</a></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/wiki.unrealengine.com/assets/js/app.aaf63946.js" defer></script><script src="/wiki.unrealengine.com/assets/js/2.4f53495e.js" defer></script><script src="/wiki.unrealengine.com/assets/js/1238.ee0bdf9b.js" defer></script>
  </body>
</html>
