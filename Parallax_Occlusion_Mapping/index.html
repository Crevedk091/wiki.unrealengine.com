<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>wiki.unrealengine.com</title>
    <meta name="description" content="A static site pulled from the internet archive">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/wiki.unrealengine.com/assets/css/0.styles.b0e83839.css" as="style"><link rel="preload" href="/wiki.unrealengine.com/assets/js/app.aaf63946.js" as="script"><link rel="preload" href="/wiki.unrealengine.com/assets/js/2.4f53495e.js" as="script"><link rel="preload" href="/wiki.unrealengine.com/assets/js/894.0ee996be.js" as="script">
    <link rel="stylesheet" href="/wiki.unrealengine.com/assets/css/0.styles.b0e83839.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wiki.unrealengine.com/" class="home-link router-link-active"><!----> <span class="site-name">wiki.unrealengine.com</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><p>Parallax Occlusion Mapping - Epic Wiki</p> <h1 id="parallax-occlusion-mapping"><a href="#parallax-occlusion-mapping" class="header-anchor">#</a> Parallax Occlusion Mapping</h1> <h2 id="contents"><a href="#contents" class="header-anchor">#</a> Contents</h2> <ul><li><a href="#Parallax_Occlusion_Mapping">1 Parallax Occlusion Mapping</a></li> <li><a href="#Assets_Used">2 Assets Used</a></li> <li><a href="#Material_Outcome">3 Material Outcome</a></li> <li><a href="#Steps_to_Follow">4 Steps to Follow</a></li></ul> <h2 id="parallax-occlusion-mapping-2"><a href="#parallax-occlusion-mapping-2" class="header-anchor">#</a> Parallax Occlusion Mapping</h2> <p>This tutorial is a simple example of how to set up Parallax Occlusion Mapping (POM). It is assumed the user has an intermediate understanding of the Material Editor and its associated terminology.</p> <p>Parallax Occlusion Mapping or (POM) is an enhancement of the parallax mapping technique. Parallax occlusion mapping is used to procedurally create 3D definition in textured surfaces, using a displacement map (similar to a topography map) instead of through the generation of new geometry.</p> <p>I will be giving a brief explanation of the inputs being used, but if you want a more in depth explanation head to the <a href="http://www.twitch.tv/unrealengine/v/34107433" target="_blank" rel="noopener noreferrer">http://www.twitch.tv/unrealengine/v/34107433<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and listen to Ryan Brucks go into greater detail on the POM Function.</p> <h2 id="assets-used"><a href="#assets-used" class="header-anchor">#</a> Assets Used</h2> <p>The textures used in this example are T_CobbleStone_Pebble from the Starter Content pack. You will also want a somewhat curved plane mesh for the material function to work well for this example. I have attached the example mesh in this tutorial below.</p> <p><a href="/File:POM_Mesh.zip" title="File:POM Mesh.zip">File:POM Mesh.zip</a></p> <h2 id="material-outcome"><a href="#material-outcome" class="header-anchor">#</a> Material Outcome</h2> <p>Here is an example of what your outcome will look like. This is a simple example of how POM can be used as a filler around large objects like rocks and pillars.</p> <p><a href="/File:ParallaxOcclusionMapping_Example.PNG"><img src="https://d3ar1piqh1oeli.cloudfront.net/d/d5/ParallaxOcclusionMapping_Example.PNG/800px-ParallaxOcclusionMapping_Example.PNG" alt=""></a></p> <p>POM Example</p> <h2 id="steps-to-follow"><a href="#steps-to-follow" class="header-anchor">#</a> Steps to Follow</h2> <p>1. Create new blank project with Starter Content.</p> <p>2. Import the attached mesh (or your own if you have one).</p> <p>3. In the Content Browser locate the 'T_CobbleStone_Pebble_M'</p> <p>4. Right-click on the texture sample and choose the 'Create Material' option.</p> <p>5. Within the Material Editor graph, right-click and type 'Parallax' and select the 'Parallax Occlusion Mapping' material function.</p> <p>6. Hold the 'S' key and left click to create a Scalar Parameter. You will want to create 5 of these.</p> <p>7. Right-click the texture sample 'T_CobbleStone_Pebble_M' and convert it to a texture object and plug it into the 'Heightmap Texture(T2d).</p> <p>8. Take one of your Scalar Parameters and name it 'Height of Texture' and plug this into the 'Height Ratio' input.</p> <div class="language- extra-class"><pre><code>This will define the height your texture will appear to be &quot;lifted&quot;
</code></pre></div><p>9. Take another one of your Scalar Parameters and name it 'Min Steps', give it a value of 8.0, and plug it into the Min Steps input.</p> <div class="language- extra-class"><pre><code>The Min and Max steps affect the quality of the function as specific view angles.
Specifically the amount of steps required to reach the effect. 
Ryan Brucks provides a more in depth explanation of this on the twitch stream.
</code></pre></div><p>10. Create a 'Multiply', 'Lerp', and 'Dither TemporalAA' node.</p> <p>11. Name another Scalar Parameter 'Max Steps' and the other 'TempAA Step Multiplier'</p> <p>12. Plug the 'Dither TemporalAA' node into the 'Alpha' of the 'Lerp' and the 'TempAA Step Multiplier' into the 'B' input.</p> <div class="language- extra-class"><pre><code>This is done to reduce artifacts when used in combination with TemporalAA.
</code></pre></div><p>13. Plug the output of the 'Lerp' into the 'B' of the 'Multiply' and the 'Max Steps' to the 'A' input.</p> <p>14. Plug the output of the 'Multiply' into the input of 'Max Steps'</p> <div class="language- extra-class"><pre><code>This is to help increase accuracy and quality when looking at the meshes surface at flat angles.
</code></pre></div><p>15. Create another 'Multiply' and give the 'A' input a 'TexCoord' and the 'B' input a Scalar Parameter named 'Tiling'. Plug this into the 'UVs(V2)'.</p> <div class="language- extra-class"><pre><code>This will allow you to modify the texture tiling.
</code></pre></div><p>16. Now create a 'Vector4' parameter and name it 'Channel'. Set it's values to 1,0,0,0.</p> <p>17. Create an 'Append' node and connect the sRGB output from the 'Channel' parameter to the 'A' and the 'Alpha' to the 'B'. Plug the 'Output' from the 'Append' to the 'Heightmap Channel(V4)' input.</p> <p>18. Now create a 'DDX' and a 'DDY' node.</p> <div class="language- extra-class"><pre><code>These will be connected to the Multiply from the 'TexCoord' 
and plug directly into the Normal texture sample. This is
also done to reduce artifacts when calculating Mips. 
</code></pre></div><p>19. Create a 'Static Bool Parameter' and name it 'Specify Manual Texture' and plug this into the relative input of the POM node. Set the default value to 'False'.</p> <p>Your material graph should look something like the below image thus far. If you are having trouble viewing the image you can click on it to navigate to the original file to view the largest size.</p> <p><a href="/File:POM_MatFunction_Input.PNG"><img src="https://d3ar1piqh1oeli.cloudfront.net/3/32/POM_MatFunction_Input.PNG/850px-POM_MatFunction_Input.PNG" alt=""></a></p> <p>POM Inputs</p> <p>20. Now drag the 'T_CobbleStone_Pebbles_N' and the 'T_CobbleStone_Pebbles_D' texture samples into the material graph.</p> <p>21. Plug the 'Parallax UVs' output from the POM function into the UVs of each texture sample.</p> <p>22. Select the normal texture sample and change the 'MipValueMode' to 'Derivative'</p> <p>23. Plug the output of the 'DDX' and 'DDY' into their relative inputs on the normal texture sample.</p> <p>24. Plug the diffuse texture sample and normal sample into their respective inputs of the material.</p> <p>25. Plug the 'Pixel Depth Offset' output into the same input of the material.</p> <p><a href="/File:POM_MatFunctionOutput.PNG"><img src="https://d3ar1piqh1oeli.cloudfront.net/5/53/POM_MatFunctionOutput.PNG/800px-POM_MatFunctionOutput.PNG" alt=""></a></p> <p>POM Connected to Material</p> <p>Congratulations, you have now successfully created a material using Parallax Occlusion Mapping! Now create a material instance and apply it to your mesh to edit your parameters and see how each one affects the outcome.</p> <p>Keep in mind, this is an expensive function in itself so you need to use it wisely.</p> <ul><li>Note - You might need to disable shadow casting on the mesh to get the correct visual effect. This is because the shadows are not accounting for the offset height and still trying to cast a shadow using the original mesh. There are ways to change this using the bottom half of the POM function, but that will be for another time! Goodluck and have fun making some awesome materials!</li></ul> <p>Thanks for following along! I have written some more tutorials you can check out by following the links within my Wiki Profile page found below.</p> <p><a href="/User:AndrewHurley" title="User:AndrewHurley">Andrew Hurley Wiki Profile Page</a></p> <p>Retrieved from &quot;<a href="https://wiki.unrealengine.com/index.php?title=Parallax_Occlusion_Mapping&amp;oldid=22665" target="_blank" rel="noopener noreferrer">https://wiki.unrealengine.com/index.php?title=Parallax_Occlusion_Mapping&amp;oldid=22665<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>&quot;</p> <p><a href="/Special:Categories" title="Special:Categories">Categories</a>:</p> <ul><li><a href="/Category:Epic_Created_Content" title="Category:Epic Created Content">Epic Created Content</a></li> <li><a href="/Category:Material" title="Category:Material">Material</a></li> <li><a href="/Category:Tutorials" title="Category:Tutorials">Tutorials</a></li></ul> <p><img src="https://tracking.unrealengine.com/track.png" alt=""></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/wiki.unrealengine.com/assets/js/app.aaf63946.js" defer></script><script src="/wiki.unrealengine.com/assets/js/2.4f53495e.js" defer></script><script src="/wiki.unrealengine.com/assets/js/894.0ee996be.js" defer></script>
  </body>
</html>
