<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>wiki.unrealengine.com</title>
    <meta name="description" content="A static site pulled from the internet archive">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/wiki.unrealengine.com/assets/css/0.styles.b0e83839.css" as="style"><link rel="preload" href="/wiki.unrealengine.com/assets/js/app.aaf63946.js" as="script"><link rel="preload" href="/wiki.unrealengine.com/assets/js/2.4f53495e.js" as="script"><link rel="preload" href="/wiki.unrealengine.com/assets/js/356.1b0aa20a.js" as="script">
    <link rel="stylesheet" href="/wiki.unrealengine.com/assets/css/0.styles.b0e83839.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wiki.unrealengine.com/" class="home-link router-link-active"><!----> <span class="site-name">wiki.unrealengine.com</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><p>Cel Shading Post Process - Epic Wiki</p> <h1 id="cel-shading-post-process"><a href="#cel-shading-post-process" class="header-anchor">#</a> Cel Shading Post Process</h1> <p><strong>Rate this Page:</strong></p> <p>5.00</p> <p><img src="/extensions/VoteNY/images/star_on.gif" alt=""><img src="/extensions/VoteNY/images/star_on.gif" alt=""><img src="/extensions/VoteNY/images/star_on.gif" alt=""><img src="/extensions/VoteNY/images/star_on.gif" alt=""><img src="/extensions/VoteNY/images/star_on.gif" alt=""> (one vote)</p> <p>Approved for Versions:4.10</p> <p><a href="/File:CellShade.png"><img src="https://d3ar1piqh1oeli.cloudfront.net/a/ab/CellShade.png/900px-CellShade.png" alt=""></a></p> <p><a href="/File:CellShade.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>Final Output</p> <p>Cel shading is an effect where light is broken down into a band or series of bands to create a stylised lighting model. What makes cel shading tricky in UE4 is the limited access to the light vector or light only information. This tutorial will take you through the process of creating a cel shade effect in UE4!</p> <h2 id="contents"><a href="#contents" class="header-anchor">#</a> Contents</h2> <ul><li><a href="#Advantages">1 Advantages</a></li> <li><a href="#Disadvantages">2 Disadvantages</a></li> <li><a href="#Prerequisites">3 Prerequisites</a> <ul><li><a href="#Materials">3.1 Materials</a></li> <li><a href="#Post_process_volume">3.2 Post process volume</a></li></ul></li> <li><a href="#Tutorial">4 Tutorial</a></li> <li><a href="#Author">5 Author</a> <ul><li><a href="#Arran_Langmead">5.1 Arran Langmead</a></li></ul></li></ul> <h2 id="advantages"><a href="#advantages" class="header-anchor">#</a> Advantages</h2> <ul><li>Casts shadows</li> <li>Receives shadows</li> <li>Uses standard UE4 lights</li> <li>Supports normal maps</li></ul> <p><a href="/File:DirectLight.gif"><img src="https://d26ilriwvtzlb.cloudfront.net/5/53/DirectLight.gif" alt=""></a></p> <p>Directional Lighting</p> <p><a href="/File:PointLight.gif"><img src="https://d26ilriwvtzlb.cloudfront.net/4/4a/PointLight.gif" alt=""></a></p> <p>Point Lighting</p> <p><a href="/File:PointLightDup.gif"><img src="https://d26ilriwvtzlb.cloudfront.net/1/1b/PointLightDup.gif" alt=""></a></p> <p>Duplicate lighting</p> <h2 id="disadvantages"><a href="#disadvantages" class="header-anchor">#</a> Disadvantages</h2> <ul><li>Cel shades the entire scene</li> <li>Diffuse and normal only</li> <li>Inefficient</li> <li>Reflections/bloom/Emmisive will break the Post Process</li></ul> <h2 id="prerequisites"><a href="#prerequisites" class="header-anchor">#</a> Prerequisites</h2> <p>Any reflections will interfere with the post process. An understanding of UV distortion and Post process materials is recommended.</p> <h3 id="materials"><a href="#materials" class="header-anchor">#</a> Materials</h3> <p>Any materials that go into this scene must have</p> <ul><li>a roughness value of 1</li> <li>a Metal value of 0</li> <li>a Emmisive value of 0.</li></ul> <h3 id="post-process-volume"><a href="#post-process-volume" class="header-anchor">#</a> Post process volume</h3> <ul><li>set it to Unbound</li> <li>Under Bloom set intensity to 0</li> <li>Under Auto Exposure, set min and max brightness to 2</li></ul> <h2 id="tutorial"><a href="#tutorial" class="header-anchor">#</a> Tutorial</h2> <p>Create a new material and open it. In the details tab, change the Material Domain to Post Process and under the Post Process Material tab change Blendable Location to Before Translucency.</p> <p><a href="/File:PPM_Settings.png"><img src="https://d26ilriwvtzlb.cloudfront.net/f/fd/PPM_Settings.png" alt=""></a></p> <p><a href="/File:PPM_Settings.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>Final Output</p> <p>Add your newly created material to the post process under Blendables. Unreal Engine 4's post process Material doesn't have an accessible lighting channel so we need to hack one together!</p> <p>Right click in the material editor and add two scene texture nodes. Set the first to PostProcessInput0 and the other to Diffuse Colour.</p> <p><a href="/File:PPM_BP1.png"><img src="https://d26ilriwvtzlb.cloudfront.net/b/ba/PPM_BP1.png" alt=""></a></p> <p><a href="/File:PPM_BP1.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>Extract Lighting Map</p> <p><a href="/File:PPMSettings2.png"><img src="https://d26ilriwvtzlb.cloudfront.net/4/43/PPMSettings2.png" alt=""></a></p> <p><a href="/File:PPMSettings2.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>Change Scene Texture</p> <p>Divide PostProcessInput0 by the DiffuseColour to extract the lighting from the scene. Lighting must be grey-scale for this to be accurate so keep light colour white for best results. Finally mask the output by R.</p> <p><a href="/File:LightingOnly.png"><img src="https://d26ilriwvtzlb.cloudfront.net/0/03/LightingOnly.png" alt=""></a></p> <p><a href="/File:LightingOnly.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>Change Scene Texture</p> <p>To band the lighting we will run the output through a textures UV's. The gradient of the lighting will act as a mapping coordinate for the texture, where black is the top pixel and white is the bottom pixel.</p> <p>In photoshop create a texture that is 1(px) x 128(px). Paint the number of bands you want and in the colour you want it.</p> <p><a href="/File:CLUTSetup.png"><img src="https://d26ilriwvtzlb.cloudfront.net/6/62/CLUTSetup.png" alt=""></a></p> <p><a href="/File:CLUTSetup.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>Change Scene Texture</p> <p>Bellow are a few examples with the texture strip used on the left. This technique can be used to create a wide range of effects.</p> <p><a href="/File:BandingDefault.png"><img src="https://d3ar1piqh1oeli.cloudfront.net/1/15/BandingDefault.png/250px-BandingDefault.png" alt=""></a></p> <p><a href="/File:BandingDefault.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>PP with inverted CLUT</p> <p><a href="/File:BandingInvert.png"><img src="https://d3ar1piqh1oeli.cloudfront.net/6/67/BandingInvert.png/250px-BandingInvert.png" alt=""></a></p> <p><a href="/File:BandingInvert.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>PP with inverted CLUT</p> <p><a href="/File:Colourised.png"><img src="https://d3ar1piqh1oeli.cloudfront.net/f/f5/Colourised.png/250px-Colourised.png" alt=""></a></p> <p><a href="/File:Colourised.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>PP with coloured CLUT</p> <p>Import the texture into Unreal and open the settings panel for it. Under texture, untick SRGB, change the tiling method to Clamp and change the filter method to Nearest.</p> <p><a href="/File:TextureImportSetup.png"><img src="https://d26ilriwvtzlb.cloudfront.net/e/ed/TextureImportSetup.png" alt=""></a></p> <p><a href="/File:TextureImportSetup.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>Adjust texture settings</p> <p>Bring the texture into your post process material and input your Mask (R) into its UV's.</p> <p><a href="/File:BandedLighting.png"><img src="https://d3ar1piqh1oeli.cloudfront.net/9/96/BandedLighting.png/900px-BandedLighting.png" alt=""></a></p> <p><a href="/File:BandedLighting.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>PP with banded lighting</p> <p>Now we have the lighting banding in, all that's left is to reintroduce the diffuse. Mask out the Alpha of the diffuse colour and multiply the banded lighting by the diffuse.</p> <p><a href="/File:FinalPost.png"><img src="https://d3ar1piqh1oeli.cloudfront.net/9/99/FinalPost.png/900px-FinalPost.png" alt=""></a></p> <p><a href="/File:FinalPost.png" title="Enlarge"><img src="/skins/common/images/magnify-clip.png" alt=""></a></p> <p>PP setup plugged into emmisive</p> <p>That's all there is to it, I hope you found this quick guide to cel shading in Unreal Engine 4 useful and look forward to seeing what you do with it.</p> <h2 id="author"><a href="#author" class="header-anchor">#</a> Author</h2> <h3 id="arran-langmead"><a href="#arran-langmead" class="header-anchor">#</a> Arran Langmead</h3> <p><a href="/index.php?title=User:AzzaMat&amp;action=edit&amp;redlink=1" title="User:AzzaMat (page does not exist)">AzzaMat User Page</a></p> <p><a href="http://www.strangelynamed.com/#bcd-01" target="_blank" rel="noopener noreferrer">Website<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://twitter.com/arranlangmead" target="_blank" rel="noopener noreferrer">Twitter<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>Retrieved from &quot;<a href="https://wiki.unrealengine.com/index.php?title=Cel_Shading_Post_Process&amp;oldid=22051" target="_blank" rel="noopener noreferrer">https://wiki.unrealengine.com/index.php?title=Cel_Shading_Post_Process&amp;oldid=22051<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>&quot;</p> <p><a href="/Special:Categories" title="Special:Categories">Categories</a>:</p> <ul><li><a href="/Category:Tutorials" title="Category:Tutorials">Tutorials</a></li> <li><a href="/index.php?title=Category:Post_Process&amp;action=edit&amp;redlink=1" title="Category:Post Process (page does not exist)">Post Process</a></li> <li><a href="/Category:Community_Created_Content" title="Category:Community Created Content">Community Created Content</a></li></ul> <p>Hidden category:</p> <ul><li><a href="/Category:Templates" title="Category:Templates">Templates</a></li></ul> <p><img src="https://tracking.unrealengine.com/track.png" alt=""></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/wiki.unrealengine.com/assets/js/app.aaf63946.js" defer></script><script src="/wiki.unrealengine.com/assets/js/2.4f53495e.js" defer></script><script src="/wiki.unrealengine.com/assets/js/356.1b0aa20a.js" defer></script>
  </body>
</html>
